(self.webpackChunkpixel_font_generator=self.webpackChunkpixel_font_generator||[]).push([[179],{639:(Ai,ea,su)=>{"use strict";function De(e){return"function"==typeof e}function Oi(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Fi=Oi(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ar(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Ft{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const l of n)l.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(De(r))try{r()}catch(l){t=l instanceof Fi?l.errors:[l]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const l of i)try{uu(l)}catch(d){t=t??[],d instanceof Fi?t=[...t,...d.errors]:t.push(d)}}if(t)throw new Fi(t)}}add(t){var n;if(t&&t!==this)if(this.closed)uu(t);else{if(t instanceof Ft){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Ar(n,t)}remove(t){const{_finalizers:n}=this;n&&Ar(n,t),t instanceof Ft&&t._removeParent(this)}}Ft.EMPTY=(()=>{const e=new Ft;return e.closed=!0,e})();const au=Ft.EMPTY;function lu(e){return e instanceof Ft||e&&"closed"in e&&De(e.remove)&&De(e.add)&&De(e.unsubscribe)}function uu(e){De(e)?e():e.unsubscribe()}const Or={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ki={setTimeout(e,t,...n){const{delegate:r}=ki;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=ki;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ta(e){ki.setTimeout(()=>{const{onUnhandledError:t}=Or;if(!t)throw e;t(e)})}function to(){}const cu=Ri("C",void 0,void 0);function Ri(e,t,n){return{kind:e,value:t,error:n}}let mr=null;function no(e){if(Or.useDeprecatedSynchronousErrorHandling){const t=!mr;if(t&&(mr={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=mr;if(mr=null,n)throw r}}else e()}class Ni extends Ft{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,lu(t)&&t.add(this)):this.destination=oa}static create(t,n,r){return new Gt(t,n,r)}next(t){this.isStopped?Pi(function af(e){return Ri("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Pi(function Lo(e){return Ri("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Pi(cu,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const du=Function.prototype.bind;function ra(e,t){return du.call(e,t)}class fu{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Vo(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Vo(r)}else Vo(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Vo(n)}}}class Gt extends Ni{constructor(t,n,r){let i;if(super(),De(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let l;this&&Or.useDeprecatedNextContext?(l=Object.create(t),l.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&ra(t.next,l),error:t.error&&ra(t.error,l),complete:t.complete&&ra(t.complete,l)}):i=t}this.destination=new fu(i)}}function Vo(e){Or.useDeprecatedSynchronousErrorHandling?function na(e){Or.useDeprecatedSynchronousErrorHandling&&mr&&(mr.errorThrown=!0,mr.error=e)}(e):ta(e)}function Pi(e,t){const{onStoppedNotification:n}=Or;n&&ki.setTimeout(()=>n(e,t))}const oa={closed:!0,next:to,error:function lf(e){throw e},complete:to},ia="function"==typeof Symbol&&Symbol.observable||"@@observable";function hn(e){return e}let ze=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const l=function ro(e){return e&&e instanceof Ni||function mu(e){return e&&De(e.next)&&De(e.error)&&De(e.complete)}(e)&&lu(e)}(n)?n:new Gt(n,r,i);return no(()=>{const{operator:d,source:h}=this;l.add(d?d.call(l,h):h?this._subscribe(l):this._trySubscribe(l))}),l}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=gu(r))((i,l)=>{const d=new Gt({next:h=>{try{n(h)}catch(g){l(g),d.unsubscribe()}},error:l,complete:i});this.subscribe(d)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ia](){return this}pipe(...n){return function pu(e){return 0===e.length?hn:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=gu(n))((r,i)=>{let l;this.subscribe(d=>l=d,d=>i(d),()=>r(l))})}}return e.create=t=>new e(t),e})();function gu(e){var t;return null!==(t=e??Or.Promise)&&void 0!==t?t:Promise}const Fr=Oi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let yr=(()=>{class e extends ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new nt(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Fr}next(n){no(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){no(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){no(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:l}=this;return r||i?au:(this.currentObservers=null,l.push(n),new Ft(()=>{this.currentObservers=null,Ar(l,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:l}=this;r?n.error(i):l&&n.complete()}asObservable(){const n=new ze;return n.source=this,n}}return e.create=(t,n)=>new nt(t,n),e})();class nt extends yr{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:au}}function oo(e){return De(e?.lift)}function en(e){return t=>{if(oo(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $t(e,t,n,r,i){return new uf(e,t,n,r,i)}class uf extends Ni{constructor(t,n,r,i,l,d){super(t),this.onFinalize=l,this.shouldUnsubscribe=d,this._next=n?function(h){try{n(h)}catch(g){t.error(g)}}:super._next,this._error=i?function(h){try{i(h)}catch(g){t.error(g)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(h){t.error(h)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function wn(e,t){return en((n,r)=>{let i=0;n.subscribe($t(r,l=>{r.next(e.call(t,l,i++))}))})}function Nn(e){return this instanceof Nn?(this.v=e,this):new Nn(e)}function Xe(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),l=[];return i={},d("next"),d("throw"),d("return"),i[Symbol.asyncIterator]=function(){return this},i;function d(E){r[E]&&(i[E]=function(T){return new Promise(function(O,k){l.push([E,T,O,k])>1||h(E,T)})})}function h(E,T){try{!function g(E){E.value instanceof Nn?Promise.resolve(E.value.v).then(v,C):_(l[0][2],E)}(r[E](T))}catch(O){_(l[0][3],O)}}function v(E){h("next",E)}function C(E){h("throw",E)}function _(E,T){E(T),l.shift(),l.length&&h(l[0][0],l[0][1])}}function ca(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function yu(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(l){n[l]=e[l]&&function(d){return new Promise(function(h,g){!function i(l,d,h,g){Promise.resolve(g).then(function(v){l({value:v,done:h})},d)}(h,g,(d=e[l](d)).done,d.value)})}}}const Vi=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Go(e){return De(e?.then)}function vu(e){return De(e[ia])}function ga(e){return Symbol.asyncIterator&&De(e?.[Symbol.asyncIterator])}function Ui(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ma=function hf(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function bu(e){return De(e?.[ma])}function Du(e){return Xe(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Nn(n.read());if(i)return yield Nn(void 0);yield yield Nn(r)}}finally{n.releaseLock()}})}function Cu(e){return De(e?.getReader)}function pn(e){if(e instanceof ze)return e;if(null!=e){if(vu(e))return function pf(e){return new ze(t=>{const n=e[ia]();if(De(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Vi(e))return function Et(e){return new ze(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(Go(e))return function A(e){return new ze(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,ta)})}(e);if(ga(e))return H(e);if(bu(e))return function _u(e){return new ze(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Cu(e))return function Bi(e){return H(Du(e))}(e)}throw Ui(e)}function H(e){return new ze(t=>{(function wu(e,t){var n,r,i,l;return function Sn(e,t,n,r){return new(n||(n=Promise))(function(l,d){function h(C){try{v(r.next(C))}catch(_){d(_)}}function g(C){try{v(r.throw(C))}catch(_){d(_)}}function v(C){C.done?l(C.value):function i(l){return l instanceof n?l:new n(function(d){d(l)})}(C.value).then(h,g)}v((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=ca(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(d){i={error:d}}finally{try{r&&!r.done&&(l=n.return)&&(yield l.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function vr(e,t,n,r=0,i=!1){const l=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(l),!i)return l}function Hi(e,t,n=1/0){return De(t)?Hi((r,i)=>wn((l,d)=>t(r,l,i,d))(pn(e(r,i))),n):("number"==typeof t&&(n=t),en((r,i)=>function Su(e,t,n,r,i,l,d,h){const g=[];let v=0,C=0,_=!1;const E=()=>{_&&!g.length&&!v&&t.complete()},T=k=>v<r?O(k):g.push(k),O=k=>{l&&t.next(k),v++;let P=!1;pn(n(k,C++)).subscribe($t(t,V=>{i?.(V),l?T(V):t.next(V)},()=>{P=!0},void 0,()=>{if(P)try{for(v--;g.length&&v<r;){const V=g.shift();d?vr(t,d,()=>O(V)):O(V)}E()}catch(V){t.error(V)}}))};return e.subscribe($t(t,T,()=>{_=!0,E()})),()=>{h?.()}}(r,i,e,n)))}function ji(e=1/0){return Hi(hn,e)}const ya=new ze(e=>e.complete());function ba(e){return e&&De(e.schedule)}function Da(e){return e[e.length-1]}function io(e){return ba(Da(e))?e.pop():void 0}function xu(e,t=0){return en((n,r)=>{n.subscribe($t(r,i=>vr(r,e,()=>r.next(i),t),()=>vr(r,e,()=>r.complete(),t),i=>vr(r,e,()=>r.error(i),t)))})}function Ca(e,t=0){return en((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Tu(e,t){if(!e)throw new Error("Iterable cannot be null");return new ze(n=>{vr(n,t,()=>{const r=e[Symbol.asyncIterator]();vr(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function $i(e,t){return t?function bf(e,t){if(null!=e){if(vu(e))return function mf(e,t){return pn(e).pipe(Ca(t),xu(t))}(e,t);if(Vi(e))return function Iu(e,t){return new ze(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(Go(e))return function Gi(e,t){return pn(e).pipe(Ca(t),xu(t))}(e,t);if(ga(e))return Tu(e,t);if(bu(e))return function yf(e,t){return new ze(n=>{let r;return vr(n,t,()=>{r=e[ma](),vr(n,t,()=>{let i,l;try{({value:i,done:l}=r.next())}catch(d){return void n.error(d)}l?n.complete():n.next(i)},0,!0)}),()=>De(r?.return)&&r.return()})}(e,t);if(Cu(e))return function vf(e,t){return Tu(Du(e),t)}(e,t)}throw Ui(e)}(e,t):pn(e)}function _a(...e){const t=io(e),n=function Eu(e,t){return"number"==typeof Da(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?pn(r[0]):ji(n)($i(r,t)):ya}function wa(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Gt({next:()=>{r.unsubscribe(),e()}});return t(...n).subscribe(r)}function ke(e){for(let t in e)if(e[t]===ke)return t;throw Error("Could not find renamed property on target object.")}function so(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ve(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ve).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Sa(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Cf=ke({__forward_ref__:ke});function Re(e){return e.__forward_ref__=Re,e.toString=function(){return Ve(this())},e}function ee(e){return Qn(e)?e():e}function Qn(e){return"function"==typeof e&&e.hasOwnProperty(Cf)&&e.__forward_ref__===Re}function zi(e){return e&&!!e.\u0275providers}class j extends Error{constructor(t,n){super(function Wi(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,n)),this.code=t}}function Te(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function ae(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function qi(e,t){throw new j(-201,!1)}function Rt(e,t){null==e&&function Me(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Ne(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function it(e){return{providers:e.providers||[],imports:e.imports||[]}}function Yi(e){return Au(e,Dr)||Au(e,Ou)}function Au(e,t){return e.hasOwnProperty(t)?e[t]:null}function Xi(e){return e&&(e.hasOwnProperty(Wo)||e.hasOwnProperty(Fu))?e[Wo]:null}const Dr=ke({\u0275prov:ke}),Wo=ke({\u0275inj:ke}),Ou=ke({ngInjectableDef:ke}),Fu=ke({ngInjectorDef:ke});var re=(()=>((re=re||{})[re.Default=0]="Default",re[re.Host=1]="Host",re[re.Self=2]="Self",re[re.SkipSelf=4]="SkipSelf",re[re.Optional=8]="Optional",re))();let Zi;function gn(e){const t=Zi;return Zi=e,t}function Ru(e,t,n){const r=Yi(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&re.Optional?null:void 0!==t?t:void qi(Ve(e))}const Ue=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),qo={},Yo="ngTempTokenPath",Lu=/\n/gm,Aa="__source";let Xo;function uo(e){const t=Xo;return Xo=e,t}function Vu(e,t=re.Default){if(void 0===Xo)throw new j(-203,!1);return null===Xo?Ru(e,void 0,t):Xo.get(e,t&re.Optional?null:void 0,t)}function we(e,t=re.Default){return(function ku(){return Zi}()||Vu)(ee(e),t)}function Ki(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Fa(e){const t=[];for(let n=0;n<e.length;n++){const r=ee(e[n]);if(Array.isArray(r)){if(0===r.length)throw new j(900,!1);let i,l=re.Default;for(let d=0;d<r.length;d++){const h=r[d],g=Of(h);"number"==typeof g?-1===g?i=h.token:l|=g:i=h}t.push(we(i,l))}else t.push(we(r))}return t}function Of(e){return e.__NG_DI_FLAG__}function Pn(e){return{toString:e}.toString()}var xn=(()=>((xn=xn||{})[xn.OnPush=0]="OnPush",xn[xn.Default=1]="Default",xn))(),Ln=(()=>{return(e=Ln||(Ln={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Ln;var e})();const er={},Ie=[],Qi=ke({\u0275cmp:ke}),ka=ke({\u0275dir:ke}),Ra=ke({\u0275pipe:ke}),Bu=ke({\u0275mod:ke}),Vn=ke({\u0275fac:ke}),Ko=ke({__NG_ELEMENT_ID__:ke});let Nf=0;function tr(e){return Pn(()=>{const n=!0===e.standalone,r={},i={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===xn.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||Ie,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Ln.Emulated,id:"c"+Nf++,styles:e.styles||Ie,_:null,setInput:null,schemas:e.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},l=e.dependencies,d=e.features;return i.inputs=ju(e.inputs,r),i.outputs=ju(e.outputs),d&&d.forEach(h=>h(i)),i.directiveDefs=l?()=>("function"==typeof l?l():l).map(Hu).filter(Na):null,i.pipeDefs=l?()=>("function"==typeof l?l():l).map(Tt).filter(Na):null,i})}function Hu(e){return Ae(e)||It(e)}function Na(e){return null!==e}function In(e){return Pn(()=>({type:e.type,bootstrap:e.bootstrap||Ie,declarations:e.declarations||Ie,imports:e.imports||Ie,exports:e.exports||Ie,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ju(e,t){if(null==e)return er;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],l=i;Array.isArray(i)&&(l=i[1],i=i[0]),n[i]=r,t&&(t[i]=l)}return n}const le=tr;function Ae(e){return e[Qi]||null}function It(e){return e[ka]||null}function Tt(e){return e[Ra]||null}function tn(e){return Array.isArray(e)&&"object"==typeof e[1]}function Mn(e){return Array.isArray(e)&&!0===e[1]}function ns(e){return 0!=(4&e.flags)}function ni(e){return e.componentOffset>-1}function rs(e){return 1==(1&e.flags)}function mn(e){return null!==e.template}function Uf(e){return 0!=(256&e[2])}function Rr(e,t){return e.hasOwnProperty(Vn)?e[Vn]:null}class qf{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function yn(){return qu}function qu(e){return e.type.prototype.ngOnChanges&&(e.setInput=Yf),Yu}function Yu(){const e=Xu(this),t=e?.current;if(t){const n=e.previous;if(n===er)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Yf(e,t,n,r){const i=this.declaredInputs[n],l=Xu(e)||function nn(e,t){return e[ja]=t}(e,{previous:er,current:null}),d=l.current||(l.current={}),h=l.previous,g=h[i];d[i]=new qf(g&&g.currentValue,t,h===er),e[r]=t}yn.ngInherit=!0;const ja="__ngSimpleChanges__";function Xu(e){return e[ja]||null}function Dt(e){for(;Array.isArray(e);)e=e[0];return e}function on(e,t){return Dt(t[e.index])}function Qu(e,t){return e.data[t]}function Wt(e,t){const n=t[e];return tn(n)?n:n[0]}function Nr(e){return 64==(64&e[2])}function Hn(e,t){return null==t?null:e[t]}function Ga(e){e[18]=0}function $a(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const ue={lFrame:dc(null),bindingsEnabled:!0};function Cr(){return ue.bindingsEnabled}function R(){return ue.lFrame.lView}function _e(){return ue.lFrame.tView}function Ct(){let e=oc();for(;null!==e&&64===e.type;)e=e.parent;return e}function oc(){return ue.lFrame.currentTNode}function An(e,t){const n=ue.lFrame;n.currentTNode=e,n.isParent=t}function vn(){return ue.lFrame.isParent}function sc(e,t){const n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=e,as(t)}function as(e){ue.lFrame.currentDirectiveIndex=e}function lc(){return ue.lFrame.currentQueryIndex}function Xa(e){ue.lFrame.currentQueryIndex=e}function nh(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function uc(e,t,n){if(n&re.SkipSelf){let i=t,l=e;for(;!(i=i.parent,null!==i||n&re.Host||(i=nh(l),null===i||(l=l[15],10&i.type))););if(null===i)return!1;t=i,e=l}const r=ue.lFrame=cc();return r.currentTNode=t,r.lView=e,!0}function Za(e){const t=cc(),n=e[1];ue.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function cc(){const e=ue.lFrame,t=null===e?null:e.child;return null===t?dc(e):t}function dc(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function fc(){const e=ue.lFrame;return ue.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const hc=fc;function Ka(){const e=fc();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Lt(){return ue.lFrame.selectedIndex}function Pr(e){ue.lFrame.selectedIndex=e}function ls(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const l=e.data[n].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:h,ngAfterViewInit:g,ngAfterViewChecked:v,ngOnDestroy:C}=l;d&&(e.contentHooks||(e.contentHooks=[])).push(-n,d),h&&((e.contentHooks||(e.contentHooks=[])).push(n,h),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,h)),g&&(e.viewHooks||(e.viewHooks=[])).push(-n,g),v&&((e.viewHooks||(e.viewHooks=[])).push(n,v),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,v)),null!=C&&(e.destroyHooks||(e.destroyHooks=[])).push(n,C)}}function us(e,t,n){pc(e,t,3,n)}function cs(e,t,n,r){(3&e[2])===n&&pc(e,t,n,r)}function Ja(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function pc(e,t,n,r){const l=r??-1,d=t.length-1;let h=0;for(let g=void 0!==r?65535&e[18]:0;g<d;g++)if("number"==typeof t[g+1]){if(h=t[g],null!=r&&h>=r)break}else t[g]<0&&(e[18]+=65536),(h<l||-1==l)&&(ch(e,n,t,g),e[18]=(4294901760&e[18])+g+2),g++}function ch(e,t,n,r){const i=n[r]<0,l=n[r+1],h=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{l.call(h)}finally{}}}else try{l.call(h)}finally{}}class si{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function el(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const l=n[r++],d=n[r++],h=n[r++];e.setAttribute(t,d,h,l)}else{const l=i,d=n[++r];tl(l)?e.setProperty(t,l,d):e.setAttribute(t,l,d),r++}}return r}function yc(e){return 3===e||4===e||6===e}function tl(e){return 64===e.charCodeAt(0)}function ai(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||vc(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function vc(e,t,n,r,i){let l=0,d=e.length;if(-1===t)d=-1;else for(;l<e.length;){const h=e[l++];if("number"==typeof h){if(h===t){d=-1;break}if(h>t){d=l-1;break}}}for(;l<e.length;){const h=e[l];if("number"==typeof h)break;if(h===n){if(null===r)return void(null!==i&&(e[l+1]=i));if(r===e[l+1])return void(e[l+2]=i)}l++,null!==r&&l++,null!==i&&l++}-1!==d&&(e.splice(d,0,t),l=d+1),e.splice(l++,0,n),null!==r&&e.splice(l++,0,r),null!==i&&e.splice(l++,0,i)}function bc(e){return-1!==e}function fs(e){return 32767&e}function hs(e,t){let n=function gh(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let ps=!0;function li(e){const t=ps;return ps=e,t}let mh=0;const $n={};function gs(e,t){const n=_c(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,nl(r.data,e),nl(t,null),nl(r.blueprint,null));const i=rl(e,t),l=e.injectorIndex;if(bc(i)){const d=fs(i),h=hs(i,t),g=h[1].data;for(let v=0;v<8;v++)t[l+v]=h[d+v]|g[d+v]}return t[l+8]=i,l}function nl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function _c(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function rl(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=Tc(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function ol(e,t,n){!function yh(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ko)&&(r=n[Ko]),null==r&&(r=n[Ko]=mh++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function wc(e,t,n){if(n&re.Optional||void 0!==e)return e;qi()}function Sc(e,t,n,r){if(n&re.Optional&&void 0===r&&(r=null),!(n&(re.Self|re.Host))){const i=e[9],l=gn(void 0);try{return i?i.get(t,r,n&re.Optional):Ru(t,r,n&re.Optional)}finally{gn(l)}}return wc(r,0,n)}function Ec(e,t,n,r=re.Default,i){if(null!==e){if(1024&t[2]){const d=function vs(e,t,n,r,i){let l=e,d=t;for(;null!==l&&null!==d&&1024&d[2]&&!(256&d[2]);){const h=ms(l,d,n,r|re.Self,$n);if(h!==$n)return h;let g=l.parent;if(!g){const v=d[21];if(v){const C=v.get(n,$n,r);if(C!==$n)return C}g=Tc(d),d=d[15]}l=g}return i}(e,t,n,r,$n);if(d!==$n)return d}const l=ms(e,t,n,r,$n);if(l!==$n)return l}return Sc(t,n,r,i)}function ms(e,t,n,r,i){const l=function Dh(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ko)?e[Ko]:void 0;return"number"==typeof t?t>=0?255&t:Ch:t}(n);if("function"==typeof l){if(!uc(t,e,r))return r&re.Host?wc(i,0,r):Sc(t,n,r,i);try{const d=l(r);if(null!=d||r&re.Optional)return d;qi()}finally{hc()}}else if("number"==typeof l){let d=null,h=_c(e,t),g=-1,v=r&re.Host?t[16][6]:null;for((-1===h||r&re.SkipSelf)&&(g=-1===h?rl(e,t):t[h+8],-1!==g&&Ic(r,!1)?(d=t[1],h=fs(g),t=hs(g,t)):h=-1);-1!==h;){const C=t[1];if(xc(l,h,C.data)){const _=bh(h,t,n,d,r,v);if(_!==$n)return _}g=t[h+8],-1!==g&&Ic(r,t[1].data[h+8]===v)&&xc(l,h,t)?(d=C,h=fs(g),t=hs(g,t)):h=-1}}return i}function bh(e,t,n,r,i,l){const d=t[1],h=d.data[e+8],C=ys(h,d,n,null==r?ni(h)&&ps:r!=d&&0!=(3&h.type),i&re.Host&&l===h);return null!==C?Lr(t,d,C,h):$n}function ys(e,t,n,r,i){const l=e.providerIndexes,d=t.data,h=1048575&l,g=e.directiveStart,C=l>>20,E=i?h+C:e.directiveEnd;for(let T=r?h:h+C;T<E;T++){const O=d[T];if(T<g&&n===O||T>=g&&O.type===n)return T}if(i){const T=d[g];if(T&&mn(T)&&T.type===n)return g}return null}function Lr(e,t,n,r){let i=e[n];const l=t.data;if(function gc(e){return e instanceof si}(i)){const d=i;d.resolving&&function wf(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new j(-200,`Circular dependency in DI detected for ${e}${n}`)}(Te(l[n]));const h=li(d.canSeeViewProviders);d.resolving=!0;const g=d.injectImpl?gn(d.injectImpl):null;uc(e,r,re.Default);try{i=e[n]=d.factory(void 0,l,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Qa(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:l}=t.type.prototype;if(r){const d=qu(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,d),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,d)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),l&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,l),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,l))}(n,l[n],t)}finally{null!==g&&gn(g),li(h),d.resolving=!1,hc()}}return i}function xc(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Ic(e,t){return!(e&re.Self||e&re.Host&&t)}class yo{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Ec(this._tNode,this._lView,t,Ki(r),n)}}function Ch(){return new yo(Ct(),R())}function il(e){return Qn(e)?()=>{const t=il(ee(e));return t&&t()}:Rr(e)}function Tc(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}class se{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ne({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Br(e,t){e.forEach(n=>Array.isArray(n)?Br(n,t):t(n))}function sr(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function fi(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function rt(e,t,n){let r=_o(e,t);return r>=0?e[1|r]=n:(r=~r,function Eh(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Fn(e,t){const n=_o(e,t);if(n>=0)return e[1|n]}function _o(e,t){return function Ds(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const l=r+(i-r>>1),d=e[l<<n];if(t===d)return l<<n;d>t?i=l:r=l+1}return~(i<<n)}(e,t,1)}var qt=(()=>((qt=qt||{})[qt.Important=1]="Important",qt[qt.DashCase=2]="DashCase",qt))();const pl=new Map;let Wh=0;const mi="__ngContext__";function ce(e,t){tn(t)?(e[mi]=t[20],function qh(e){pl.set(e[20],e)}(t)):e[mi]=t}function ml(e,t){return undefined(e,t)}function yi(e){const t=e[3];return Mn(t)?t[3]:t}function yl(e){return qc(e[13])}function vl(e){return qc(e[4])}function qc(e){for(;null!==e&&!Mn(e);)e=e[4];return e}function Eo(e,t,n,r,i){if(null!=r){let l,d=!1;Mn(r)?l=r:tn(r)&&(d=!0,r=r[0]);const h=Dt(r);0===e&&null!==n?null==i?w(t,n,h):S(t,n,h,i||null,!0):1===e&&null!==n?S(t,n,h,i||null,!0):2===e?function Ke(e,t,n){const r=F(e,t);r&&function x(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,h,d):3===e&&t.destroyNode(h),null!=l&&function Q(e,t,n,r,i){const l=n[7];l!==Dt(n)&&Eo(t,e,r,l,i);for(let h=10;h<n.length;h++){const g=n[h];ye(g[1],g,e,t,r,l)}}(t,e,l,n,i)}}function Ee(e,t,n){return e.createElement(t,n)}function u(e,t){const n=e[9],r=n.indexOf(t),i=t[3];512&t[2]&&(t[2]&=-513,$a(i,-1)),n.splice(r,1)}function c(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const i=r[17];null!==i&&i!==e&&u(i,r),t>0&&(e[n-1][4]=r[4]);const l=fi(e,10+t);!function ip(e,t){ye(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const d=l[19];null!==d&&d.detachView(l[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function f(e,t){if(!(128&t[2])){const n=t[11];n.destroyNode&&ye(e,t,n,3,null,null),function o(e){let t=e[13];if(!t)return p(e[1],e);for(;t;){let n=null;if(tn(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)tn(t)&&p(t[1],t),t=t[3];null===t&&(t=e),tn(t)&&p(t[1],t),n=t&&t[4]}t=n}}(t)}}function p(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function y(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof si)){const l=n[r+1];if(Array.isArray(l))for(let d=0;d<l.length;d+=2){const h=i[l[d]],g=l[d+1];try{g.call(h)}finally{}}else try{l.call(i)}finally{}}}}(e,t),function m(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let l=0;l<n.length-1;l+=2)if("string"==typeof n[l]){const d=n[l+3];d>=0?r[i=d]():r[i=-d].unsubscribe(),l+=2}else{const d=r[i=n[l+1]];n[l].call(d)}if(null!==r){for(let l=i+1;l<r.length;l++)(0,r[l])();t[7]=null}}(e,t),1===t[1].type&&t[11].destroy();const n=t[17];if(null!==n&&Mn(t[3])){n!==t[3]&&u(n,t);const r=t[19];null!==r&&r.detachView(e)}!function Yh(e){pl.delete(e[20])}(t)}}function D(e,t,n){return function b(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:l}=e.data[r.directiveStart+i];if(l===Ln.None||l===Ln.Emulated)return null}return on(r,n)}}(e,t.parent,n)}function S(e,t,n,r,i){e.insertBefore(t,n,r,i)}function w(e,t,n){e.appendChild(t,n)}function I(e,t,n,r,i){null!==r?S(e,t,n,r,i):w(e,t,n)}function F(e,t){return e.parentNode(t)}let Pe,me=function K(e,t,n){return 40&e.type?on(e,n):null};function xe(e,t,n,r){const i=D(e,r,t),l=t[11],h=function Z(e,t,n){return me(e,t,n)}(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let g=0;g<n.length;g++)I(l,i,n[g],h,!1);else I(l,i,n,h,!1)}function ft(e,t){if(null!==t){const n=t.type;if(3&n)return on(t,e);if(4&n)return be(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return ft(e,r);{const i=e[t.index];return Mn(i)?be(-1,i):Dt(i)}}if(32&n)return ml(t,e)()||Dt(e[t.index]);{const r=Vt(e,t);return null!==r?Array.isArray(r)?r[0]:ft(yi(e[16]),r):ft(e,t.next)}}return null}function Vt(e,t){return null!==t?e[16][6].projection[t.projection]:null}function be(e,t){const n=10+e+1;if(n<t.length){const r=t[n],i=r[1].firstChild;if(null!==i)return ft(r,i)}return t[7]}function Ut(e,t,n,r,i,l,d){for(;null!=n;){const h=r[n.index],g=n.type;if(d&&0===t&&(h&&ce(Dt(h),r),n.flags|=2),32!=(32&n.flags))if(8&g)Ut(e,t,n.child,r,i,l,!1),Eo(t,e,i,h,l);else if(32&g){const v=ml(n,r);let C;for(;C=v();)Eo(t,e,i,C,l);Eo(t,e,i,h,l)}else 16&g?te(e,t,r,n,i,l):Eo(t,e,i,h,l);n=d?n.projectionNext:n.next}}function ye(e,t,n,r,i,l){Ut(n,r,e.firstChild,t,i,l,!1)}function te(e,t,n,r,i,l){const d=n[16],g=d[6].projection[r.projection];if(Array.isArray(g))for(let v=0;v<g.length;v++)Eo(t,e,i,g[v],l);else Ut(e,t,g,d[3],i,l,!0)}function zn(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function ht(e,t,n){const{mergedAttrs:r,classes:i,styles:l}=n;null!==r&&el(e,t,r),null!==i&&zn(e,t,i),null!==l&&function xo(e,t,n){e.setAttribute(t,"style",n)}(e,t,l)}class vi{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const by=new se("ENVIRONMENT_INITIALIZER"),Dy=new se("INJECTOR",-1),Cy=new se("INJECTOR_DEF_TYPES");class _y{get(t,n=qo){if(n===qo){const r=new Error(`NullInjectorError: No provider for ${Ve(t)}!`);throw r.name="NullInjectorError",r}return n}}function NC(...e){return{\u0275providers:wy(0,e),\u0275fromNgModule:!0}}function wy(e,...t){const n=[],r=new Set;let i;return Br(t,l=>{const d=l;hp(d,n,[],r)&&(i||(i=[]),i.push(d))}),void 0!==i&&Sy(i,n),n}function Sy(e,t){for(let n=0;n<e.length;n++){const{providers:i}=e[n];pp(i,l=>{t.push(l)})}}function hp(e,t,n,r){if(!(e=ee(e)))return!1;let i=null,l=Xi(e);const d=!l&&Ae(e);if(l||d){if(d&&!d.standalone)return!1;i=e}else{const g=e.ngModule;if(l=Xi(g),!l)return!1;i=g}const h=r.has(i);if(d){if(h)return!1;if(r.add(i),d.dependencies){const g="function"==typeof d.dependencies?d.dependencies():d.dependencies;for(const v of g)hp(v,t,n,r)}}else{if(!l)return!1;{if(null!=l.imports&&!h){let v;r.add(i);try{Br(l.imports,C=>{hp(C,t,n,r)&&(v||(v=[]),v.push(C))})}finally{}void 0!==v&&Sy(v,t)}if(!h){const v=Rr(i)||(()=>new i);t.push({provide:i,useFactory:v,deps:Ie},{provide:Cy,useValue:i,multi:!0},{provide:by,useValue:()=>we(i),multi:!0})}const g=l.providers;null==g||h||pp(g,C=>{t.push(C)})}}return i!==e&&void 0!==e.providers}function pp(e,t){for(let n of e)zi(n)&&(n=n.\u0275providers),Array.isArray(n)?pp(n,t):t(n)}const PC=ke({provide:String,useValue:ke});function gp(e){return null!==e&&"object"==typeof e&&PC in e}function bi(e){return"function"==typeof e}const mp=new se("Set Injector scope."),Kc={},VC={};let yp;function Qc(){return void 0===yp&&(yp=new _y),yp}class Ts{}class Iy extends Ts{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bp(t,d=>this.processProvider(d)),this.records.set(Dy,Ms(void 0,this)),i.has("environment")&&this.records.set(Ts,Ms(void 0,this));const l=this.records.get(mp);null!=l&&"string"==typeof l.value&&this.scopes.add(l.value),this.injectorDefTypes=new Set(this.get(Cy.multi,Ie,re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=uo(this),r=gn(void 0);try{return t()}finally{uo(n),gn(r)}}get(t,n=qo,r=re.Default){this.assertNotDestroyed(),r=Ki(r);const i=uo(this),l=gn(void 0);try{if(!(r&re.SkipSelf)){let h=this.records.get(t);if(void 0===h){const g=function GC(e){return"function"==typeof e||"object"==typeof e&&e instanceof se}(t)&&Yi(t);h=g&&this.injectableDefInScope(g)?Ms(vp(t),Kc):null,this.records.set(t,h)}if(null!=h)return this.hydrate(t,h)}return(r&re.Self?Qc():this.parent).get(t,n=r&re.Optional&&n===qo?null:n)}catch(d){if("NullInjectorError"===d.name){if((d[Yo]=d[Yo]||[]).unshift(Ve(t)),i)throw d;return function Ff(e,t,n,r){const i=e[Yo];throw t[Aa]&&i.unshift(t[Aa]),e.message=function kf(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Ve(t);if(Array.isArray(t))i=t.map(Ve).join(" -> ");else if("object"==typeof t){let l=[];for(let d in t)if(t.hasOwnProperty(d)){let h=t[d];l.push(d+":"+("string"==typeof h?JSON.stringify(h):Ve(h)))}i=`{${l.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Lu,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[Yo]=null,e}(d,t,"R3InjectorError",this.source)}throw d}finally{gn(l),uo(i)}}resolveInjectorInitializers(){const t=uo(this),n=gn(void 0);try{const r=this.get(by.multi,Ie,re.Self);for(const i of r)i()}finally{uo(t),gn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Ve(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(t){let n=bi(t=ee(t))?t:ee(t&&t.provide);const r=function BC(e){return gp(e)?Ms(void 0,e.useValue):Ms(Ty(e),Kc)}(t);if(bi(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ms(void 0,Kc,!0),i.factory=()=>Fa(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Kc&&(n.value=VC,n.value=n.factory()),"object"==typeof n.value&&n.value&&function jC(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=ee(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function vp(e){const t=Yi(e),n=null!==t?t.factory:Rr(e);if(null!==n)return n;if(e instanceof se)throw new j(204,!1);if(e instanceof Function)return function UC(e){const t=e.length;if(t>0)throw function bn(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new j(204,!1);const n=function Tf(e){const t=e&&(e[Dr]||e[Ou]);if(t){const n=function Mf(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new j(204,!1)}function Ty(e,t,n){let r;if(bi(e)){const i=ee(e);return Rr(i)||vp(i)}if(gp(e))r=()=>ee(e.useValue);else if(function xy(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Fa(e.deps||[]));else if(function Ey(e){return!(!e||!e.useExisting)}(e))r=()=>we(ee(e.useExisting));else{const i=ee(e&&(e.useClass||e.provide));if(!function HC(e){return!!e.deps}(e))return Rr(i)||vp(i);r=()=>new i(...Fa(e.deps))}return r}function Ms(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function bp(e,t){for(const n of e)Array.isArray(n)?bp(n,t):n&&zi(n)?bp(n.\u0275providers,t):t(n)}class $C{}class My{}class WC{resolveComponentFactory(t){throw function zC(e){const t=Error(`No component factory found for ${Ve(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Jc=(()=>{class e{}return e.NULL=new WC,e})();function qC(){return As(Ct(),R())}function As(e,t){return new lr(on(e,t))}let lr=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=qC,e})();function YC(e){return e instanceof lr?e.nativeElement:e}class Oy{}let Di=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function XC(){const e=R(),n=Wt(Ct().index,e);return(tn(n)?n:e)[11]}(),e})(),ZC=(()=>{class e{}return e.\u0275prov=Ne({token:e,providedIn:"root",factory:()=>null}),e})();class ed{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const KC=new ed("15.1.5"),Dp={};function _p(e){return e.ngOriginalError}class Os{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&_p(t);for(;n&&_p(n);)n=_p(n);return n||null}}function Sl(e){return e.ownerDocument.defaultView}function Fy(e){return e.ownerDocument}function Ry(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const l=t.length;if(i+l===r||e.charCodeAt(i+l)<=32)return i}n=i+1}}const Ny="ng-template";function s_(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==Ry(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function Py(e){return 4===e.type&&e.value!==Ny}function a_(e,t,n){return t===(4!==e.type||n?e.value:Ny)}function l_(e,t,n){let r=4;const i=e.attrs||[],l=function d_(e){for(let t=0;t<e.length;t++)if(yc(e[t]))return t;return e.length}(i);let d=!1;for(let h=0;h<t.length;h++){const g=t[h];if("number"!=typeof g){if(!d)if(4&r){if(r=2|1&r,""!==g&&!a_(e,g,n)||""===g&&1===t.length){if(ur(r))return!1;d=!0}}else{const v=8&r?g:t[++h];if(8&r&&null!==e.attrs){if(!s_(e.attrs,v,n)){if(ur(r))return!1;d=!0}continue}const _=u_(8&r?"class":g,i,Py(e),n);if(-1===_){if(ur(r))return!1;d=!0;continue}if(""!==v){let E;E=_>l?"":i[_+1].toLowerCase();const T=8&r?E:null;if(T&&-1!==Ry(T,v,0)||2&r&&v!==E){if(ur(r))return!1;d=!0}}}}else{if(!d&&!ur(r)&&!ur(g))return!1;if(d&&ur(g))continue;d=!1,r=g|1&r}}return ur(r)||d}function ur(e){return 0==(1&e)}function u_(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let l=!1;for(;i<t.length;){const d=t[i];if(d===e)return i;if(3===d||6===d)l=!0;else{if(1===d||2===d){let h=t[++i];for(;"string"==typeof h;)h=t[++i];continue}if(4===d)break;if(0===d){i+=4;continue}}i+=l?1:2}return-1}return function f_(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Ly(e,t,n=!1){for(let r=0;r<t.length;r++)if(l_(e,t[r],n))return!0;return!1}function Vy(e,t){return e?":not("+t.trim()+")":t}function p_(e){let t=e[0],n=1,r=2,i="",l=!1;for(;n<e.length;){let d=e[n];if("string"==typeof d)if(2&r){const h=e[++n];i+="["+d+(h.length>0?'="'+h+'"':"")+"]"}else 8&r?i+="."+d:4&r&&(i+=" "+d);else""!==i&&!ur(d)&&(t+=Vy(l,i),i=""),r=d,l=l||!ur(r);n++}return""!==i&&(t+=Vy(l,i)),t}const he={};function Ht(e){Uy(_e(),R(),Lt()+e,!1)}function Uy(e,t,n,r){if(!r)if(3==(3&t[2])){const l=e.preOrderCheckHooks;null!==l&&us(t,l,n)}else{const l=e.preOrderHooks;null!==l&&cs(t,l,0,n)}Pr(n)}function Gy(e,t=null,n=null,r){const i=$y(e,t,n,r);return i.resolveInjectorInitializers(),i}function $y(e,t=null,n=null,r,i=new Set){const l=[n||Ie,NC(e)];return r=r||("object"==typeof e?void 0:Ve(e)),new Iy(l,t||Qc(),r||null,i)}let qr=(()=>{class e{static create(n,r){if(Array.isArray(n))return Gy({name:""},r,n,"");{const i=n.name??"";return Gy({name:i},n.parent,n.providers,i)}}}return e.THROW_IF_NOT_FOUND=qo,e.NULL=new _y,e.\u0275prov=Ne({token:e,providedIn:"any",factory:()=>we(Dy)}),e.__NG_ELEMENT_ID__=-1,e})();function U(e,t=re.Default){const n=R();return null===n?we(e,t):Ec(Ct(),n,ee(e),t)}function Ky(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const l=n[r+1];if(-1!==l){const d=e.data[l];Xa(n[r]),d.contentQueries(2,t[l],l)}}}function nd(e,t,n,r,i,l,d,h,g,v,C){const _=t.blueprint.slice();return _[0]=i,_[2]=76|r,(null!==C||e&&1024&e[2])&&(_[2]|=1024),Ga(_),_[3]=_[15]=e,_[8]=n,_[10]=d||e&&e[10],_[11]=h||e&&e[11],_[12]=g||e&&e[12]||null,_[9]=v||e&&e[9]||null,_[6]=l,_[20]=function gi(){return Wh++}(),_[21]=C,_[16]=2==t.type?e[16]:_,_}function Rs(e,t,n,r,i){let l=e.data[t];if(null===l)l=function Ip(e,t,n,r,i){const l=oc(),d=vn(),g=e.data[t]=function H_(e,t,n,r,i,l){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:l,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,d?l:l&&l.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=g),null!==l&&(d?null==l.child&&null!==g.parent&&(l.child=g):null===l.next&&(l.next=g)),g}(e,t,n,r,i),function ic(){return ue.lFrame.inI18n}()&&(l.flags|=32);else if(64&l.type){l.type=n,l.value=r,l.attrs=i;const d=function oi(){const e=ue.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();l.injectorIndex=null===d?-1:d.injectorIndex}return An(l,!0),l}function El(e,t,n,r){if(0===n)return-1;const i=t.length;for(let l=0;l<n;l++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Tp(e,t,n){Za(t);try{const r=e.viewQuery;null!==r&&Vp(1,r,n);const i=e.template;null!==i&&Qy(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Ky(e,t),e.staticViewQueries&&Vp(2,e.viewQuery,n);const l=e.components;null!==l&&function V_(e,t){for(let n=0;n<t.length;n++)sw(e,t[n])}(t,l)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,Ka()}}function rd(e,t,n,r){const i=t[2];if(128!=(128&i)){Za(t);try{Ga(t),function or(e){return ue.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Qy(e,t,n,2,r);const d=3==(3&i);if(d){const v=e.preOrderCheckHooks;null!==v&&us(t,v,null)}else{const v=e.preOrderHooks;null!==v&&cs(t,v,0,null),Ja(t,0)}if(function ow(e){for(let t=yl(e);null!==t;t=vl(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const i=n[r];512&i[2]||$a(i[3],1),i[2]|=512}}}(t),function rw(e){for(let t=yl(e);null!==t;t=vl(t))for(let n=10;n<t.length;n++){const r=t[n],i=r[1];Nr(r)&&rd(i,r,i.template,r[8])}}(t),null!==e.contentQueries&&Ky(e,t),d){const v=e.contentCheckHooks;null!==v&&us(t,v)}else{const v=e.contentHooks;null!==v&&cs(t,v,1),Ja(t,1)}!function P_(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Pr(~i);else{const l=i,d=n[++r],h=n[++r];sc(d,l),h(2,t[l])}}}finally{Pr(-1)}}(e,t);const h=e.components;null!==h&&function L_(e,t){for(let n=0;n<t.length;n++)iw(e,t[n])}(t,h);const g=e.viewQuery;if(null!==g&&Vp(2,g,r),d){const v=e.viewCheckHooks;null!==v&&us(t,v)}else{const v=e.viewHooks;null!==v&&cs(t,v,2),Ja(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,$a(t[3],-1))}finally{Ka()}}}function Qy(e,t,n,r,i){const l=Lt(),d=2&r;try{Pr(-1),d&&t.length>22&&Uy(e,t,22,!1),n(r,i)}finally{Pr(l)}}function Mp(e,t,n){if(ns(t)){const i=t.directiveEnd;for(let l=t.directiveStart;l<i;l++){const d=e.data[l];d.contentQueries&&d.contentQueries(1,n[l],l)}}}function Ap(e,t,n){Cr()&&(function q_(e,t,n,r){const i=n.directiveStart,l=n.directiveEnd;ni(n)&&function ew(e,t,n){const r=on(t,e),i=Jy(n),l=e[10],d=od(e,nd(e,i,null,n.onPush?32:16,r,t,l,l.createRenderer(r,n),null,null,null));e[t.index]=d}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||gs(n,t),ce(r,t);const d=n.initialInputs;for(let h=i;h<l;h++){const g=e.data[h],v=Lr(t,e,h,n);ce(v,t),null!==d&&tw(0,h-i,v,g,0,d),mn(g)&&(Wt(n.index,t)[8]=Lr(t,e,h,n))}}(e,t,n,on(n,t)),64==(64&n.flags)&&iv(e,t,n))}function Op(e,t,n=on){const r=t.localNames;if(null!==r){let i=t.index+1;for(let l=0;l<r.length;l+=2){const d=r[l+1],h=-1===d?n(t,e):e[d];e[i++]=h}}}function Jy(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Fp(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Fp(e,t,n,r,i,l,d,h,g,v){const C=22+r,_=C+i,E=function U_(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:he);return n}(C,_),T="function"==typeof v?v():v;return E[1]={type:e,blueprint:E,template:n,queries:null,viewQuery:h,declTNode:t,data:E.slice().fill(null,C),bindingStartIndex:C,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof l?l():l,pipeRegistry:"function"==typeof d?d():d,firstChild:null,schemas:g,consts:T,incompleteFirstPass:!1}}function ev(e,t,n,r){const i=av(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&lv(e).push(r,i.length-1))}function tv(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const l=e[i];null===r?nv(n,t,i,l):r.hasOwnProperty(i)&&nv(n,t,r[i],l)}return n}function nv(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function rv(e,t){const n=Wt(t,e);16&n[2]||(n[2]|=32)}function kp(e,t,n,r){let i=!1;if(Cr()){const l=null===r?null:{"":-1},d=function X_(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let l=0;l<n.length;l++){const d=n[l];if(Ly(t,d.selectors,!1))if(r||(r=[]),mn(d))if(null!==d.findHostDirectiveDefs){const h=[];i=i||new Map,d.findHostDirectiveDefs(d,h,i),r.unshift(...h,d),Rp(e,t,h.length)}else r.unshift(d),Rp(e,t,0);else i=i||new Map,d.findHostDirectiveDefs?.(d,r,i),r.push(d)}return null===r?null:[r,i]}(e,n);let h,g;null===d?h=g=null:[h,g]=d,null!==h&&(i=!0,ov(e,t,n,h,l,g)),l&&function Z_(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const l=n[t[i+1]];if(null==l)throw new j(-301,!1);r.push(t[i],l)}}}(n,r,l)}return n.mergedAttrs=ai(n.mergedAttrs,n.attrs),i}function ov(e,t,n,r,i,l){for(let v=0;v<r.length;v++)ol(gs(n,t),e,r[v].type);!function Q_(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let v=0;v<r.length;v++){const C=r[v];C.providersResolver&&C.providersResolver(C)}let d=!1,h=!1,g=El(e,t,r.length,null);for(let v=0;v<r.length;v++){const C=r[v];n.mergedAttrs=ai(n.mergedAttrs,C.hostAttrs),J_(e,n,t,g,C),K_(g,C,i),null!==C.contentQueries&&(n.flags|=4),(null!==C.hostBindings||null!==C.hostAttrs||0!==C.hostVars)&&(n.flags|=64);const _=C.type.prototype;!d&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),d=!0),!h&&(_.ngOnChanges||_.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),h=!0),g++}!function j_(e,t,n){const i=t.directiveEnd,l=e.data,d=t.attrs,h=[];let g=null,v=null;for(let C=t.directiveStart;C<i;C++){const _=l[C],E=n?n.get(_):null,O=E?E.outputs:null;g=tv(_.inputs,C,g,E?E.inputs:null),v=tv(_.outputs,C,v,O);const k=null===g||null===d||Py(t)?null:nw(g,C,d);h.push(k)}null!==g&&(g.hasOwnProperty("class")&&(t.flags|=8),g.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=h,t.inputs=g,t.outputs=v}(e,n,l)}function iv(e,t,n){const r=n.directiveStart,i=n.directiveEnd,l=n.index,d=function ac(){return ue.lFrame.currentDirectiveIndex}();try{Pr(l);for(let h=r;h<i;h++){const g=e.data[h],v=t[h];as(h),(null!==g.hostBindings||0!==g.hostVars||null!==g.hostAttrs)&&Y_(g,v)}}finally{Pr(-1),as(d)}}function Y_(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Rp(e,t,n){t.componentOffset=n,(e.components||(e.components=[])).push(t.index)}function K_(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;mn(t)&&(n[""]=e)}}function J_(e,t,n,r,i){e.data[r]=i;const l=i.factory||(i.factory=Rr(i.type)),d=new si(l,mn(i),U);e.blueprint[r]=d,n[r]=d,function z_(e,t,n,r,i){const l=i.hostBindings;if(l){let d=e.hostBindingOpCodes;null===d&&(d=e.hostBindingOpCodes=[]);const h=~t.index;(function W_(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(d)!=h&&d.push(h),d.push(n,r,l)}}(e,t,r,El(e,n,i.hostVars,he),i)}function tw(e,t,n,r,i,l){const d=l[t];if(null!==d){const h=r.setInput;for(let g=0;g<d.length;){const v=d[g++],C=d[g++],_=d[g++];null!==h?r.setInput(n,_,v,C):n[C]=_}}}function nw(e,t,n){let r=null,i=0;for(;i<n.length;){const l=n[i];if(0!==l)if(5!==l){if("number"==typeof l)break;if(e.hasOwnProperty(l)){null===r&&(r=[]);const d=e[l];for(let h=0;h<d.length;h+=2)if(d[h]===t){r.push(l,d[h+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function sv(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null]}function iw(e,t){const n=Wt(t,e);if(Nr(n)){const r=n[1];48&n[2]?rd(r,n,r.template,n[8]):n[5]>0&&Pp(n)}}function Pp(e){for(let r=yl(e);null!==r;r=vl(r))for(let i=10;i<r.length;i++){const l=r[i];if(Nr(l))if(512&l[2]){const d=l[1];rd(d,l,d.template,l[8])}else l[5]>0&&Pp(l)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Wt(n[r],e);Nr(i)&&i[5]>0&&Pp(i)}}function sw(e,t){const n=Wt(t,e),r=n[1];(function aw(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Tp(r,n,n[8])}function od(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Lp(e){for(;e;){e[2]|=32;const t=yi(e);if(Uf(e)&&!t)return e;e=t}return null}function id(e,t,n,r=!0){const i=t[10];i.begin&&i.begin();try{rd(e,t,e.template,n)}catch(d){throw r&&cv(t,d),d}finally{i.end&&i.end()}}function Vp(e,t,n){Xa(0),t(e,n)}function av(e){return e[7]||(e[7]=[])}function lv(e){return e.cleanup||(e.cleanup=[])}function cv(e,t){const n=e[9],r=n?n.get(Os,null):null;r&&r.handleError(t)}function Up(e,t,n,r,i){for(let l=0;l<n.length;){const d=n[l++],h=n[l++],g=t[d],v=e.data[d];null!==v.setInput?v.setInput(g,i,r,h):g[h]=i}}function sd(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,l=0;if(null!==t)for(let d=0;d<t.length;d++){const h=t[d];"number"==typeof h?l=h:1==l?i=Sa(i,h):2==l&&(r=Sa(r,h+": "+t[++d]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function ad(e,t,n,r,i=!1){for(;null!==n;){const l=t[n.index];if(null!==l&&r.push(Dt(l)),Mn(l))for(let h=10;h<l.length;h++){const g=l[h],v=g[1].firstChild;null!==v&&ad(g[1],g,v,r)}const d=n.type;if(8&d)ad(e,t,n.child,r);else if(32&d){const h=ml(n,t);let g;for(;g=h();)r.push(g)}else if(16&d){const h=Vt(t,n);if(Array.isArray(h))r.push(...h);else{const g=yi(t[16]);ad(g[1],g,h,r,!0)}}n=i?n.projectionNext:n.next}return r}class xl{get rootNodes(){const t=this._lView,n=t[1];return ad(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Mn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(c(t,r),fi(n,r))}this._attachedToViewContainer=!1}f(this._lView[1],this._lView)}onDestroy(t){ev(this._lView[1],this._lView,null,t)}markForCheck(){Lp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){id(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ap(e,t){ye(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=t}}class lw extends xl{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;id(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class dv extends Jc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Ae(t);return new Il(n,this.ngModule)}}function fv(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class cw{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Ki(r);const i=this.injector.get(t,Dp,r);return i!==Dp||n===Dp?i:this.parentInjector.get(t,n,r)}}class Il extends My{get inputs(){return fv(this.componentDef.inputs)}get outputs(){return fv(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function g_(e){return e.map(p_).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let l=(i=i||this.ngModule)instanceof Ts?i:i?.injector;l&&null!==this.componentDef.getStandaloneInjector&&(l=this.componentDef.getStandaloneInjector(l)||l);const d=l?new cw(t,l):t,h=d.get(Oy,null);if(null===h)throw new j(407,!1);const g=d.get(ZC,null),v=h.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",_=r?function B_(e,t,n){return e.selectRootElement(t,n===Ln.ShadowDom)}(v,r,this.componentDef.encapsulation):Ee(v,C,function uw(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(C)),E=this.componentDef.onPush?288:272,T=Fp(0,null,null,1,0,null,null,null,null,null),O=nd(null,T,null,E,null,null,h,v,g,d,null);let k,P;Za(O);try{const V=this.componentDef;let Y,N=null;V.findHostDirectiveDefs?(Y=[],N=new Map,V.findHostDirectiveDefs(V,Y,N),Y.push(V)):Y=[V];const ie=function fw(e,t){const n=e[1];return e[22]=t,Rs(n,22,2,"#host",null)}(O,_),je=function hw(e,t,n,r,i,l,d,h){const g=i[1];!function pw(e,t,n,r){for(const i of e)t.mergedAttrs=ai(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(sd(t,t.mergedAttrs,!0),null!==n&&ht(r,n,t))}(r,e,t,d);const v=l.createRenderer(t,n),C=nd(i,Jy(n),null,n.onPush?32:16,i[e.index],e,l,v,h||null,null,null);return g.firstCreatePass&&Rp(g,e,r.length-1),od(i,C),i[e.index]=C}(ie,_,V,Y,O,h,v);P=Qu(T,22),_&&function mw(e,t,n,r){if(r)el(e,n,["ng-version",KC.full]);else{const{attrs:i,classes:l}=function m_(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let l=e[r];if("string"==typeof l)2===i?""!==l&&t.push(l,e[++r]):8===i&&n.push(l);else{if(!ur(i))break;i=l}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&el(e,n,i),l&&l.length>0&&zn(e,n,l.join(" "))}}(v,V,_,r),void 0!==n&&function yw(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const l=n[i];r.push(null!=l?Array.from(l):null)}}(P,this.ngContentSelectors,n),k=function gw(e,t,n,r,i,l){const d=Ct(),h=i[1],g=on(d,i);ov(h,i,d,n,null,r);for(let C=0;C<n.length;C++)ce(Lr(i,h,d.directiveStart+C,d),i);iv(h,i,d),g&&ce(g,i);const v=Lr(i,h,d.directiveStart+d.componentOffset,d);if(e[8]=i[8]=v,null!==l)for(const C of l)C(v,t);return Mp(h,d,e),v}(je,V,Y,N,O,[vw]),Tp(T,O,null)}finally{Ka()}return new dw(this.componentType,k,As(P,O),O,P)}}class dw extends $C{constructor(t,n,r,i,l){super(),this.location=r,this._rootLView=i,this._tNode=l,this.instance=n,this.hostView=this.changeDetectorRef=new lw(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){const l=this._rootLView;Up(l[1],l,i,t,n),rv(l,this._tNode.index)}}get injector(){return new yo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function vw(){const e=Ct();ls(R()[1],e)}function Le(e){let t=function hv(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(mn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new j(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const d=e;d.inputs=Bp(e.inputs),d.declaredInputs=Bp(e.declaredInputs),d.outputs=Bp(e.outputs);const h=i.hostBindings;h&&_w(e,h);const g=i.viewQuery,v=i.contentQueries;if(g&&Dw(e,g),v&&Cw(e,v),so(e.inputs,i.inputs),so(e.declaredInputs,i.declaredInputs),so(e.outputs,i.outputs),mn(i)&&i.data.animation){const C=e.data;C.animation=(C.animation||[]).concat(i.data.animation)}}const l=i.features;if(l)for(let d=0;d<l.length;d++){const h=l[d];h&&h.ngInherit&&h(e),h===Le&&(n=!1)}}t=Object.getPrototypeOf(t)}!function bw(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=ai(i.hostAttrs,n=ai(n,i.hostAttrs))}}(r)}function Bp(e){return e===er?{}:e===Ie?[]:e}function Dw(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function Cw(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,l)=>{t(r,i,l),n(r,i,l)}:t}function _w(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}let ld=null;function Ci(){if(!ld){const e=Ue.Symbol;if(e&&e.iterator)ld=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ld=r)}}}return ld}function Qt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function jp(e,t,n,r,i,l,d,h){const g=R(),v=_e(),C=e+22,_=v.firstCreatePass?function Fw(e,t,n,r,i,l,d,h,g){const v=t.consts,C=Rs(t,e,4,d||null,Hn(v,h));kp(t,n,C,Hn(v,g)),ls(t,C);const _=C.tViews=Fp(2,C,r,i,l,t.directiveRegistry,t.pipeRegistry,null,t.schemas,v);return null!==t.queries&&(t.queries.template(t,C),_.queries=t.queries.embeddedTView(C)),C}(C,v,g,t,n,r,i,l,d):v.data[C];An(_,!1);const E=g[11].createComment("");xe(v,g,E,_),ce(E,g),od(g,g[C]=sv(E,g,E,_)),rs(_)&&Ap(v,g,_),null!=d&&Op(g,_,h)}function lt(e,t,n){const r=R();return Qt(r,function ir(){return ue.lFrame.bindingIndex++}(),t)&&function Rn(e,t,n,r,i,l,d,h){const g=on(t,n);let C,v=t.inputs;!h&&null!=v&&(C=v[r])?(Up(e,n,C,r,i),ni(t)&&rv(n,t.index)):3&t.type&&(r=function G_(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=d?d(i,t.value||"",r):i,l.setProperty(g,r,i))}(_e(),function qe(){const e=ue.lFrame;return Qu(e.tView,e.selectedIndex)}(),r,e,t,r[11],n,!1),lt}function Gp(e,t,n,r,i){const d=i?"class":"style";Up(e,n,t.inputs[d],d,r)}function fe(e,t,n,r){const i=R(),l=_e(),d=22+e,h=i[11],g=i[d]=Ee(h,t,function uh(){return ue.lFrame.currentNamespace}()),v=l.firstCreatePass?function Nw(e,t,n,r,i,l,d){const h=t.consts,v=Rs(t,e,2,i,Hn(h,l));return kp(t,n,v,Hn(h,d)),null!==v.attrs&&sd(v,v.attrs,!1),null!==v.mergedAttrs&&sd(v,v.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,v),v}(d,l,i,0,t,n,r):l.data[d];return An(v,!0),ht(h,g,v),32!=(32&v.flags)&&xe(l,i,g,v),0===function eh(){return ue.lFrame.elementDepthCount}()&&ce(g,i),function th(){ue.lFrame.elementDepthCount++}(),rs(v)&&(Ap(l,i,v),Mp(l,v,i)),null!==r&&Op(i,v),fe}function de(){let e=Ct();vn()?function On(){ue.lFrame.isParent=!1}():(e=e.parent,An(e,!1));const t=e;!function tc(){ue.lFrame.elementDepthCount--}();const n=_e();return n.firstCreatePass&&(ls(n,e),ns(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function mc(e){return 0!=(8&e.flags)}(t)&&Gp(n,t,R(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function hh(e){return 0!=(16&e.flags)}(t)&&Gp(n,t,R(),t.stylesWithoutHost,!1),de}function Ml(e,t,n,r){return fe(e,t,n,r),de(),Ml}function dd(e){return!!e&&"function"==typeof e.then}const Mv=function Tv(e){return!!e&&"function"==typeof e.subscribe};function Fe(e,t,n,r){const i=R(),l=_e(),d=Ct();return function Ov(e,t,n,r,i,l,d){const h=rs(r),v=e.firstCreatePass&&lv(e),C=t[8],_=av(t);let E=!0;if(3&r.type||d){const k=on(r,t),P=d?d(k):k,V=_.length,Y=d?ie=>d(Dt(ie[r.index])):r.index;let N=null;if(!d&&h&&(N=function Lw(e,t,n,r){const i=e.cleanup;if(null!=i)for(let l=0;l<i.length-1;l+=2){const d=i[l];if(d===n&&i[l+1]===r){const h=t[7],g=i[l+2];return h.length>g?h[g]:null}"string"==typeof d&&(l+=2)}return null}(e,t,i,r.index)),null!==N)(N.__ngLastListenerFn__||N).__ngNextListenerFn__=l,N.__ngLastListenerFn__=l,E=!1;else{l=kv(r,t,C,l,!1);const ie=n.listen(P,i,l);_.push(l,ie),v&&v.push(i,Y,V,V+1)}}else l=kv(r,t,C,l,!1);const T=r.outputs;let O;if(E&&null!==T&&(O=T[i])){const k=O.length;if(k)for(let P=0;P<k;P+=2){const je=t[O[P]][O[P+1]].subscribe(l),ct=_.length;_.push(l,je),v&&v.push(i,r.index,ct,-(ct+1))}}}(l,i,i[11],d,e,t,r),Fe}function Fv(e,t,n,r){try{return!1!==n(r)}catch(i){return cv(e,i),!1}}function kv(e,t,n,r,i){return function l(d){if(d===Function)return r;Lp(e.componentOffset>-1?Wt(e.index,t):t);let g=Fv(t,0,r,d),v=l.__ngNextListenerFn__;for(;v;)g=Fv(t,0,v,d)&&g,v=v.__ngNextListenerFn__;return i&&!1===g&&(d.preventDefault(),d.returnValue=!1),g}}function fd(e=1){return function rh(e){return(ue.lFrame.contextLView=function oh(e,t){for(;e>0;)t=t[15],e--;return t}(e,ue.lFrame.contextLView))[8]}(e)}function hd(e,t){return e<<17|t<<2}function To(e){return e>>17&32767}function qp(e){return 2|e}function wi(e){return(131068&e)>>2}function Yp(e,t){return-131069&e|t<<2}function Xp(e){return 1|e}function Gv(e,t,n,r,i){const l=e[n+1],d=null===t;let h=r?To(l):wi(l),g=!1;for(;0!==h&&(!1===g||d);){const C=e[h+1];Ww(e[h],t)&&(g=!0,e[h+1]=r?Xp(C):qp(C)),h=r?To(C):wi(C)}g&&(e[n+1]=r?qp(l):Xp(l))}function Ww(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&_o(e,t)>=0}function Si(e,t){return function cr(e,t,n,r){const i=R(),l=_e(),d=function Gn(e){const t=ue.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);l.firstUpdatePass&&function Qv(e,t,n,r){const i=e.data;if(null===i[n+1]){const l=i[Lt()],d=function Kv(e,t){return t>=e.expandoStartIndex}(e,n);(function n0(e,t){return 0!=(e.flags&(t?8:16))})(l,r)&&null===t&&!d&&(t=!1),t=function tS(e,t,n,r){const i=function Ya(e){const t=ue.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let l=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Al(n=Zp(null,e,t,n,r),t.attrs,r),l=null);else{const d=t.directiveStylingLast;if(-1===d||e[d]!==i)if(n=Zp(i,e,t,n,r),null===l){let g=function nS(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==wi(r))return e[To(r)]}(e,t,r);void 0!==g&&Array.isArray(g)&&(g=Zp(null,e,t,g[1],r),g=Al(g,t.attrs,r),function rS(e,t,n,r){e[To(n?t.classBindings:t.styleBindings)]=r}(e,t,r,g))}else l=function oS(e,t,n){let r;const i=t.directiveEnd;for(let l=1+t.directiveStylingLast;l<i;l++)r=Al(r,e[l].hostAttrs,n);return Al(r,t.attrs,n)}(e,t,r)}return void 0!==l&&(r?t.residualClasses=l:t.residualStyles=l),n}(i,l,t,r),function $w(e,t,n,r,i,l){let d=l?t.classBindings:t.styleBindings,h=To(d),g=wi(d);e[r]=n;let C,v=!1;if(Array.isArray(n)?(C=n[1],(null===C||_o(n,C)>0)&&(v=!0)):C=n,i)if(0!==g){const E=To(e[h+1]);e[r+1]=hd(E,h),0!==E&&(e[E+1]=Yp(e[E+1],r)),e[h+1]=function jw(e,t){return 131071&e|t<<17}(e[h+1],r)}else e[r+1]=hd(h,0),0!==h&&(e[h+1]=Yp(e[h+1],r)),h=r;else e[r+1]=hd(g,0),0===h?h=r:e[g+1]=Yp(e[g+1],r),g=r;v&&(e[r+1]=qp(e[r+1])),Gv(e,C,r,!0),Gv(e,C,r,!1),function zw(e,t,n,r,i){const l=i?e.residualClasses:e.residualStyles;null!=l&&"string"==typeof t&&_o(l,t)>=0&&(n[r+1]=Xp(n[r+1]))}(t,C,e,r,l),d=hd(h,g),l?t.classBindings=d:t.styleBindings=d}(i,l,t,n,d,r)}}(l,e,d,r),t!==he&&Qt(i,d,t)&&function e0(e,t,n,r,i,l,d,h){if(!(3&t.type))return;const g=e.data,v=g[h+1],C=function Gw(e){return 1==(1&e)}(v)?t0(g,t,n,i,wi(v),d):void 0;pd(C)||(pd(l)||function Hw(e){return 2==(2&e)}(v)&&(l=t0(g,null,n,i,h,d)),function ar(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let l=-1===r.indexOf("-")?void 0:qt.DashCase;null==i?e.removeStyle(n,r,l):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),l|=qt.Important),e.setStyle(n,r,i,l))}}(r,d,function is(e,t){return Dt(t[e])}(Lt(),n),i,l))}(l,l.data[Lt()],i,i[11],e,i[d+1]=function aS(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Ve(function Wn(e){return e instanceof vi?e.changingThisBreaksApplicationSecurity:e}(e)))),e}(t,n),r,d)}(e,t,null,!0),Si}function Zp(e,t,n,r,i){let l=null;const d=n.directiveEnd;let h=n.directiveStylingLast;for(-1===h?h=n.directiveStart:h++;h<d&&(l=t[h],r=Al(r,l.hostAttrs,i),l!==e);)h++;return null!==e&&(n.directiveStylingLast=h),r}function Al(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let l=0;l<t.length;l++){const d=t[l];"number"==typeof d?i=d:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),rt(e,d,!!n||t[++l]))}return void 0===e?null:e}function t0(e,t,n,r,i,l){const d=null===t;let h;for(;i>0;){const g=e[i],v=Array.isArray(g),C=v?g[1]:g,_=null===C;let E=n[i+1];E===he&&(E=_?Ie:void 0);let T=_?Fn(E,r):C===r?E:void 0;if(v&&!pd(T)&&(T=Fn(g,r)),pd(T)&&(h=T,d))return h;const O=e[i+1];i=d?To(O):wi(O)}if(null!==t){let g=l?t.residualClasses:t.residualStyles;null!=g&&(h=Fn(g,r))}return h}function pd(e){return void 0!==e}function Ge(e,t=""){const n=R(),r=_e(),i=e+22,l=r.firstCreatePass?Rs(r,i,1,t,null):r.data[i],d=n[i]=function bl(e,t){return e.createText(t)}(n[11],t);xe(r,n,d,l),An(l,!1)}const Ws="en-US";let x0=Ws;function eg(e,t,n,r,i){if(e=ee(e),Array.isArray(e))for(let l=0;l<e.length;l++)eg(e[l],t,n,r,i);else{const l=_e(),d=R();let h=bi(e)?e:ee(e.provide),g=Ty(e);const v=Ct(),C=1048575&v.providerIndexes,_=v.directiveStart,E=v.providerIndexes>>20;if(bi(e)||!e.multi){const T=new si(g,i,U),O=ng(h,t,i?C:C+E,_);-1===O?(ol(gs(v,d),l,h),tg(l,e,t.length),t.push(h),v.directiveStart++,v.directiveEnd++,i&&(v.providerIndexes+=1048576),n.push(T),d.push(T)):(n[O]=T,d[O]=T)}else{const T=ng(h,t,C+E,_),O=ng(h,t,C,C+E),P=O>=0&&n[O];if(i&&!P||!i&&!(T>=0&&n[T])){ol(gs(v,d),l,h);const V=function EE(e,t,n,r,i){const l=new si(e,n,U);return l.multi=[],l.index=t,l.componentProviders=0,K0(l,i,r&&!n),l}(i?SE:wE,n.length,i,r,g);!i&&P&&(n[O].providerFactory=V),tg(l,e,t.length,0),t.push(h),v.directiveStart++,v.directiveEnd++,i&&(v.providerIndexes+=1048576),n.push(V),d.push(V)}else tg(l,e,T>-1?T:O,K0(n[i?O:T],g,!i&&r));!i&&r&&P&&n[O].componentProviders++}}}function tg(e,t,n,r){const i=bi(t),l=function LC(e){return!!e.useClass}(t);if(i||l){const g=(l?ee(t.useClass):t).prototype.ngOnDestroy;if(g){const v=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const C=v.indexOf(n);-1===C?v.push(n,[r,g]):v[C+1].push(r,g)}else v.push(n,g)}}}function K0(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function ng(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function wE(e,t,n,r){return rg(this.multi,[])}function SE(e,t,n,r){const i=this.multi;let l;if(this.providerFactory){const d=this.providerFactory.componentProviders,h=Lr(n,n[1],this.providerFactory.index,r);l=h.slice(0,d),rg(i,l);for(let g=d;g<h.length;g++)l.push(h[g])}else l=[],rg(i,l);return l}function rg(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ye(e,t=[]){return n=>{n.providersResolver=(r,i)=>function _E(e,t,n){const r=_e();if(r.firstCreatePass){const i=mn(e);eg(n,r.data,r.blueprint,i,!0),eg(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class qs{}class xE{}class Q0 extends qs{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dv(this);const r=function dt(e,t){const n=e[Bu]||null;if(!n&&!0===t)throw new Error(`Type ${Ve(e)} does not have '\u0275mod' property.`);return n}(t);this._bootstrapComponents=function Wr(e){return e instanceof Function?e():e}(r.bootstrap),this._r3Injector=$y(t,n,[{provide:qs,useValue:this},{provide:Jc,useValue:this.componentFactoryResolver}],Ve(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class og extends xE{constructor(t){super(),this.moduleType=t}create(t){return new Q0(this.moduleType,t)}}function sg(e){return t=>{setTimeout(e,void 0,t)}}const et=class nx extends yr{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,l=n||(()=>null),d=r;if(t&&"object"==typeof t){const g=t;i=g.next?.bind(g),l=g.error?.bind(g),d=g.complete?.bind(g)}this.__isAsync&&(l=sg(l),i&&(i=sg(i)),d&&(d=sg(d)));const h=super.subscribe({next:i,error:l,complete:d});return t instanceof Ft&&t.add(h),h}};function rx(){return this._results[Ci()]()}class ag{get changes(){return this._changes||(this._changes=new et)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Ci(),r=ag.prototype;r[n]||(r[n]=rx)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=function Se(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Sh(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],l=t[r];if(n&&(i=n(i),l=n(l)),l!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Zr=(()=>{class e{}return e.__NG_ELEMENT_ID__=sx,e})();const ox=Zr,ix=class extends ox{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t,n){const r=this._declarationTContainer.tViews,i=nd(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(i[19]=d.createEmbeddedView(r)),Tp(r,i,t),new xl(i)}};function sx(){return bd(Ct(),R())}function bd(e,t){return 4&e.type?new ix(t,e,As(e,t)):null}let Tr=(()=>{class e{}return e.__NG_ELEMENT_ID__=ax,e})();function ax(){return hb(Ct(),R())}const lx=Tr,db=class extends lx{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return As(this._hostTNode,this._hostLView)}get injector(){return new yo(this._hostTNode,this._hostLView)}get parentInjector(){const t=rl(this._hostTNode,this._hostLView);if(bc(t)){const n=hs(t,this._hostLView),r=fs(t);return new yo(n[1].data[r+8],n)}return new yo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=fb(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){let i,l;"number"==typeof r?i=r:null!=r&&(i=r.index,l=r.injector);const d=t.createEmbeddedView(n||{},l);return this.insert(d,i),d}createComponent(t,n,r,i,l){const d=t&&!function _r(e){return"function"==typeof e}(t);let h;if(d)h=n;else{const _=n||{};h=_.index,r=_.injector,i=_.projectableNodes,l=_.environmentInjector||_.ngModuleRef}const g=d?t:new Il(Ae(t)),v=r||this.parentInjector;if(!l&&null==g.ngModule){const E=(d?v:this.parentInjector).get(Ts,null);E&&(l=E)}const C=g.create(v,i,void 0,l);return this.insert(C.hostView,h),C}insert(t,n){const r=t._lView,i=r[1];if(function Qf(e){return Mn(e[3])}(r)){const C=this.indexOf(t);if(-1!==C)this.detach(C);else{const _=r[3],E=new db(_,_[6],_[3]);E.detach(E.indexOf(t))}}const l=this._adjustIndex(n),d=this._lContainer;!function s(e,t,n,r){const i=10+r,l=n.length;r>0&&(n[i-1][4]=t),r<l-10?(t[4]=n[i],sr(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const d=t[17];null!==d&&n!==d&&function a(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(d,t);const h=t[19];null!==h&&h.insertView(e),t[2]|=64}(i,r,d,l);const h=be(l,d),g=r[11],v=F(g,d[7]);return null!==v&&function sp(e,t,n,r,i,l){r[0]=i,r[6]=t,ye(e,r,n,1,i,l)}(i,d[6],g,r,v,h),t.attachToViewContainerRef(),sr(lg(d),l,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=fb(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=c(this._lContainer,n);r&&(fi(lg(this._lContainer),n),f(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=c(this._lContainer,n);return r&&null!=fi(lg(this._lContainer),n)?new xl(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function fb(e){return e[8]}function lg(e){return e[8]||(e[8]=[])}function hb(e,t){let n;const r=t[e.index];if(Mn(r))n=r;else{let i;if(8&e.type)i=Dt(r);else{const l=t[11];i=l.createComment("");const d=on(e,t);S(l,F(l,d),i,function W(e,t){return e.nextSibling(t)}(l,d),!1)}t[e.index]=n=sv(r,t,i,e),od(t,n)}return new db(n,e,t)}class ug{constructor(t){this.queryList=t,this.matches=null}clone(){return new ug(this.queryList)}setDirty(){this.queryList.setDirty()}}class cg{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let l=0;l<r;l++){const d=n.getByIndex(l);i.push(this.queries[d.indexInDeclarationView].clone())}return new cg(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Cb(t,n).matches&&this.queries[n].setDirty()}}class pb{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class dg{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,l=this.getByIndex(r).embeddedTView(t,i);l&&(l.indexInDeclarationView=r,null!==n?n.push(l):n=[l])}return null!==n?new dg(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class fg{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new fg(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const l=r[i];this.matchTNodeWithReadOption(t,n,ux(n,l)),this.matchTNodeWithReadOption(t,n,ys(n,t,l,!1,!1))}else r===Zr?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ys(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===lr||i===Tr||i===Zr&&4&n.type)this.addMatch(n.index,-2);else{const l=ys(n,t,i,!1,!1);null!==l&&this.addMatch(n.index,l)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function ux(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function dx(e,t,n,r){return-1===n?function cx(e,t){return 11&e.type?As(e,t):4&e.type?bd(e,t):null}(t,e):-2===n?function fx(e,t,n){return n===lr?As(t,e):n===Zr?bd(t,e):n===Tr?hb(t,e):void 0}(e,t,r):Lr(e,e[1],n,t)}function gb(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const l=e.data,d=n.matches,h=[];for(let g=0;g<d.length;g+=2){const v=d[g];h.push(v<0?null:dx(t,l[v],d[g+1],n.metadata.read))}i.matches=h}return i.matches}function hg(e,t,n,r){const i=e.queries.getByIndex(n),l=i.matches;if(null!==l){const d=gb(e,t,i,n);for(let h=0;h<l.length;h+=2){const g=l[h];if(g>0)r.push(d[h/2]);else{const v=l[h+1],C=t[-g];for(let _=10;_<C.length;_++){const E=C[_];E[17]===E[3]&&hg(E[1],E,v,r)}if(null!==C[9]){const _=C[9];for(let E=0;E<_.length;E++){const T=_[E];hg(T[1],T,v,r)}}}}}return r}function mb(e){const t=R(),n=_e(),r=lc();Xa(r+1);const i=Cb(n,r);if(e.dirty&&function Ju(e){return 4==(4&e[2])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const l=i.crossesNgTemplate?hg(n,t,r,[]):gb(n,t,i,r);e.reset(l,YC),e.notifyOnChanges()}return!0}return!1}function yb(e,t,n){const r=_e();r.firstCreatePass&&(function Db(e,t,n){null===e.queries&&(e.queries=new dg),e.queries.track(new fg(t,n))}(r,new pb(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function bb(e,t,n){const r=new ag(4==(4&n));ev(e,t,r,r.destroy),null===t[19]&&(t[19]=new cg),t[19].queries.push(new ug(r))}(r,R(),t)}function Cb(e,t){return e.queries.getByIndex(t)}function Cd(...e){}const vg=new se("Application Initializer");let _d=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Cd,this.reject=Cd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const l=this.appInits[i]();if(dd(l))n.push(l);else if(Mv(l)){const d=new Promise((h,g)=>{l.subscribe({complete:h,error:g})});n.push(d)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(we(vg,8))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ul=new se("AppId",{providedIn:"root",factory:function Bb(){return`${bg()}${bg()}${bg()}`}});function bg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Hb=new se("Platform Initializer"),wd=new se("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Px=new se("appBootstrapListener"),Kr=new se("LocaleId",{providedIn:"root",factory:()=>function Uu(e,t=re.Default){return we(e,Ki(t))}(Kr,re.Optional|re.SkipSelf)||function Lx(){return typeof $localize<"u"&&$localize.locale||Ws}()}),jx=(()=>Promise.resolve(0))();function Dg(e){typeof Zone>"u"?jx.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class jt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new et(!1),this.onMicrotaskEmpty=new et(!1),this.onStable=new et(!1),this.onError=new et(!1),typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Gx(){let e=Ue.requestAnimationFrame,t=Ue.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Wx(e){const t=()=>{!function zx(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ue,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,_g(e),e.isCheckStableRunning=!0,Cg(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),_g(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,l,d,h)=>{try{return $b(e),n.invokeTask(i,l,d,h)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===l.type||e.shouldCoalesceRunChangeDetection)&&t(),zb(e)}},onInvoke:(n,r,i,l,d,h,g)=>{try{return $b(e),n.invoke(i,l,d,h,g)}finally{e.shouldCoalesceRunChangeDetection&&t(),zb(e)}},onHasTask:(n,r,i,l)=>{n.hasTask(i,l),r===i&&("microTask"==l.change?(e._hasPendingMicrotasks=l.microTask,_g(e),Cg(e)):"macroTask"==l.change&&(e.hasPendingMacrotasks=l.macroTask))},onHandleError:(n,r,i,l)=>(n.handleError(i,l),e.runOutsideAngular(()=>e.onError.emit(l)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!jt.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(jt.isInAngularZone())throw new j(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const l=this._inner,d=l.scheduleEventTask("NgZoneEvent: "+i,t,$x,Cd,Cd);try{return l.runTask(d,n,r)}finally{l.cancelTask(d)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const $x={};function Cg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function _g(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function $b(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function zb(e){e._nesting--,Cg(e)}class qx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new et,this.onMicrotaskEmpty=new et,this.onStable=new et,this.onError=new et}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const Wb=new se(""),Sd=new se("");let Eg,wg=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Eg||(function Yx(e){Eg=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{jt.assertNotInAngularZone(),Dg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Dg(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let l=-1;r&&r>0&&(l=setTimeout(()=>{this._callbacks=this._callbacks.filter(d=>d.timeoutId!==l),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:l,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(we(jt),we(Sg),we(Sd))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac}),e})(),Sg=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Eg?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Mo=null;const qb=new se("AllowMultipleToken"),xg=new se("PlatformDestroyListeners");function Xb(e,t,n=[]){const r=`Platform: ${t}`,i=new se(r);return(l=[])=>{let d=Ig();if(!d||d.injector.get(qb,!1)){const h=[...n,...l,{provide:i,useValue:!0}];e?e(h):function Kx(e){if(Mo&&!Mo.get(qb,!1))throw new j(400,!1);Mo=e;const t=e.get(Kb);(function Yb(e){const t=e.get(Hb,null);t&&t.forEach(n=>n())})(e)}(function Zb(e=[],t){return qr.create({name:t,providers:[{provide:mp,useValue:"platform"},{provide:xg,useValue:new Set([()=>Mo=null])},...e]})}(h,r))}return function Jx(e){const t=Ig();if(!t)throw new j(401,!1);return t}()}}function Ig(){return Mo?.get(Kb)??null}let Kb=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function Jb(e,t){let n;return n="noop"===e?new qx:("zone.js"===e?void 0:e)||new jt(t),n}(r?.ngZone,function Qb(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),l=[{provide:jt,useValue:i}];return i.run(()=>{const d=qr.create({providers:l,parent:this.injector,name:n.moduleType.name}),h=n.create(d),g=h.injector.get(Os,null);if(!g)throw new j(402,!1);return i.runOutsideAngular(()=>{const v=i.onError.subscribe({next:C=>{g.handleError(C)}});h.onDestroy(()=>{xd(this._modules,h),v.unsubscribe()})}),function e1(e,t,n){try{const r=n();return dd(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(g,i,()=>{const v=h.injector.get(_d);return v.runInitializers(),v.donePromise.then(()=>(function I0(e){Rt(e,"Expected localeId to be defined"),"string"==typeof e&&(x0=e.toLowerCase().replace(/_/g,"-"))}(h.injector.get(Kr,Ws)||Ws),this._moduleDoBootstrap(h),h))})})}bootstrapModule(n,r=[]){const i=t1({},r);return function Xx(e,t,n){const r=new og(n);return Promise.resolve(r)}(0,0,n).then(l=>this.bootstrapModuleFactory(l,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ed);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new j(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new j(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(xg,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(we(qr))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function t1(e,t){return Array.isArray(t)?t.reduce(t1,e):{...e,...t}}let Ed=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new ze(h=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{h.next(this._stable),h.complete()})}),d=new ze(h=>{let g;this._zone.runOutsideAngular(()=>{g=this._zone.onStable.subscribe(()=>{jt.assertNotInAngularZone(),Dg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,h.next(!0))})})});const v=this._zone.onUnstable.subscribe(()=>{jt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{h.next(!1)}))});return()=>{g.unsubscribe(),v.unsubscribe()}});this.isStable=_a(l,d.pipe(function Df(e={}){const{connector:t=(()=>new yr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return l=>{let d,h,g,v=0,C=!1,_=!1;const E=()=>{h?.unsubscribe(),h=void 0},T=()=>{E(),d=g=void 0,C=_=!1},O=()=>{const k=d;T(),k?.unsubscribe()};return en((k,P)=>{v++,!_&&!C&&E();const V=g=g??t();P.add(()=>{v--,0===v&&!_&&!C&&(h=wa(O,i))}),V.subscribe(P),!d&&v>0&&(d=new Gt({next:Y=>V.next(Y),error:Y=>{_=!0,E(),h=wa(T,n,Y),V.error(Y)},complete:()=>{C=!0,E(),h=wa(T,r),V.complete()}}),pn(k).subscribe(d))})(l)}}()))}bootstrap(n,r){const i=n instanceof My;if(!this._injector.get(_d).done)throw!i&&function Nt(e){const t=Ae(e)||It(e)||Tt(e);return null!==t&&t.standalone}(n),new j(405,false);let d;d=i?n:this._injector.get(Jc).resolveComponentFactory(n),this.componentTypes.push(d.componentType);const h=function Zx(e){return e.isBoundToModule}(d)?void 0:this._injector.get(qs),v=d.create(qr.NULL,[],r||d.selector,h),C=v.location.nativeElement,_=v.injector.get(Wb,null);return _?.registerApplication(C),v.onDestroy(()=>{this.detachView(v.hostView),xd(this.components,v),_?.unregisterApplication(C)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new j(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;xd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Px,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>xd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(we(jt),we(Ts),we(Os))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function xd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let Tg=(()=>{class e{}return e.__NG_ELEMENT_ID__=nI,e})();function nI(e){return function rI(e,t,n){if(ni(e)&&!n){const r=Wt(e.index,t);return new xl(r,r)}return 47&e.type?new xl(t[16],t):null}(Ct(),R(),16==(16&e))}const mI=Xb(null,"core",[]);let yI=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(we(Ed))},e.\u0275mod=In({type:e}),e.\u0275inj=it({}),e})();let Rg=null;function Ii(){return Rg}class DI{}const Jr=new se("DocumentToken");let E1=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new dT,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){x1("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){x1("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(U(Tr),U(Zr))},e.\u0275dir=le({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class dT{constructor(){this.$implicit=null,this.ngIf=null}}function x1(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Ve(t)}'.`)}let PT=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=In({type:e}),e.\u0275inj=it({}),e})();const M1="browser";function A1(e){return e===M1}class pM extends DI{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Qg extends pM{static makeCurrent(){!function bI(e){Rg||(Rg=e)}(new Qg)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function gM(){return $l=$l||document.querySelector("base"),$l?$l.getAttribute("href"):null}();return null==n?null:function mM(e){Bd=Bd||document.createElement("a"),Bd.setAttribute("href",e);const t=Bd.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){$l=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function iT(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,l]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(l)}return null}(document.cookie,t)}}let Bd,$l=null;const P1=new se("TRANSITION_ID"),vM=[{provide:vg,useFactory:function yM(e,t,n){return()=>{n.get(_d).donePromise.then(()=>{const r=Ii(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[P1,Jr,qr],multi:!0}];let DM=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac}),e})();const Hd=new se("EventManagerPlugins");let jd=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const d=i[l];if(d.supports(n))return this._eventNameToPlugin.set(n,d),d}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(we(Hd),we(jt))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac}),e})();class L1{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=Ii().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let V1=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ne({token:e,factory:e.\u0275fac}),e})(),zl=(()=>{class e extends V1{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,i.push(r.appendChild(d))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(U1),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(U1))}}return e.\u0275fac=function(n){return new(n||e)(we(Jr))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac}),e})();function U1(e){Ii().remove(e)}const Jg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},em=/%COMP%/g;function tm(e,t){return t.flat(100).map(n=>n.replace(em,e))}function j1(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let nm=(()=>{class e{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new rm(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Ln.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new xM(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case Ln.ShadowDom:return new IM(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=tm(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(we(jd),we(zl),we(Ul))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac}),e})();class rm{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(Jg[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){($1(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&($1(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const l=Jg[i];l?t.setAttributeNS(l,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=Jg[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(qt.DashCase|qt.Important)?t.style.setProperty(n,r,i&qt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&qt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,j1(r)):this.eventManager.addEventListener(t,n,j1(r))}}function $1(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class xM extends rm{constructor(t,n,r,i){super(t),this.component=r;const l=tm(i+"-"+r.id,r.styles);n.addStyles(l),this.contentAttr=function wM(e){return"_ngcontent-%COMP%".replace(em,e)}(i+"-"+r.id),this.hostAttr=function SM(e){return"_nghost-%COMP%".replace(em,e)}(i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class IM extends rm{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=tm(i.id,i.styles);for(let d=0;d<l.length;d++){const h=document.createElement("style");h.textContent=l[d],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let TM=(()=>{class e extends L1{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(we(Jr))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac}),e})();const z1=["alt","control","meta","shift"],MM={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},AM={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let OM=(()=>{class e extends L1{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const l=e.parseEventName(r),d=e.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ii().onAndCancel(n,l.domEventName,d))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=e._normalizeKey(r.pop());let d="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),d="code."),z1.forEach(v=>{const C=r.indexOf(v);C>-1&&(r.splice(C,1),d+=v+".")}),d+=l,0!=r.length||0===l.length)return null;const g={};return g.domEventName=i,g.fullKey=d,g}static matchEventFullKeyCode(n,r){let i=MM[n.key]||n.key,l="";return r.indexOf("code.")>-1&&(i=n.code,l="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),z1.forEach(d=>{d!==i&&(0,AM[d])(n)&&(l+=d+".")}),l+=i,l===r)}static eventCallback(n,r,i){return l=>{e.matchEventFullKeyCode(l,n)&&i.runGuarded(()=>r(l))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(we(Jr))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac}),e})();const NM=Xb(mI,"browser",[{provide:wd,useValue:M1},{provide:Hb,useValue:function FM(){Qg.makeCurrent()},multi:!0},{provide:Jr,useFactory:function RM(){return function Xt(e){Pe=e}(document),document},deps:[]}]),Y1=new se(""),X1=[{provide:Sd,useClass:class bM{addToWindow(t){Ue.getAngularTestability=(r,i=!0)=>{const l=t.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},Ue.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ue.getAllAngularRootElements=()=>t.getAllRootElements(),Ue.frameworkStabilizers||(Ue.frameworkStabilizers=[]),Ue.frameworkStabilizers.push(r=>{const i=Ue.getAllAngularTestabilities();let l=i.length,d=!1;const h=function(g){d=d||g,l--,0==l&&r(d)};i.forEach(function(g){g.whenStable(h)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Ii().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:Wb,useClass:wg,deps:[jt,Sg,Sd]},{provide:wg,useClass:wg,deps:[jt,Sg,Sd]}],Z1=[{provide:mp,useValue:"root"},{provide:Os,useFactory:function kM(){return new Os},deps:[]},{provide:Hd,useClass:TM,multi:!0,deps:[Jr,jt,wd]},{provide:Hd,useClass:OM,multi:!0,deps:[Jr]},{provide:nm,useClass:nm,deps:[jd,zl,Ul]},{provide:Oy,useExisting:nm},{provide:V1,useExisting:zl},{provide:zl,useClass:zl,deps:[Jr]},{provide:jd,useClass:jd,deps:[Hd,jt]},{provide:class HT{},useClass:DM,deps:[]},[]];let PM=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Ul,useValue:n.appId},{provide:P1,useExisting:Ul},vM]}}}return e.\u0275fac=function(n){return new(n||e)(we(Y1,12))},e.\u0275mod=In({type:e}),e.\u0275inj=it({providers:[...Z1,...X1],imports:[PT,yI]}),e})();function J1(e,t,n,r,i,l,d){try{var h=e[l](d),g=h.value}catch(v){return void n(v)}h.done?t(g):Promise.resolve(g).then(r,i)}function Gd(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var l=e.apply(t,n);function d(g){J1(l,r,i,d,h,"next",g)}function h(g){J1(l,r,i,d,h,"throw",g)}d(void 0)})}}typeof window<"u"&&window;class WM{constructor(){this.data=""}writeChar(t){this.writeRaw("char",t)}writeInfo(t){this.writeRaw("info",t)}writePage(t){this.writeRaw("page",t)}writeCommon(t){this.writeRaw("common",t)}writeSpace(){this.data+="\n"}writeComment(t){this.data+="#"+t+"\n"}writeRaw(t,n){let r=[t];for(const i in n){let l=n[i];"boolean"==typeof l&&(l=l?1:0),"string"==typeof l&&(l='"'+l+'"'),Array.isArray(l)&&(l=l.join(",")),r.push(`${i}=${l}`)}this.data+=r.join(" ")+"\n"}toString(){return this.data}}class YM{constructor(t){let n=document.createElement("canvas");n.width=t.width,n.height=t.height;let r=n.getContext("2d");if(null===r)throw new Error("Cannot process image as context is not defined...");r.drawImage(t,0,0),this.width=t.width,this.height=t.height,this.data=r.getImageData(0,0,t.width,t.height).data}getPixelColorString(t,n){return`rgb(${this.getPixelRed(t,n)},${this.getPixelGreen(t,n)},${this.getPixelBlue(t,n)})`}getPixelRed(t,n){let r=this.getPixelIndex(t,n)+this.getRedOffset();return this.data[r]}getPixelGreen(t,n){let r=this.getPixelIndex(t,n)+this.getGreenOffset();return this.data[r]}getPixelBlue(t,n){let r=this.getPixelIndex(t,n)+this.getBlueOffset();return this.data[r]}getPixelAlpha(t,n){let r=this.getPixelIndex(t,n)+this.getAlphaOffset();return this.data[r]}hasPixel(t,n){return this.getPixelAlpha(t,n)>0}getPixelIndex(t,n){return 4*(t+n*this.width)}getRedOffset(){return 0}getGreenOffset(){return 1}getBlueOffset(){return 2}getAlphaOffset(){return 3}}class XM{constructor(t,n,r,i,l){this.character=t,this.x=n,this.y=r,this.width=i,this.height=l}trim(t){let n=-1;for(let r=0;r<this.width;r++)for(let i=0;i<this.height;i++)if(t.hasPixel(this.x+r,this.y+i)){n=r;break}this.width=n+1}getCharCode(){return this.character.charCodeAt(0)}}class Wl{constructor(t,n,r){this.imageData=t??new eD,this.settings=n??new Zn("My font",10,10,7,10,1,7,5,"ABCD\nEFGH"),this.otfSettings=r??new $d(1024,!1)}setImage(t){return new Wl(t,this.settings,this.otfSettings)}setOtfSettings(t){return new Wl(this.imageData,this.settings,t)}setSettings(t){return new Wl(this.imageData,t,this.otfSettings)}createGlyphs(){if(void 0!==this.cachedGlyphs)return this.cachedGlyphs;let t=this.imageData.getImageData();if(void 0===t)throw new Error("No image is defined");let n=[],r=this.settings.characters,i=0,l=0;for(let d=0;d<r.length;d++){let h=r.charAt(d);if("\n"!==h){if(n.push(new XM(h,i,l,this.settings.tileSizeX,this.settings.tileSizeY)),i+=this.settings.tileSizeX,i>t.width)throw new Error("Width out of image bounds!");if(l>t.height)throw new Error("Height out of image bounds!")}else i=0,l+=this.settings.tileSizeY}return n.forEach(d=>{d.trim(t)}),this.cachedGlyphs=n,n}getFntFileName(){return this.getImageFileName()+".fnt"}getOtfFileName(){return this.settings.fontName+".otf"}getImageFileName(){if(void 0===this.imageData.fileName)return"";let t=this.imageData.fileName,n=t.lastIndexOf(".");return n>0&&(t=t.substring(0,n)),t}}class eD{constructor(t,n){this.fileName=t,this.image=n}getImageData(){if(void 0!==this.image)return void 0!==this.cachedFontImageData||(this.cachedFontImageData=new YM(this.image)),this.cachedFontImageData}}class $d{constructor(t,n){this.unitsPerEm=t,this.preserveColor=n}setUnitsPerEm(t){return new $d(t,this.preserveColor)}setPreserveColor(t){return new $d(this.unitsPerEm,t)}getPixelScale(t){return this.unitsPerEm/t}}class Zn{constructor(t,n,r,i,l,d,h,g,v){this.fontName=t,this.tileSizeX=n,this.tileSizeY=r,this.fontSize=i,this.lineHeight=l,this.letterSpacing=d,this.baseLine=h,this.spaceSize=g,this.characters=v}setFontName(t){return new Zn(t,this.tileSizeX,this.tileSizeY,this.fontSize,this.lineHeight,this.letterSpacing,this.baseLine,this.spaceSize,this.characters)}setTileSizeX(t){return new Zn(this.fontName,t,this.tileSizeY,this.fontSize,this.lineHeight,this.letterSpacing,this.baseLine,this.spaceSize,this.characters)}setTileSizeY(t){return new Zn(this.fontName,this.tileSizeX,t,this.fontSize,this.lineHeight,this.letterSpacing,this.baseLine,this.spaceSize,this.characters)}setFontSize(t){return new Zn(this.fontName,this.tileSizeX,this.tileSizeY,t,this.lineHeight,this.letterSpacing,this.baseLine,this.spaceSize,this.characters)}setLineHeight(t){return new Zn(this.fontName,this.tileSizeX,this.tileSizeY,this.fontSize,t,this.letterSpacing,this.baseLine,this.spaceSize,this.characters)}setLetterSpacing(t){return new Zn(this.fontName,this.tileSizeX,this.tileSizeY,this.fontSize,this.lineHeight,t,this.baseLine,this.spaceSize,this.characters)}setBaseLine(t){return new Zn(this.fontName,this.tileSizeX,this.tileSizeY,this.fontSize,this.lineHeight,this.letterSpacing,t,this.spaceSize,this.characters)}setSpaceSize(t){return new Zn(this.fontName,this.tileSizeX,this.tileSizeY,this.fontSize,this.lineHeight,this.letterSpacing,this.baseLine,t,this.characters)}setCharacters(t){return new Zn(this.fontName,this.tileSizeX,this.tileSizeY,this.fontSize,this.lineHeight,this.letterSpacing,this.baseLine,this.spaceSize,t)}}let gr={isBrowser:!1,launchFiles:[],onLaunchFilesLoaded:e=>{}};var Oo=su(740);class ql{constructor(t){this.ref=t,this.imageSource="",this.onImageUpload=new et}ngOnChanges(){this.imageSource=this.image?.image?.src??""}ngOnInit(){0==this.imageSource.length&&(this.processLaunchFiles(gr.launchFiles),gr.onLaunchFilesLoaded=t=>{this.processLaunchFiles(t),this.ref.detectChanges()})}processLaunchFiles(t){t.forEach(n=>{this.processFile(n)})}openFile(){var t=document.createElement("input");t.type="file",t.click(),t.onchange=n=>{if(null!==t.files)for(let r=0;r<t.files.length;r++){let i=t.files.item(r);null!==i&&this.processFile(i)}}}onDrop(t){if(t.dataTransfer&&t.dataTransfer.items){for(let n=0;n<t.dataTransfer.items.length;n++){let r=t.dataTransfer.items[n];if("file"!==r.kind||!r.type.match(/image\/*/))continue;let i=r.getAsFile();null!==i&&this.processFile(i)}t.preventDefault()}}onDragOver(t){t.preventDefault()}onDragLeave(t){t.preventDefault()}processFile(t){var n=this;return Gd(function*(){let r=yield function KM(e){return new Promise((t,n)=>{let r=new FileReader;r.onload=i=>{let l=r.result;"string"==typeof l&&t(l),n("File is not a string")},r.onerror=n,r.onabort=n,r.readAsDataURL(e)})}(t),i=yield function QM(e){return new Promise((t,n)=>{let r=new Image;r.onerror=n,r.onload=()=>t(r),r.src=e})}(r);n.onImageUpload.emit(new eD(t.name,i))})()}}ql.\u0275fac=function(t){return new(t||ql)(U(Tg))},ql.\u0275cmp=tr({type:ql,selectors:[["app-upload-image"]],inputs:{image:"image"},outputs:{onImageUpload:"onImageUpload"},features:[yn],decls:3,vars:0,consts:[[1,"root-container","bevel-in"],[1,"drop-container",3,"drop","dragover","dragleave","click"]],template:function(t,n){1&t&&(fe(0,"div",0)(1,"div",1),Fe("drop",function(i){return n.onDrop(i)})("dragover",function(i){return n.onDragOver(i)})("dragleave",function(i){return n.onDragLeave(i)})("click",function(){return n.openFile()}),Ge(2,"Drag and drop, or click to upload image"),de()())},styles:[".root-container[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}.root-container[_ngcontent-%COMP%]   .drop-container[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:1;display:flex;justify-content:center;align-items:center}.root-container[_ngcontent-%COMP%]   .drop-container.hide[_ngcontent-%COMP%]{display:none}.root-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:100%;height:100%}"]});const{isArray:rA}=Array,{getPrototypeOf:oA,prototype:iA,keys:sA}=Object;const{isArray:uA}=Array;function tD(e){return wn(t=>function cA(e,t){return uA(t)?e(...t):e(t)}(e,t))}function dA(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function fA(...e){const t=function gf(e){return De(Da(e))?e.pop():void 0}(e),{args:n,keys:r}=function aA(e){if(1===e.length){const t=e[0];if(rA(t))return{args:t,keys:null};if(function lA(e){return e&&"object"==typeof e&&oA(e)===iA}(t)){const n=sA(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}(e),i=new ze(l=>{const{length:d}=n;if(!d)return void l.complete();const h=new Array(d);let g=d,v=d;for(let C=0;C<d;C++){let _=!1;pn(n[C]).subscribe($t(l,E=>{_||(_=!0,v--),h[C]=E},()=>g--,void 0,()=>{(!g||!_)&&(v||l.next(r?dA(r,h):h),l.complete())}))}});return t?i.pipe(tD(t)):i}let nD=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return e.\u0275fac=function(n){return new(n||e)(U(Di),U(lr))},e.\u0275dir=le({type:e}),e})(),Ti=(()=>{class e extends nD{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=function Mt(e){return Pn(()=>{const t=e.prototype.constructor,n=t[Vn]||il(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const l=i[Vn]||il(i);if(l&&l!==n)return l;i=Object.getPrototypeOf(i)}return l=>new l})}(e)))(r||e)}}(),e.\u0275dir=le({type:e,features:[Le]}),e})();const Mr=new se("NgValueAccessor"),pA={provide:Mr,useExisting:Re(()=>Yl),multi:!0},mA=new se("CompositionEventMode");let Yl=(()=>{class e extends nD{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function gA(){const e=Ii()?Ii().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return e.\u0275fac=function(n){return new(n||e)(U(Di),U(lr),U(mA,8))},e.\u0275dir=le({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Fe("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[Ye([pA]),Le]}),e})();const Jt=new se("NgValidators"),ko=new se("NgAsyncValidators");function hD(e){return null!=e}function pD(e){return dd(e)?$i(e):e}function gD(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function mD(e,t){return t.map(n=>n(e))}function yD(e){return e.map(t=>function bA(e){return!e.validate}(t)?t:n=>t.validate(n))}function sm(e){return null!=e?function vD(e){if(!e)return null;const t=e.filter(hD);return 0==t.length?null:function(n){return gD(mD(n,t))}}(yD(e)):null}function am(e){return null!=e?function bD(e){if(!e)return null;const t=e.filter(hD);return 0==t.length?null:function(n){return fA(mD(n,t).map(pD)).pipe(wn(gD))}}(yD(e)):null}function DD(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function lm(e){return e?Array.isArray(e)?e:[e]:[]}function Wd(e,t){return Array.isArray(e)?e.includes(t):e===t}function wD(e,t){const n=lm(t);return lm(e).forEach(i=>{Wd(n,i)||n.push(i)}),n}function SD(e,t){return lm(t).filter(n=>!Wd(e,n))}class ED{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=sm(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=am(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class fn extends ED{get formDirective(){return null}get path(){return null}}class Ro extends ED{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xD{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let um=(()=>{class e extends xD{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(U(Ro,2))},e.\u0275dir=le({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Si("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Le]}),e})();const Xl="VALID",Yd="INVALID",Zs="PENDING",Zl="DISABLED";function Xd(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class AD{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Xl}get invalid(){return this.status===Yd}get pending(){return this.status==Zs}get disabled(){return this.status===Zl}get enabled(){return this.status!==Zl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(wD(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(wD(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(SD(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(SD(t,this._rawAsyncValidators))}hasValidator(t){return Wd(this._rawValidators,t)}hasAsyncValidator(t){return Wd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Zs,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Zl,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Xl,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xl||this.status===Zs)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zl:Xl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Zs,this._hasOwnPendingAsyncValidator=!0;const n=pD(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new et,this.statusChanges=new et}_calculateStatus(){return this._allControlsDisabled()?Zl:this.errors?Yd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zs)?Zs:this._anyControlsHaveStatus(Yd)?Yd:Xl}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Xd(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function IA(e){return Array.isArray(e)?sm(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function TA(e){return Array.isArray(e)?am(e):e||null}(this._rawAsyncValidators)}}const Ks=new se("CallSetDisabledState",{providedIn:"root",factory:()=>Zd}),Zd="always";function Kl(e,t,n=Zd){(function mm(e,t){const n=function CD(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(DD(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=function _D(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(DD(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Jd(t._rawValidators,i),Jd(t._rawAsyncValidators,i)})(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function OA(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&OD(e,t)})}(e,t),function kA(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function FA(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&OD(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function AA(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Jd(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function OD(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function RD(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function ND(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const PD=class extends AD{constructor(t=null,n,r){super(function hm(e){return(Xd(e)?e.validators:e)||null}(n),function pm(e,t){return(Xd(t)?t.asyncValidators:e)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=ND(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){RD(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){RD(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){ND(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},HA={provide:Ro,useExisting:Re(()=>tf)},UD=(()=>Promise.resolve())();let tf=(()=>{class e extends Ro{constructor(n,r,i,l,d,h){super(),this._changeDetectorRef=d,this.callSetDisabledState=h,this.control=new PD,this._registered=!1,this.update=new et,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function bm(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(l=>{l.constructor===Yl?n=l:function PA(e){return Object.getPrototypeOf(e.constructor)===Ti}(l)?r=l:i=l}),i||r||n||null}(0,l)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function vm(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Kl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){UD.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function kg(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}(r);UD.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Kd(e,t){return[...t.path,e]}(n,this._parent):[n]}}return e.\u0275fac=function(n){return new(n||e)(U(fn,9),U(Jt,10),U(ko,10),U(Mr,10),U(Tg,8),U(Ks,8))},e.\u0275dir=le({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ye([HA]),Le,yn]}),e})(),HD=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=In({type:e}),e.\u0275inj=it({}),e})(),fO=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=In({type:e}),e.\u0275inj=it({imports:[HD]}),e})(),pO=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Ks,useValue:n.callSetDisabledState??Zd}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=In({type:e}),e.\u0275inj=it({imports:[fO]}),e})();const sC="integer";class Jl{constructor(){this.warning=!1,this.editable=!0,this.type="string",this.onIntegerChanged=new et,this.onFloatChanged=new et,this.onStringChanged=new et,this.internalValue="",this.valid=!0}ngOnChanges(){void 0!==this.value&&(this.internalValue=""+this.value),this.validate()}changed(){this.validate()&&this.emitResult()}validate(){let t=this.getPattern();return this.valid=t.test(this.internalValue),this.valid}emitResult(){"float"===this.type?this.onFloatChanged.emit(parseFloat(this.internalValue)):this.type===sC?this.onIntegerChanged.emit(parseInt(this.internalValue)):this.onStringChanged.emit(this.internalValue)}getPattern(){return"float"===this.type?/^-?[0-9]+(\.[0-9]*)?$/:this.type===sC?/^-?[0-9]+$/:/[\s\S]*/}}Jl.\u0275fac=function(t){return new(t||Jl)},Jl.\u0275cmp=tr({type:Jl,selectors:[["app-input-text"]],inputs:{warning:"warning",editable:"editable",value:"value",type:"type"},outputs:{onIntegerChanged:"onIntegerChanged",onFloatChanged:"onFloatChanged",onStringChanged:"onStringChanged"},features:[yn],decls:1,vars:6,consts:[["type","text",3,"disabled","ngModel","ngModelChange"]],template:function(t,n){1&t&&(fe(0,"input",0),Fe("ngModelChange",function(i){return n.internalValue=i})("ngModelChange",function(){return n.changed()}),de()),2&t&&(Si("invalid",!n.valid)("warning",n.warning),lt("disabled",!n.editable)("ngModel",n.internalValue))},dependencies:[Yl,um,tf]});class eu{constructor(){this.onSettingsChange=new et,this.onOtfSettingsChange=new et}updateSettings(t){this.onSettingsChange.emit(t)}updateOtfSettings(t){this.onOtfSettingsChange.emit(t)}isPowerOfTwo(t){let n=2;for(;n<=t;){if(n===t)return!0;n*=2}return!1}isWholeNumber(t){return t%1==0}}eu.\u0275fac=function(t){return new(t||eu)},eu.\u0275cmp=tr({type:eu,selectors:[["app-font-settings"]],inputs:{settings:"settings",otfSettings:"otfSettings"},outputs:{onSettingsChange:"onSettingsChange",onOtfSettingsChange:"onOtfSettingsChange"},decls:60,vars:27,consts:[[1,"settings"],[1,"settings-title"],[1,"setting"],[1,"label"],[3,"value","type","onIntegerChanged"],[3,"value","type","onStringChanged"],[3,"value","type","onFloatChanged"],["rows","8",3,"ngModel","ngModelChange"],[3,"value","editable","warning","type"]],template:function(t,n){1&t&&(fe(0,"div",0)(1,"div",1),Ge(2,"Tiles"),de(),fe(3,"label",2)(4,"span",3),Ge(5,"Tile size X"),de(),fe(6,"app-input-text",4),Fe("onIntegerChanged",function(i){return n.updateSettings(n.settings.setTileSizeX(i))}),de()(),fe(7,"label",2)(8,"span",3),Ge(9,"Tile size Y"),de(),fe(10,"app-input-text",4),Fe("onIntegerChanged",function(i){return n.updateSettings(n.settings.setTileSizeY(i))}),de()()(),fe(11,"div",0)(12,"div",1),Ge(13,"Common"),de(),fe(14,"label",2)(15,"span",3),Ge(16,"Font Name"),de(),fe(17,"app-input-text",5),Fe("onStringChanged",function(i){return n.updateSettings(n.settings.setFontName(i))}),de()(),fe(18,"label",2)(19,"span",3),Ge(20,"Font Size"),de(),fe(21,"app-input-text",4),Fe("onIntegerChanged",function(i){return n.updateSettings(n.settings.setFontSize(i))}),de()(),fe(22,"label",2)(23,"span",3),Ge(24,"Letter Spacing"),de(),fe(25,"app-input-text",6),Fe("onFloatChanged",function(i){return n.updateSettings(n.settings.setLetterSpacing(i))}),de()(),fe(26,"label",2)(27,"span",3),Ge(28,"Baseline Height"),de(),fe(29,"app-input-text",6),Fe("onFloatChanged",function(i){return n.updateSettings(n.settings.setBaseLine(i))}),de()(),fe(30,"label",2)(31,"span",3),Ge(32,"Space Size"),de(),fe(33,"app-input-text",6),Fe("onFloatChanged",function(i){return n.updateSettings(n.settings.setSpaceSize(i))}),de()()(),fe(34,"label",0)(35,"div",1),Ge(36,"Character Set"),de(),fe(37,"textarea",7),Fe("ngModelChange",function(i){return n.updateSettings(n.settings.setCharacters(i))}),de()(),fe(38,"div",0)(39,"div",1),Ge(40,"FNT File"),de(),fe(41,"label",2)(42,"span",3),Ge(43,"Line Height"),de(),fe(44,"app-input-text",6),Fe("onFloatChanged",function(i){return n.updateSettings(n.settings.setLineHeight(i))}),de()()(),fe(45,"div",0)(46,"div",1),Ge(47,"OTF File"),de(),fe(48,"label",2)(49,"span",3),Ge(50,"Font grid size (unitsPerEm)"),de(),fe(51,"app-input-text",4),Fe("onIntegerChanged",function(i){return n.updateOtfSettings(n.otfSettings.setUnitsPerEm(i))}),de()(),fe(52,"label",2)(53,"span",3),Ge(54,"Power of two"),de(),Ml(55,"app-input-text",8),de(),fe(56,"label",2)(57,"span",3),Ge(58,"Size of pixel"),de(),Ml(59,"app-input-text",8),de()()),2&t&&(Ht(6),lt("value",n.settings.tileSizeX)("type","integer"),Ht(4),lt("value",n.settings.tileSizeY)("type","integer"),Ht(7),lt("value",n.settings.fontName)("type","string"),Ht(4),lt("value",n.settings.fontSize)("type","integer"),Ht(4),lt("value",n.settings.letterSpacing)("type","float"),Ht(4),lt("value",n.settings.baseLine)("type","float"),Ht(4),lt("value",n.settings.spaceSize)("type","float"),Ht(4),lt("ngModel",n.settings.characters),Ht(7),lt("value",n.settings.lineHeight)("type","float"),Ht(7),lt("value",n.otfSettings.unitsPerEm)("type","integer"),Ht(4),lt("value",n.isPowerOfTwo(n.otfSettings.unitsPerEm)?"Yes":"No")("editable",!1)("warning",!n.isPowerOfTwo(n.otfSettings.unitsPerEm))("type","text"),Ht(4),lt("value",n.otfSettings.getPixelScale(n.settings.fontSize))("editable",!1)("warning",!n.isWholeNumber(n.otfSettings.getPixelScale(n.settings.fontSize)))("type","text"))},dependencies:[Yl,um,tf,Jl]});class tu{constructor(){this.checked=!1,this.checkedChange=new et}click(){this.checked=!this.checked,this.checkedChange.emit(this.checked)}}tu.\u0275fac=function(t){return new(t||tu)},tu.\u0275cmp=tr({type:tu,selectors:[["app-input-checkbox"]],inputs:{checked:"checked"},outputs:{checkedChange:"checkedChange"},decls:3,vars:2,consts:[[1,"checkbox",3,"click"],[1,"checkmark"]],template:function(t,n){1&t&&(fe(0,"div",0),Fe("click",function(){return n.click()}),fe(1,"div",1),Ge(2,"\u2713"),de()()),2&t&&Si("checked",n.checked)},styles:[".checkbox[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-weight:700;width:14px;height:14px;background:var(--background-input);outline:none;border:2px solid white;border-top-color:var(--bevel-dark-color);border-left-color:var(--bevel-dark-color);border-right-color:var(--bevel-light-color);border-bottom-color:var(--bevel-light-color)}.checkbox[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{visibility:hidden}.checkbox.checked[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{visibility:visible}"]});const mO=["canvas"];class nu{constructor(){this.mouseButtonLeft=!1,this.mouseButtonMiddle=!1,this.mouseButtonRight=!1,this.mouseDeltaX=0,this.mouseDeltaY=0,this.mouseX=0,this.mouseY=0,this.viewX=0,this.viewY=0,this.viewScaleX=1,this.viewScaleY=1,this.requestedAnimationFrame=-1,this.overlayCharacters=!1}ngOnChanges(){this.redraw()}ngAfterViewInit(){this.canvas=this.canvasRef.nativeElement,this.context=this.canvas.getContext("2d"),this.context.imageSmoothingEnabled=!1,this.viewX=-16,this.viewY=-16,this.viewScaleX=2,this.viewScaleY=2,this.resize(),this.redraw()}setOverlayCharacters(t){this.overlayCharacters=t,this.redraw()}redraw(){this.requestedAnimationFrame>0||(this.requestedAnimationFrame=requestAnimationFrame(()=>{this.requestedAnimationFrame=0,this.draw()}))}resize(){this.canvas.width=this.canvas.offsetWidth,this.canvas.height=this.canvas.offsetHeight,this.redraw()}draw(){void 0!==this.context&&(this.context.imageSmoothingEnabled=this.viewScaleX<1,this.context.resetTransform(),this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.scale(this.viewScaleX,this.viewScaleY),this.context.translate(-this.viewX,-this.viewY),this.drawImage(),this.drawGrid())}drawImage(){void 0!==this.image&&void 0!==this.image.image&&this.context.drawImage(this.image.image,0,0)}drawGrid(){if(void 0===this.settings||void 0===this.image||void 0===this.image.image)return;let t=this.settings.characters.split("\n"),n=this.image.image.width,r=this.image.image.height,i=this.settings.tileSizeX,l=this.settings.tileSizeY;if(this.context.lineWidth=this.viewScreenPixelSize,this.context.strokeStyle="rgba(255, 255, 255, 0.3)",i>0){this.context.beginPath();for(let d=0;d<n;d+=i)this.context.moveTo(d,0),this.context.lineTo(d,r);this.context.stroke()}if(l>0){this.context.beginPath();for(let d=0;d<r;d+=l)this.context.moveTo(0,d),this.context.lineTo(n,d);this.context.stroke()}if(this.context.strokeStyle="rgba(0, 255, 255, 0.3)",l>0){this.context.beginPath();for(let d=this.settings.baseLine;d<r;d+=l)this.context.moveTo(0,d),this.context.lineTo(n,d);this.context.stroke()}for(let d=0;d<t.length;d++){let h=t[d];for(let g=0;g<h.length;g++){let v=g*i,C=d*l;this.context.save(),this.context.translate(v,C),this.context.beginPath(),this.context.strokeStyle="blue",this.context.moveTo(0,this.settings.baseLine),this.context.lineTo(i,this.settings.baseLine),this.context.stroke(),this.context.beginPath(),this.context.strokeStyle="red",this.context.moveTo(0,this.settings.baseLine),this.context.lineTo(0,this.settings.baseLine-this.settings.fontSize),this.context.stroke(),this.overlayCharacters&&(this.context.textAlign="left",this.context.font=this.settings.fontSize+"px Tahoma",this.context.fillStyle="rgba(0, 0, 0, 0.4)",this.context.fillText(h[g],0,this.settings.baseLine)),this.context.restore()}}}toGridX(t){return Math.floor(t/(this.settings?.tileSizeX??1))}toGridY(t){return Math.floor(t/(this.settings?.tileSizeY??1))}get canvasWidth(){return this.canvas.width}get canvasHeight(){return this.canvas.height}get viewWidth(){return this.canvasWidth/this.viewScaleX}get viewHeight(){return this.canvasHeight/this.viewScaleY}get viewScreenPixelSize(){return 1/this.viewScaleX}toViewX(t){return this.viewX+t/this.viewScaleX}toViewScaleX(t){return t/this.viewScaleX}toViewY(t){return this.viewY+t/this.viewScaleY}toViewScaleY(t){return t/this.viewScaleY}translate(t,n){this.viewX-=t,this.viewY-=n,this.redraw()}zoom(t,n,r){let i=t-this.viewX,l=n-this.viewY;this.viewX-=i/r-i,this.viewY-=l/r-l,this.viewScaleX*=r,this.viewScaleY*=r,this.redraw()}onMouseEvent(t){if(null==this.canvas)return;let n=this.canvas.getBoundingClientRect(),r=t.clientX-n.left,i=t.clientY-n.top;this.mouseDeltaX=r-this.mouseX,this.mouseDeltaY=i-this.mouseY,this.mouseX=r,this.mouseY=i}onMouseUp(t){this.onMouseEvent(t),0===t.button&&(this.mouseButtonLeft=!1),1===t.button&&(this.mouseButtonMiddle=!1),2===t.button&&(this.mouseButtonRight=!1)}onMouseMove(t){this.onMouseEvent(t),(this.mouseButtonMiddle||this.mouseButtonLeft)&&this.translate(this.toViewScaleX(this.mouseDeltaX),this.toViewScaleY(this.mouseDeltaY))}onMouseDown(t){this.onMouseEvent(t),0===t.button&&(this.mouseButtonLeft=!0),1===t.button&&(this.mouseButtonMiddle=!0),2===t.button&&(this.mouseButtonRight=!0)}onMouseWheel(t){let n=1;t.deltaY>0&&(n=.9),t.deltaY<0&&(n=1.1),this.zoom(this.toViewX(this.mouseX),this.toViewY(this.mouseY),n)}onWindowResize(){this.resize()}}function yO(e,t){if(1&e){const n=function Iv(){return R()}();fe(0,"app-upload-image",12),Fe("onImageUpload",function(i){return function Wa(e){return ue.lFrame.contextLView=e,e[8]}(n),function rc(e){return ue.lFrame.contextLView=null,e}(fd().loadImage(i))}),de()}2&e&&lt("image",fd().model.imageData)}function vO(e,t){if(1&e&&Ml(0,"app-font-image-display",13),2&e){const n=fd();lt("settings",n.model.settings)("image",n.model.imageData)}}nu.\u0275fac=function(t){return new(t||nu)},nu.\u0275cmp=tr({type:nu,selectors:[["app-font-image-display"]],viewQuery:function(t,n){if(1&t&&yb(mO,5),2&t){let r;mb(r=function vb(){return function px(e,t){return e[19].queries[t].queryList}(R(),lc())}())&&(n.canvasRef=r.first)}},hostBindings:function(t,n){1&t&&Fe("mouseup",function(i){return n.onMouseUp(i)},0,Sl)("mousemove",function(i){return n.onMouseMove(i)},!1,Sl)("resize",function(){return n.onWindowResize()},!1,Sl)},inputs:{image:"image",settings:"settings"},features:[yn],decls:11,vars:1,consts:[[1,"root-container"],[1,"canvas-container","bevel-in"],["tabindex","0",3,"mousedown","wheel"],["canvas",""],[1,"settings"],[1,"settings-title"],[1,"setting"],[1,"label"],[3,"checked","checkedChange"]],template:function(t,n){1&t&&(fe(0,"div",0)(1,"div",1)(2,"canvas",2,3),Fe("mousedown",function(i){return n.onMouseDown(i)})("wheel",function(i){return n.onMouseWheel(i)}),de()(),fe(4,"div",4)(5,"div",5),Ge(6,"Preview settings"),de(),fe(7,"label",6)(8,"span",7),Ge(9,"Overlay characters"),de(),fe(10,"app-input-checkbox",8),Fe("checkedChange",function(i){return n.setOverlayCharacters(i)}),de()()()()),2&t&&(Ht(10),lt("checked",n.overlayCharacters))},dependencies:[tu],styles:[".root-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%}.root-container[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]{flex:1;position:relative;width:100%;height:100%;margin-bottom:10px}.root-container[_ngcontent-%COMP%]   .canvas-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;outline:none}"]});class ru{constructor(){this.title="pixel-font-generator",this.model=new Wl,this.isFullscreen=!0}ngOnInit(){this.load(),this.isFullscreen=!gr.isBrowser}loadImage(t){this.model=this.model.setImage(t),this.save()}loadSettings(t){this.model=this.model.setSettings(t),this.save()}loadOtfSettings(t){this.model=this.model.setOtfSettings(t),this.save()}downloadFnt(){var t=this;return Gd(function*(){let n=function qM(e){let t=e.settings,n=e.createGlyphs(),r=new WM;return r.writeComment("General information"),r.writeInfo({bold:!1,italic:!1,unicode:!0,face:t.fontName,size:t.fontSize,spacing:[1,1]}),r.writeCommon({lineHeight:t.lineHeight,base:t.baseLine}),r.writePage({id:0,file:e.imageData.fileName??"font.png"}),r.writeSpace(),r.writeComment("Character information"),r.writeChar({id:32,page:0,x:0,y:0,width:0,height:0,xadvance:t.spaceSize}),r.writeSpace(),n.forEach(i=>{r.writeChar({id:i.getCharCode(),page:0,x:i.x,y:i.y,width:i.width,height:i.height,xadvance:i.width+t.letterSpacing,xoffset:0,yoffset:0})}),r.toString()}(t.model),r=t.model.getFntFileName(),i=window;if(i.showOpenFilePicker){const l={multiple:!1,suggestedName:r},h=yield(yield i.showSaveFilePicker(l)).createWritable();yield h.write(n),yield h.close()}else{let l=document.createElement("a");l.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(n)),l.setAttribute("download",r),l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l)}})()}downloadOtf(){var t=this;return Gd(function*(){let n=function nA(e){return function tA(e){let t=e.settings,n=e.createGlyphs(),r=e.imageData.getImageData(),i=e.otfSettings.unitsPerEm,l=e.otfSettings.getPixelScale(t.fontSize),d=[];const h=new Oo.Path;h.moveTo(0,0),h.lineTo(t.tileSizeX*l,0),h.lineTo(t.tileSizeX*l,t.baseLine*l),h.lineTo(0,t.baseLine*l),h.lineTo(0,0);const g=new Oo.Glyph({name:".notdef",advanceWidth:t.tileSizeX*l,path:h}),v=new Oo.Glyph({name:" ",unicode:32,advanceWidth:t.spaceSize*l,path:new Oo.Path});d.push(g),d.push(v);let C=0,_=0;return n.forEach(T=>{const O=e.otfSettings.preserveColor?function eA(e,t,n,r){const i=new Oo.Path;i.fill="red";for(let l=0;l<n.width;l++)for(let d=0;d<n.height;d++){if(!t.hasPixel(l+n.x,d+n.y))continue;let h=l,g=e.baseLine-d-1;i.moveTo(h*r,g*r),i.lineTo(h*r+r,g*r),i.lineTo(h*r+r,g*r+r),i.lineTo(h*r,g*r+r),i.lineTo(h*r,g*r)}return console.dir(i),i}(t,r,T,l):function JM(e,t,n,r){const i=new Oo.Path;for(let l=0;l<n.width;l++)for(let d=0;d<n.height;d++){if(!t.hasPixel(l+n.x,d+n.y))continue;let h=l,g=e.baseLine-d-1;i.moveTo(h*r,g*r),i.lineTo(h*r+r,g*r),i.lineTo(h*r+r,g*r+r),i.lineTo(h*r,g*r+r),i.lineTo(h*r,g*r)}return i}(t,r,T,l),k=O.getBoundingBox(),P=new Oo.Glyph({name:T.character,unicode:T.getCharCode(),advanceWidth:T.width*l+t.letterSpacing*l,xMin:k.x1,xMax:k.x2,yMax:k.y1,yMin:k.y2,path:O});C=Math.max(C,k.y2),_=Math.min(_,k.y1),d.push(P)}),new Oo.Font({familyName:t.fontName,styleName:"Regular",unitsPerEm:i,ascender:C,descender:_,glyphs:d})}(e).toArrayBuffer()}(t.model),r=t.model.getOtfFileName(),i=window;if(i.showOpenFilePicker){const l={multiple:!1,suggestedName:r},h=yield(yield i.showSaveFilePicker(l)).createWritable();yield h.write(n),yield h.close()}else{let l=document.createElement("a");const d=window.URL.createObjectURL(new Blob([n]));l.setAttribute("href",d),l.setAttribute("download",r),l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l)}})()}load(){let t=localStorage.getItem("data");if(null===t)return;let n=JSON.parse(t),r=this.model.settings;this.model=this.model.setSettings(new Zn(n.fontName??r.fontName,n.tileSizeX??r.tileSizeX,n.tileSizeY??r.tileSizeY,n.fontSize??r.fontSize,n.lineHeight??r.lineHeight,n.letterSpacing??r.letterSpacing,n.baseLine??r.baseLine,n.spaceSize??r.spaceSize,n.characters??r.characters))}hasImage(){return!(void 0===this.model.imageData||void 0===this.model.imageData.image)}saveInternal(){localStorage.setItem("data",JSON.stringify(this.model.settings))}onKeydownHandler(t){this.downloadFnt(),t.preventDefault()}onResize(){this.isFullscreen=!gr.isBrowser}save(){clearTimeout(this._timeout),this._timeout=setTimeout(()=>{this.saveInternal()},500)}}function aC(e){return new ze(t=>{pn(e()).subscribe(t)})}ru.\u0275fac=function(t){return new(t||ru)},ru.\u0275cmp=tr({type:ru,selectors:[["app-root"]],hostBindings:function(t,n){1&t&&Fe("keydown.control.s",function(i){return n.onKeydownHandler(i)},0,Fy)("resize",function(i){return n.onResize(i)},!1,Sl)},decls:20,vars:8,consts:[[1,"app-container"],[1,"app-content","window-container"],[1,"heading","window-header"],[1,"settings"],[1,"introduction"],[1,"font-preview"],[3,"image","onImageUpload",4,"ngIf"],[3,"settings","image",4,"ngIf"],[1,"font-settings"],[3,"settings","otfSettings","onSettingsChange","onOtfSettingsChange"],[1,"save-buttons"],[3,"click"],[3,"image","onImageUpload"],[3,"settings","image"]],template:function(t,n){1&t&&(fe(0,"div",0)(1,"div",1)(2,"div",2),Ge(3," Bitmap font creator "),de(),fe(4,"div",3)(5,"div",4)(6,"p"),Ge(7," This program allows the user to create a tilemap spritesheet of letters and turn them into a bitmap font. Either export the .fnt file or .otf (Open Font Type) file. "),de(),fe(8,"p"),Ge(9,"Add your image, insert the right data and download the result."),de()(),fe(10,"div",5),jp(11,yO,1,1,"app-upload-image",6),jp(12,vO,1,2,"app-font-image-display",7),de(),fe(13,"div",8)(14,"app-font-settings",9),Fe("onSettingsChange",function(i){return n.loadSettings(i)})("onOtfSettingsChange",function(i){return n.loadOtfSettings(i)}),de()(),fe(15,"div",10)(16,"button",11),Fe("click",function(){return n.downloadFnt()}),Ge(17,"Save Fnt"),de(),fe(18,"button",11),Fe("click",function(){return n.downloadOtf()}),Ge(19,"Save OTF"),de()()()()()),2&t&&(Si("fullscreen",n.isFullscreen)("not-fullscreen",!n.isFullscreen),Ht(11),lt("ngIf",!n.hasImage()),Ht(1),lt("ngIf",n.hasImage()),Ht(2),lt("settings",n.model.settings)("otfSettings",n.model.otfSettings))},dependencies:[E1,ql,eu,nu],styles:['.app-container[_ngcontent-%COMP%]{width:100%;padding-top:20px;min-height:100vh;display:flex;justify-content:center;align-items:flex-start}.app-container[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]{max-width:800px;margin-left:16px;margin-right:16px;background:var(--background)}.app-container[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]{padding:10px;display:grid;grid-template-columns:1fr 1fr;grid-template-areas:"introduction introduction" "font-preview font-settings" "save-buttons save-buttons";gap:12px;justify-content:stretch;align-items:stretch}@media only screen and (max-width: 600px){.app-container[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]{grid-template-areas:"introduction introduction" "font-preview font-preview" "font-settings font-settings" "save-buttons save-buttons"}}.app-container[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .introduction[_ngcontent-%COMP%]{grid-area:introduction}.app-container[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .font-preview[_ngcontent-%COMP%]{grid-area:font-preview}.app-container[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .font-settings[_ngcontent-%COMP%]{grid-area:font-settings}.app-container[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .save-buttons[_ngcontent-%COMP%]{grid-area:save-buttons}.app-container[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .font-preview[_ngcontent-%COMP%]{min-width:200px;min-height:200px}.app-container[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .save-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:flex-end;gap:4px}.app-container.fullscreen[_ngcontent-%COMP%]{padding-top:0;background:var(--background);width:100%;min-height:100vh}.app-container.fullscreen[_ngcontent-%COMP%]   .app-content[_ngcontent-%COMP%]{width:100%;height:100%;max-width:none;max-height:none;margin-left:0;margin-right:0;border:none}.app-container.fullscreen[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{display:none}']});const DO=["addListener","removeListener"],CO=["addEventListener","removeEventListener"],_O=["on","off"];function nf(e,t,n,r){if(De(n)&&(r=n,n=void 0),r)return nf(e,t,n).pipe(tD(r));const[i,l]=function EO(e){return De(e.addEventListener)&&De(e.removeEventListener)}(e)?CO.map(d=>h=>e[d](t,h,n)):function wO(e){return De(e.addListener)&&De(e.removeListener)}(e)?DO.map(lC(e,t)):function SO(e){return De(e.on)&&De(e.off)}(e)?_O.map(lC(e,t)):[];if(!i&&Vi(e))return Hi(d=>nf(d,t,n))(pn(e));if(!i)throw new TypeError("Invalid event target");return new ze(d=>{const h=(...g)=>d.next(1<g.length?g:g[0]);return i(h),()=>l(h)})}function lC(e,t){return n=>r=>e[n](t,r)}function Im(...e){return $i(e,io(e))}function uC(...e){return function xO(){return ji(1)}()($i(e,io(e)))}const No=new ze(to);function Qs(e,t){return en((n,r)=>{let i=0;n.subscribe($t(r,l=>e.call(t,l,i++)&&r.next(l)))})}function rf(e,t){return en((n,r)=>{let i=null,l=0,d=!1;const h=()=>d&&!i&&r.complete();n.subscribe($t(r,g=>{i?.unsubscribe();let v=0;const C=l++;pn(e(g,C)).subscribe(i=$t(r,_=>r.next(t?t(g,_,C,v++):_),()=>{i=null,h()}))},()=>{d=!0,h()}))})}class TO extends ze{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,oo(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ft;const n=this.getSubject();t.add(this.source.subscribe($t(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ft.EMPTY)}return t}refCount(){return function IO(){return en((e,t)=>{let n=null;e._refCount++;const r=$t(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,l=n;n=null,i&&(!l||i===l)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}()(this)}}const AO={connector:()=>new yr};function cC(e,t=AO){const{connector:n}=t;return en((r,i)=>{const l=n();pn(e(function MO(e){return new ze(t=>e.subscribe(t))}(l))).subscribe(i),i.add(r.subscribe(l))})}function Po(e){return e<=0?()=>ya:en((t,n)=>{let r=0;t.subscribe($t(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}class RO extends Ft{constructor(t,n){super()}schedule(t,n=0){return this}}const of={setInterval(e,t,...n){const{delegate:r}=of;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=of;return(t?.clearInterval||clearInterval)(e)},delegate:void 0},dC={now:()=>(dC.delegate||Date).now(),delegate:void 0};class ou{constructor(t,n=ou.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}ou.now=dC.now;const fC=new class PO extends ou{constructor(t,n=ou.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}(class NO extends RO{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,l=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(l,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(l,this.id,n),this}requestAsyncId(t,n,r=0){return of.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&of.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(l){r=!0,i=l||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ar(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}),LO=fC;function hC(e,t){return t?n=>uC(t.pipe(Po(1),function VO(){return en((e,t)=>{e.subscribe($t(t,to))})}()),n.pipe(hC(e))):Hi((n,r)=>e(n,r).pipe(Po(1),function UO(e){return wn(()=>e)}(n)))}const iu="Service workers are disabled or not supported by this browser";class sf{constructor(t){if(this.serviceWorker=t,t){const r=nf(t,"controllerchange").pipe(wn(()=>t.controller)),l=uC(aC(()=>Im(t.controller)),r);this.worker=l.pipe(Qs(C=>!!C)),this.registration=this.worker.pipe(rf(()=>t.getRegistration()));const v=nf(t,"message").pipe(wn(C=>C.data)).pipe(Qs(C=>C&&C.type)).pipe(function FO(e){return e?t=>cC(e)(t):t=>function OO(e,t){const n=De(e)?e:()=>e;return De(t)?cC(t,{connector:n}):r=>new TO(r,n)}(new yr)(t)}());v.connect(),this.events=v}else this.worker=this.events=this.registration=function GO(e){return aC(()=>function bO(e,t){const n=De(e)?e:()=>e,r=i=>i.error(n());return new ze(t?i=>t.schedule(r,0,i):r)}(new Error(e)))}(iu)}postMessage(t,n){return this.worker.pipe(Po(1),function kO(e,t,n){const r=De(e)||t||n?{next:e,error:t,complete:n}:e;return r?en((i,l)=>{var d;null===(d=r.subscribe)||void 0===d||d.call(r);let h=!0;i.subscribe($t(l,g=>{var v;null===(v=r.next)||void 0===v||v.call(r,g),l.next(g)},()=>{var g;h=!1,null===(g=r.complete)||void 0===g||g.call(r),l.complete()},g=>{var v;h=!1,null===(v=r.error)||void 0===v||v.call(r,g),l.error(g)},()=>{var g,v;h&&(null===(g=r.unsubscribe)||void 0===g||g.call(r)),null===(v=r.finalize)||void 0===v||v.call(r)}))}):hn}(r=>{r.postMessage({action:t,...n})})).toPromise().then(()=>{})}postMessageWithOperation(t,n,r){const i=this.waitForOperationCompleted(r),l=this.postMessage(t,n);return Promise.all([l,i]).then(([,d])=>d)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let n;return n="string"==typeof t?r=>r.type===t:r=>t.includes(r.type),this.events.pipe(Qs(n))}nextEventOfType(t){return this.eventsOfType(t).pipe(Po(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(Qs(n=>n.nonce===t),Po(1),wn(n=>{if(void 0!==n.result)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let $O=(()=>{class e{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,this.pushManager=null,this.subscriptionChanges=new yr,!n.isEnabled)return this.messages=No,this.notificationClicks=No,void(this.subscription=No);this.messages=this.sw.eventsOfType("PUSH").pipe(wn(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(wn(i=>i.data)),this.pushManager=this.sw.registration.pipe(wn(i=>i.pushManager));const r=this.pushManager.pipe(rf(i=>i.getSubscription()));this.subscription=_a(r,this.subscriptionChanges)}requestSubscription(n){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(iu));const r={userVisibleOnly:!0};let i=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),l=new Uint8Array(new ArrayBuffer(i.length));for(let d=0;d<i.length;d++)l[d]=i.charCodeAt(d);return r.applicationServerKey=l,this.pushManager.pipe(rf(d=>d.subscribe(r)),Po(1)).toPromise().then(d=>(this.subscriptionChanges.next(d),d))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Po(1),rf(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(iu))}decodeBase64(n){return atob(n)}}return e.\u0275fac=function(n){return new(n||e)(we(sf))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac}),e})(),zO=(()=>{class e{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,!n.isEnabled)return this.versionUpdates=No,this.available=No,this.activated=No,void(this.unrecoverable=No);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(Qs(r=>"VERSION_READY"===r.type),wn(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(iu));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(iu));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}}return e.\u0275fac=function(n){return new(n||e)(we(sf))},e.\u0275prov=Ne({token:e,factory:e.\u0275fac}),e})();class Tm{}const pC=new se("NGSW_REGISTER_SCRIPT");function WO(e,t,n,r){return()=>{if(!A1(r)||!("serviceWorker"in navigator)||!1===n.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)i=n.registrationStrategy();else{const[d,...h]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(d){case"registerImmediately":i=Im(null);break;case"registerWithDelay":i=gC(+h[0]||0);break;case"registerWhenStable":i=h[0]?_a(mC(e),gC(+h[0])):mC(e);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}e.get(jt).runOutsideAngular(()=>i.pipe(Po(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:n.scope}).catch(d=>console.error("Service worker registration failed with:",d))))}}function gC(e){return Im(null).pipe(function jO(e,t=fC){const n=function HO(e=0,t,n=LO){let r=-1;return null!=t&&(ba(t)?n=t:r=t),new ze(i=>{let l=function BO(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;l<0&&(l=0);let d=0;return n.schedule(function(){i.closed||(i.next(d++),0<=r?this.schedule(void 0,r):i.complete())},l)})}(e,t);return hC(()=>n)}(e))}function mC(e){return e.get(Ed).isStable.pipe(Qs(n=>n))}function qO(e,t){return new sf(A1(t)&&!1!==e.enabled?navigator.serviceWorker:void 0)}let YO=(()=>{class e{static register(n,r={}){return{ngModule:e,providers:[{provide:pC,useValue:n},{provide:Tm,useValue:r},{provide:sf,useFactory:qO,deps:[Tm,wd]},{provide:vg,useFactory:WO,deps:[qr,pC,Tm,wd],multi:!0}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=In({type:e}),e.\u0275inj=it({providers:[$O,zO]}),e})();class Js{}Js.\u0275fac=function(t){return new(t||Js)},Js.\u0275mod=In({type:Js,bootstrap:[ru]}),Js.\u0275inj=it({imports:[PM,pO,YO.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]}),function ZM(){gr.isBrowser=matchMedia("(display-mode: browser)").matches,gr.isBrowser?console.log("Running as a browser."):(console.log("Running as a standalone app."),window.resizeTo(768,536),document.title=""),"launchQueue"in window&&(console.log("File Handling API is supported!"),window.launchQueue.setConsumer(function(){var t=Gd(function*(n){gr.launchFiles=[];for(const r of n.files){const i=yield r.getFile();gr.launchFiles.push(i)}gr.onLaunchFilesLoaded(gr.launchFiles)});return function(n){return t.apply(this,arguments)}}())),window.addEventListener("resize",()=>{gr.isBrowser=matchMedia("(display-mode: browser)").matches})}(),NM().bootstrapModule(Js).catch(e=>console.error(e))},740:function(Ai,ea,su){var De,Oi,Fi=(()=>{var Ar=Object.defineProperty,Ft=Object.getOwnPropertyDescriptor,au=Object.getOwnPropertyNames,lu=Object.prototype.hasOwnProperty,ta={};function Lo(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function af(o,s){this.source=o,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=s,this.destLen=0,this.ltree=new Lo,this.dtree=new Lo}((o,s)=>{for(var a in s)Ar(o,a,{get:s[a],enumerable:!0})})(ta,{BoundingBox:()=>yr,Font:()=>So,Glyph:()=>lo,Path:()=>Kn,_parse:()=>H,load:()=>sp,loadSync:()=>ap,parse:()=>ip});var Ri=new Lo,mr=new Lo,no=new Uint8Array(30),na=new Uint16Array(30),Ni=new Uint8Array(30),du=new Uint16Array(30),ra=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fu=new Lo,Gt=new Uint8Array(320);function Vo(o,s,a,u){var c,f;for(c=0;c<a;++c)o[c]=0;for(c=0;c<30-a;++c)o[c+a]=c/a|0;for(f=u,c=0;c<30;++c)s[c]=f,f+=1<<o[c]}var Pi=new Uint16Array(16);function oa(o,s,a,u){var c,f;for(c=0;c<16;++c)o.table[c]=0;for(c=0;c<u;++c)o.table[s[a+c]]++;for(o.table[0]=0,f=0,c=0;c<16;++c)Pi[c]=f,f+=o.table[c];for(c=0;c<u;++c)s[a+c]&&(o.trans[Pi[s[a+c]]++]=c)}function ia(o){o.bitcount--||(o.tag=o.source[o.sourceIndex++],o.bitcount=7);var s=1&o.tag;return o.tag>>>=1,s}function hn(o,s,a){if(!s)return a;for(;o.bitcount<24;)o.tag|=o.source[o.sourceIndex++]<<o.bitcount,o.bitcount+=8;var u=o.tag&65535>>>16-s;return o.tag>>>=s,o.bitcount-=s,u+a}function hu(o,s){for(;o.bitcount<24;)o.tag|=o.source[o.sourceIndex++]<<o.bitcount,o.bitcount+=8;var a=0,u=0,c=0,f=o.tag;do{u=2*u+(1&f),f>>>=1,++c,a+=s.table[c],u-=s.table[c]}while(u>=0);return o.tag=f,o.bitcount-=c,s.trans[a+u]}function pu(o,s,a){var u,c,f,p,m,y;for(u=hn(o,5,257),c=hn(o,5,1),f=hn(o,4,4),p=0;p<19;++p)Gt[p]=0;for(p=0;p<f;++p){var D=hn(o,3,0);Gt[ra[p]]=D}for(oa(fu,Gt,0,19),m=0;m<u+c;){var b=hu(o,fu);switch(b){case 16:var S=Gt[m-1];for(y=hn(o,2,3);y;--y)Gt[m++]=S;break;case 17:for(y=hn(o,3,3);y;--y)Gt[m++]=0;break;case 18:for(y=hn(o,7,11);y;--y)Gt[m++]=0;break;default:Gt[m++]=b}}oa(s,Gt,0,u),oa(a,Gt,u,c)}function ze(o,s,a){for(;;){var c,f,p,m,u=hu(o,s);if(256===u)return 0;if(u<256)o.dest[o.destLen++]=u;else for(c=hn(o,no[u-=257],na[u]),f=hu(o,a),m=p=o.destLen-hn(o,Ni[f],du[f]);m<p+c;++m)o.dest[o.destLen++]=o.dest[m]}}function gu(o){for(var s,u;o.bitcount>8;)o.sourceIndex--,o.bitcount-=8;if((s=256*(s=o.source[o.sourceIndex+1])+o.source[o.sourceIndex])!==(65535&~(256*o.source[o.sourceIndex+3]+o.source[o.sourceIndex+2])))return-3;for(o.sourceIndex+=4,u=s;u;--u)o.dest[o.destLen++]=o.source[o.sourceIndex++];return o.bitcount=0,0}function mu(o,s){var u,f,a=new af(o,s);do{switch(u=ia(a),hn(a,2,0)){case 0:f=gu(a);break;case 1:f=ze(a,Ri,mr);break;case 2:pu(a,a.ltree,a.dtree),f=ze(a,a.ltree,a.dtree);break;default:f=-3}if(0!==f)throw new Error("Data error")}while(!u);return a.destLen<a.dest.length?"function"==typeof a.dest.slice?a.dest.slice(0,a.destLen):a.dest.subarray(0,a.destLen):a.dest}function ro(o,s,a,u,c){return Math.pow(1-c,3)*o+3*Math.pow(1-c,2)*c*s+3*(1-c)*Math.pow(c,2)*a+Math.pow(c,3)*u}function Fr(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}(function lf(o,s){var a;for(a=0;a<7;++a)o.table[a]=0;for(o.table[7]=24,o.table[8]=152,o.table[9]=112,a=0;a<24;++a)o.trans[a]=256+a;for(a=0;a<144;++a)o.trans[24+a]=a;for(a=0;a<8;++a)o.trans[168+a]=280+a;for(a=0;a<112;++a)o.trans[176+a]=144+a;for(a=0;a<5;++a)s.table[a]=0;for(s.table[5]=32,a=0;a<32;++a)s.trans[a]=a})(Ri,mr),Vo(no,na,4,3),Vo(Ni,du,2,1),no[28]=0,na[28]=258,Fr.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},Fr.prototype.addPoint=function(o,s){"number"==typeof o&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=o,this.x2=o),o<this.x1&&(this.x1=o),o>this.x2&&(this.x2=o)),"number"==typeof s&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=s,this.y2=s),s<this.y1&&(this.y1=s),s>this.y2&&(this.y2=s))},Fr.prototype.addX=function(o){this.addPoint(o,null)},Fr.prototype.addY=function(o){this.addPoint(null,o)},Fr.prototype.addBezier=function(o,s,a,u,c,f,p,m){let y=[o,s],D=[a,u],b=[c,f],S=[p,m];this.addPoint(o,s),this.addPoint(p,m);for(let w=0;w<=1;w++){let I=6*y[w]-12*D[w]+6*b[w],x=-3*y[w]+9*D[w]-9*b[w]+3*S[w],M=3*D[w]-3*y[w];if(0===x){if(0===I)continue;let K=-M/I;0<K&&K<1&&(0===w&&this.addX(ro(y[w],D[w],b[w],S[w],K)),1===w&&this.addY(ro(y[w],D[w],b[w],S[w],K)));continue}let F=Math.pow(I,2)-4*M*x;if(F<0)continue;let W=(-I+Math.sqrt(F))/(2*x);0<W&&W<1&&(0===w&&this.addX(ro(y[w],D[w],b[w],S[w],W)),1===w&&this.addY(ro(y[w],D[w],b[w],S[w],W)));let Z=(-I-Math.sqrt(F))/(2*x);0<Z&&Z<1&&(0===w&&this.addX(ro(y[w],D[w],b[w],S[w],Z)),1===w&&this.addY(ro(y[w],D[w],b[w],S[w],Z)))}},Fr.prototype.addQuad=function(o,s,a,u,c,f){let p=o+.6666666666666666*(a-o),m=s+2/3*(u-s);this.addBezier(o,s,p,m,p+1/3*(c-o),m+1/3*(f-s),c,f)};var yr=Fr;function nt(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}var oo={};function en(o,s){let a=Math.floor(o),u=o-a;if(oo[s]||(oo[s]={}),void 0!==oo[s][u])return a+oo[s][u];let c=+(Math.round(u+"e+"+s)+"e-"+s);return oo[s][u]=c,a+c}function $t(o){let s=[[]],a=0,u=0;for(let c=0;c<o.length;c+=1){let f=s[s.length-1],p=o[c],m=f[0],y=f[1],D=f[f.length-1],b=o[c+1];f.push(p),"M"===p.type?(a=p.x,u=p.y):"L"!==p.type||b&&"Z"!==b.command?"L"===p.type&&D&&D.x===p.x&&D.y===p.y?f.pop():"Z"===p.type&&(m&&y&&D&&"M"===m.type&&"L"===y.type&&"L"===D.type&&D.x===m.x&&D.y===m.y&&(f.shift(),f[0].type="M"),c+1<o.length&&s.push([])):Math.abs(p.x-a)>1||Math.abs(p.y-u)>1||f.pop()}return[].concat.apply([],s)}nt.prototype.fromSVG=function(o,s={}){typeof SVGPathElement<"u"&&o instanceof SVGPathElement&&(o=o.getAttribute("d")),s=function uf(o){return Object.assign({},{decimalPlaces:2,optimize:!0,flipY:!0,flipYBase:void 0,scale:1,x:0,y:0},o)}(s),this.commands=[];let u="MmLlQqCcZzHhVv",p={},m=[""],y=!1;function b(x){if(!this.commands.length)return x;let M=this.commands[this.commands.length-1];for(let F=0;F<x.length;F++)x[F]+=M[1&F?"y":"x"];return x}function S(){if(void 0===p.type)return;let x=p.type.toUpperCase(),M="Z"!==x&&p.type.toUpperCase()!==p.type,F=function D(x){return x.filter(M=>M.length).map(M=>{let F=parseFloat(M);return(s.decimalPlaces||0===s.decimalPlaces)&&(F=en(F,s.decimalPlaces)),F})}(m);if(m=[""],!F.length&&"Z"!==x)return;M&&"H"!==x&&"V"!==x&&(F=b.apply(this,[F]));let W=this.commands.length&&this.commands[this.commands.length-1].x||0,Z=this.commands.length&&this.commands[this.commands.length-1].y||0;switch(x){case"M":this.moveTo(...F);break;case"L":this.lineTo(...F);break;case"V":for(let K=0;K<F.length;K++){let me=0;M&&(me=this.commands.length&&this.commands[this.commands.length-1].y||0),this.lineTo(W,F[K]+me)}break;case"H":for(let K=0;K<F.length;K++){let me=0;M&&(me=this.commands.length&&this.commands[this.commands.length-1].x||0),this.lineTo(F[K]+me,Z)}break;case"C":this.bezierCurveTo(...F);break;case"Q":this.quadraticCurveTo(...F);break;case"Z":(this.commands.length<1||"Z"!==this.commands[this.commands.length-1].type)&&this.close()}if(this.commands.length)for(let K in this.commands[this.commands.length-1])void 0===this.commands[this.commands.length-1][K]&&(this.commands[this.commands.length-1][K]=0)}for(let x=0;x<o.length;x++){let M=o.charAt(x),F=m[m.length-1];if("0123456789".indexOf(M)>-1)m[m.length-1]+=M;else if("-+".indexOf(M)>-1)if(!p.type&&!this.commands.length&&(p.type="L"),"-"===M)!p.type||F.indexOf("-")>0?y=!0:F.length?m.push("-"):m[m.length-1]=M;else{if(p.type&&!(F.length>0))continue;y=!0}else if(u.indexOf(M)>-1)p.type?(S.apply(this),p={type:M}):p.type=M;else{if("SsTtAa".indexOf(M)>-1)throw new Error("Unsupported path command: "+M+". Currently supported commands are "+u.split("").join(", ")+".");" ,\t\n\r\f\v".indexOf(M)>-1?m.push(""):"."===M?!p.type||F.indexOf(M)>-1?y=!0:m[m.length-1]+=M:y=!0}if(y)throw new Error("Unexpected character: "+M+" at offset "+x)}S.apply(this),s.optimize&&(this.commands=$t(this.commands));let w=s.flipY,I=s.flipYBase;if(!0===w&&void 0===s.flipYBase){let x=this.getBoundingBox();I=x.y1+x.y2}for(let x in this.commands){let M=this.commands[x];for(let F in M)["x","x1","x2"].includes(F)?this.commands[x][F]=s.x+M[F]*s.scale:["y","y1","y2"].includes(F)&&(this.commands[x][F]=s.y+(w?I-M[F]:M[F])*s.scale)}return this},nt.fromSVG=function(o,s){return(new nt).fromSVG(o,s)},nt.prototype.moveTo=function(o,s){this.commands.push({type:"M",x:o,y:s})},nt.prototype.lineTo=function(o,s){this.commands.push({type:"L",x:o,y:s})},nt.prototype.curveTo=nt.prototype.bezierCurveTo=function(o,s,a,u,c,f){this.commands.push({type:"C",x1:o,y1:s,x2:a,y2:u,x:c,y:f})},nt.prototype.quadTo=nt.prototype.quadraticCurveTo=function(o,s,a,u){this.commands.push({type:"Q",x1:o,y1:s,x:a,y:u})},nt.prototype.close=nt.prototype.closePath=function(){this.commands.push({type:"Z"})},nt.prototype.extend=function(o){if(o.commands)o=o.commands;else if(o instanceof yr){let s=o;return this.moveTo(s.x1,s.y1),this.lineTo(s.x2,s.y1),this.lineTo(s.x2,s.y2),this.lineTo(s.x1,s.y2),void this.close()}Array.prototype.push.apply(this.commands,o)},nt.prototype.getBoundingBox=function(){let o=new yr,s=0,a=0,u=0,c=0;for(let f=0;f<this.commands.length;f++){let p=this.commands[f];switch(p.type){case"M":o.addPoint(p.x,p.y),s=u=p.x,a=c=p.y;break;case"L":o.addPoint(p.x,p.y),u=p.x,c=p.y;break;case"Q":o.addQuad(u,c,p.x1,p.y1,p.x,p.y),u=p.x,c=p.y;break;case"C":o.addBezier(u,c,p.x1,p.y1,p.x2,p.y2,p.x,p.y),u=p.x,c=p.y;break;case"Z":u=s,c=a;break;default:throw new Error("Unexpected path command "+p.type)}}return o.isEmpty()&&o.addPoint(0,0),o},nt.prototype.draw=function(o){let s=this._layers;if(s&&s.length){for(let u=0;u<s.length;u++)this.draw.call(s[u],o);return}let a=this._image;if(a)o.drawImage(a.image,a.x,a.y,a.width,a.height);else{o.beginPath();for(let u=0;u<this.commands.length;u+=1){let c=this.commands[u];"M"===c.type?o.moveTo(c.x,c.y):"L"===c.type?o.lineTo(c.x,c.y):"C"===c.type?o.bezierCurveTo(c.x1,c.y1,c.x2,c.y2,c.x,c.y):"Q"===c.type?o.quadraticCurveTo(c.x1,c.y1,c.x,c.y):"Z"===c.type&&this.stroke&&this.strokeWidth&&o.closePath()}this.fill&&(o.fillStyle=this.fill,o.fill()),this.stroke&&(o.strokeStyle=this.stroke,o.lineWidth=this.strokeWidth,o.stroke())}},nt.prototype.toPathData=function(o){function s(m){let y=en(m,o.decimalPlaces);return Math.round(m)===y?""+y:y.toFixed(o.decimalPlaces)}function a(){let m="";for(let y=0;y<arguments.length;y+=1){let D=arguments[y];D>=0&&y>0&&(m+=" "),m+=s(D)}return m}o=function wn(o){return parseInt(o)===o&&(o={decimalPlaces:o,flipY:!1}),Object.assign({},{decimalPlaces:2,optimize:!0,flipY:!0,flipYBase:void 0},o)}(o);let u=this.commands;o.optimize&&(u=JSON.parse(JSON.stringify(this.commands)),u=$t(u));let c=o.flipY,f=o.flipYBase;if(!0===c&&void 0===f){let m=new nt;m.extend(u);let y=m.getBoundingBox();f=y.y1+y.y2}let p="";for(let m=0;m<u.length;m+=1){let y=u[m];"M"===y.type?p+="M"+a(y.x,c?f-y.y:y.y):"L"===y.type?p+="L"+a(y.x,c?f-y.y:y.y):"C"===y.type?p+="C"+a(y.x1,c?f-y.y1:y.y1,y.x2,c?f-y.y2:y.y2,y.x,c?f-y.y:y.y):"Q"===y.type?p+="Q"+a(y.x1,c?f-y.y1:y.y1,y.x,c?f-y.y:y.y):"Z"===y.type&&(p+="Z")}return p},nt.prototype.toSVG=function(o,s){this._layers&&this._layers.length&&console.warn("toSVG() does not support colr font layers yet"),this._image&&console.warn("toSVG() does not support SVG glyphs yet"),s||(s=this.toPathData(o));let a='<path d="';return a+=s,a+='"',void 0!==this.fill&&"black"!==this.fill&&(a+=null===this.fill?' fill="none"':' fill="'+this.fill+'"'),this.stroke&&(a+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),a+="/>",a},nt.prototype.toDOMElement=function(o,s){this._layers&&this._layers.length&&console.warn("toDOMElement() does not support colr font layers yet"),s||(s=this.toPathData(o));let a=s,u=document.createElementNS("http://www.w3.org/2000/svg","path");return u.setAttribute("d",a),void 0!==this.fill&&"black"!==this.fill&&u.setAttribute("fill",null===this.fill?"none":this.fill),this.stroke&&(u.setAttribute("stroke",this.stroke),u.setAttribute("stroke-width",this.strokeWidth)),u};var Kn=nt;function cf(o){throw new Error(o)}function sa(o,s){o||cf(s)}var X={fail:cf,argument:sa,assert:sa},ff=2147483648,Uo={},B={},J={};function Sn(o){return function(){return o}}B.BYTE=function(o){return X.argument(o>=0&&o<=255,"Byte value should be between 0 and 255."),[o]},J.BYTE=Sn(1),B.CHAR=function(o){return[o.charCodeAt(0)]},J.CHAR=Sn(1),B.CHARARRAY=function(o){(null===o||typeof o>"u")&&(o="",console.warn("CHARARRAY with undefined or null value encountered and treated as an empty string. This is probably caused by a missing glyph name."));let s=[];for(let a=0;a<o.length;a+=1)s[a]=o.charCodeAt(a);return s},J.CHARARRAY=function(o){return typeof o>"u"?0:o.length},B.USHORT=function(o){return[o>>8&255,255&o]},J.USHORT=Sn(2),B.SHORT=function(o){return o>=32768&&(o=-(65536-o)),[o>>8&255,255&o]},J.SHORT=Sn(2),B.UINT24=function(o){return[o>>16&255,o>>8&255,255&o]},J.UINT24=Sn(3),B.ULONG=function(o){return[o>>24&255,o>>16&255,o>>8&255,255&o]},J.ULONG=Sn(4),B.LONG=function(o){return o>=ff&&(o=-(2*ff-o)),[o>>24&255,o>>16&255,o>>8&255,255&o]},J.LONG=Sn(4),B.FLOAT=function(o){if(o>32767.00001525879||o<-32768)throw new Error(`Value ${o} is outside the range of representable values in 16.16 format`);let s=Math.round(65536*o)<<0;return B.ULONG(s)},J.FLOAT=J.ULONG,B.FIXED=B.ULONG,J.FIXED=J.ULONG,B.FWORD=B.SHORT,J.FWORD=J.SHORT,B.UFWORD=B.USHORT,J.UFWORD=J.USHORT,B.F2DOT14=function(o){return B.USHORT(16384*o)},J.F2DOT14=J.USHORT,B.LONGDATETIME=function(o){return[0,0,0,0,o>>24&255,o>>16&255,o>>8&255,255&o]},J.LONGDATETIME=Sn(8),B.TAG=function(o){return X.argument(4===o.length,"Tag should be exactly 4 ASCII characters."),[o.charCodeAt(0),o.charCodeAt(1),o.charCodeAt(2),o.charCodeAt(3)]},J.TAG=Sn(4),B.Card8=B.BYTE,J.Card8=J.BYTE,B.Card16=B.USHORT,J.Card16=J.USHORT,B.OffSize=B.BYTE,J.OffSize=J.BYTE,B.SID=B.USHORT,J.SID=J.USHORT,B.NUMBER=function(o){return o>=-107&&o<=107?[o+139]:o>=108&&o<=1131?[247+((o-=108)>>8),255&o]:o>=-1131&&o<=-108?[251+((o=-o-108)>>8),255&o]:o>=-32768&&o<=32767?B.NUMBER16(o):B.NUMBER32(o)},J.NUMBER=function(o){return B.NUMBER(o).length},B.NUMBER16=function(o){return[28,o>>8&255,255&o]},J.NUMBER16=Sn(3),B.NUMBER32=function(o){return[29,o>>24&255,o>>16&255,o>>8&255,255&o]},J.NUMBER32=Sn(5),B.REAL=function(o){let s=o.toString(),a=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(s);if(a){let f=parseFloat("1e"+((a[2]?+a[2]:0)+a[1].length));s=(Math.round(o*f)/f).toString()}let u="";for(let f=0,p=s.length;f<p;f+=1){let m=s[f];u+="e"===m?"-"===s[++f]?"c":"b":"."===m?"a":"-"===m?"e":m}u+=1&u.length?"f":"ff";let c=[30];for(let f=0,p=u.length;f<p;f+=2)c.push(parseInt(u.substr(f,2),16));return c},J.REAL=function(o){return B.REAL(o).length},B.NAME=B.CHARARRAY,J.NAME=J.CHARARRAY,B.STRING=B.CHARARRAY,J.STRING=J.CHARARRAY,Uo.UTF8=function(o,s,a){let u=[],c=a;for(let f=0;f<c;f++,s+=1)u[f]=o.getUint8(s);return String.fromCharCode.apply(null,u)},Uo.UTF16=function(o,s,a){let u=[],c=a/2;for(let f=0;f<c;f++,s+=2)u[f]=o.getUint16(s);return String.fromCharCode.apply(null,u)},B.UTF16=function(o){let s=[];for(let a=0;a<o.length;a+=1){let u=o.charCodeAt(a);s[s.length]=u>>8&255,s[s.length]=255&u}return s},J.UTF16=function(o){return 2*o.length};var aa={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"};Uo.MACSTRING=function(o,s,a,u){let c=aa[u];if(void 0===c)return;let f="";for(let p=0;p<a;p++){let m=o.getUint8(s+p);f+=m<=127?String.fromCharCode(m):c[127&m]}return f};var la,Bo="function"==typeof WeakMap&&new WeakMap;function ua(o){return o>=-128&&o<=127}function Om(o,s,a){let u=0,c=o.length;for(;s<c&&u<64&&0===o[s];)++s,++u;return a.push(128|u-1),s}function Fm(o,s,a){let u=0,c=o.length,f=s;for(;f<c&&u<64;){let p=o[f];if(!ua(p)||0===p&&f+1<c&&0===o[f+1])break;++f,++u}a.push(u-1);for(let p=s;p<f;++p)a.push(o[p]+256&255);return f}function km(o,s,a){let u=0,c=o.length,f=s;for(;f<c&&u<64;){let p=o[f];if(0===p||ua(p)&&f+1<c&&ua(o[f+1]))break;++f,++u}a.push(64|u-1);for(let p=s;p<f;++p){let m=o[p];a.push(m+65536>>8&255,m+256&255)}return f}B.MACSTRING=function(o,s){let a=function(o){if(!la){la={};for(let c in aa)la[c]=new String(c)}let s=la[o];if(void 0===s)return;if(Bo){let c=Bo.get(s);if(void 0!==c)return c}let a=aa[o];if(void 0===a)return;let u={};for(let c=0;c<a.length;c++)u[a.charCodeAt(c)]=c+128;return Bo&&Bo.set(s,u),u}(s);if(void 0===a)return;let u=[];for(let c=0;c<o.length;c++){let f=o.charCodeAt(c);if(f>=128&&(f=a[f],void 0===f))return;u[c]=f}return u},J.MACSTRING=function(o,s){let a=B.MACSTRING(o,s);return void 0!==a?a.length:0},B.VARDELTAS=function(o){let s=0,a=[];for(;s<o.length;){let u=o[s];s=0===u?Om(o,s,a):u>=-128&&u<=127?Fm(o,s,a):km(o,s,a)}return a},B.INDEX=function(o){let s=1,a=[s],u=[];for(let m=0;m<o.length;m+=1){let y=B.OBJECT(o[m]);Array.prototype.push.apply(u,y),s+=y.length,a.push(s)}if(0===u.length)return[0,0];let c=[],f=1+Math.floor(Math.log(s)/Math.log(2))/8|0,p=[void 0,B.BYTE,B.USHORT,B.UINT24,B.ULONG][f];for(let m=0;m<a.length;m+=1){let y=p(a[m]);Array.prototype.push.apply(c,y)}return Array.prototype.concat(B.Card16(o.length),B.OffSize(f),c,u)},J.INDEX=function(o){return B.INDEX(o).length},B.DICT=function(o){let s=[],a=Object.keys(o),u=a.length;for(let c=0;c<u;c+=1){let f=parseInt(a[c],0),p=o[f],m=B.OPERAND(p.value,p.type),y=B.OPERATOR(f);for(let D=0;D<m.length;D++)s.push(m[D]);for(let D=0;D<y.length;D++)s.push(y[D])}return s},J.DICT=function(o){return B.DICT(o).length},B.OPERATOR=function(o){return o<1200?[o]:[12,o-1200]},B.OPERAND=function(o,s){let a=[];if(Array.isArray(s))for(let u=0;u<s.length;u+=1){X.argument(o.length===s.length,"Not enough arguments given for type"+s);let c=B.OPERAND(o[u],s[u]);for(let f=0;f<c.length;f++)a.push(c[f])}else if("SID"===s){let u=B.NUMBER(o);for(let c=0;c<u.length;c++)a.push(u[c])}else if("offset"===s){let u=B.NUMBER32(o);for(let c=0;c<u.length;c++)a.push(u[c])}else if("number"===s){let u=B.NUMBER(o);for(let c=0;c<u.length;c++)a.push(u[c])}else{if("real"!==s)throw new Error("Unknown operand type "+s);{let u=B.REAL(o);for(let c=0;c<u.length;c++)a.push(u[c])}}return a},B.OP=B.BYTE,J.OP=J.BYTE;var Nn="function"==typeof WeakMap&&new WeakMap;function Xe(o,s,a){if(s&&s.length)for(let u=0;u<s.length;u+=1){let c=s[u];this[c.name]=c.value}if(this.tableName=o,this.fields=s,a){let u=Object.keys(a);for(let c=0;c<u.length;c+=1){let f=u[c];void 0!==this[f]&&(this[f]=a[f])}}}function Ho(o,s,a){void 0===a&&(a=s.length);let u=new Array(s.length+1);u[0]={name:o+"Count",type:"USHORT",value:a};for(let c=0;c<s.length;c++)u[c+1]={name:o+c,type:"USHORT",value:s[c]};return u}function ca(o,s,a){let u=s.length,c=new Array(u+1);c[0]={name:o+"Count",type:"USHORT",value:u};for(let f=0;f<u;f++)c[f+1]={name:o+f,type:"TABLE",value:a(s[f],f)};return c}function jo(o,s,a){let u=s.length,c=[];c[0]={name:o+"Count",type:"USHORT",value:u};for(let f=0;f<u;f++)c=c.concat(a(s[f],f));return c}function Li(o){1===o.format?Xe.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Ho("glyph",o.glyphs))):2===o.format?Xe.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(jo("rangeRecord",o.ranges,function(s,a){return[{name:"startGlyphID"+a,type:"USHORT",value:s.start},{name:"endGlyphID"+a,type:"USHORT",value:s.end},{name:"startCoverageIndex"+a,type:"USHORT",value:s.index}]}))):X.assert(!1,"Coverage format must be 1 or 2.")}function da(o){Xe.call(this,"scriptListTable",jo("scriptRecord",o,function(s,a){let u=s.script,c=u.defaultLangSys;return X.assert(!!c,"Unable to write GSUB: script "+s.tag+" has no default language system."),[{name:"scriptTag"+a,type:"TAG",value:s.tag},{name:"script"+a,type:"TABLE",value:new Xe("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Xe("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:c.reqFeatureIndex}].concat(Ho("featureIndex",c.featureIndexes)))}].concat(jo("langSys",u.langSysRecords,function(f,p){let m=f.langSys;return[{name:"langSysTag"+p,type:"TAG",value:f.tag},{name:"langSys"+p,type:"TABLE",value:new Xe("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:m.reqFeatureIndex}].concat(Ho("featureIndex",m.featureIndexes)))}]})))}]}))}function fa(o){Xe.call(this,"featureListTable",jo("featureRecord",o,function(s,a){let u=s.feature;return[{name:"featureTag"+a,type:"TAG",value:s.tag},{name:"feature"+a,type:"TABLE",value:new Xe("featureTable",[{name:"featureParams",type:"USHORT",value:u.featureParams}].concat(Ho("lookupListIndex",u.lookupListIndexes)))}]}))}function ha(o,s){Xe.call(this,"lookupListTable",ca("lookup",o,function(a){let u=s[a.lookupType];return X.assert(!!u,"Unable to write GSUB lookup type "+a.lookupType+" tables."),new Xe("lookupTable",[{name:"lookupType",type:"USHORT",value:a.lookupType},{name:"lookupFlag",type:"USHORT",value:a.lookupFlag}].concat(ca("subtable",a.subtables,u)))}))}function pa(o){1===o.format?Xe.call(this,"classDefTable",[{name:"classFormat",type:"USHORT",value:1},{name:"startGlyphID",type:"USHORT",value:o.startGlyph}].concat(Ho("glyph",o.classes))):2===o.format?Xe.call(this,"classDefTable",[{name:"classFormat",type:"USHORT",value:2}].concat(jo("rangeRecord",o.ranges,function(s,a){return[{name:"startGlyphID"+a,type:"USHORT",value:s.start},{name:"endGlyphID"+a,type:"USHORT",value:s.end},{name:"class"+a,type:"USHORT",value:s.classId}]}))):X.assert(!1,"Class format must be 1 or 2.")}B.CHARSTRING=function(o){if(Nn){let u=Nn.get(o);if(void 0!==u)return u}let s=[],a=o.length;for(let u=0;u<a;u+=1){let c=o[u],f=B[c.type](c.value);for(let p=0;p<f.length;p++)s.push(f[p])}return Nn&&Nn.set(o,s),s},J.CHARSTRING=function(o){return B.CHARSTRING(o).length},B.OBJECT=function(o){let s=B[o.type];return X.argument(void 0!==s,"No encoding function for type "+o.type),s(o.value)},J.OBJECT=function(o){let s=J[o.type];return X.argument(void 0!==s,"No sizeOf function for type "+o.type),s(o.value)},B.TABLE=function(o){let s=[],a=(o.fields||[]).length,u=[],c=[];for(let f=0;f<a;f+=1){let p=o.fields[f],m=B[p.type];X.argument(void 0!==m,"No encoding function for field type "+p.type+" ("+p.name+")");let y=o[p.name];void 0===y&&(y=p.value);let D=m(y);if("TABLE"===p.type)null!==y.fields&&(c.push(s.length),u.push(D)),s.push(0,0);else for(let b=0;b<D.length;b++)s.push(D[b])}for(let f=0;f<u.length;f+=1){let p=c[f],m=s.length;X.argument(m<65536,"Table "+o.tableName+" too big."),s[p]=m>>8,s[p+1]=255&m;for(let y=0;y<u[f].length;y++)s.push(u[f][y])}return s},J.TABLE=function(o){let s=0,a=(o.fields||[]).length;for(let u=0;u<a;u+=1){let c=o.fields[u],f=J[c.type];X.argument(void 0!==f,"No sizeOf function for field type "+c.type+" ("+c.name+")");let p=o[c.name];void 0===p&&(p=c.value),s+=f(p),"TABLE"===c.type&&(s+=2)}return s},B.RECORD=B.TABLE,J.RECORD=J.TABLE,B.LITERAL=function(o){return o},J.LITERAL=function(o){return o.length},Xe.prototype.encode=function(){return B.TABLE(this)},Xe.prototype.sizeOf=function(){return J.TABLE(this)},(Li.prototype=Object.create(Xe.prototype)).constructor=Li,(da.prototype=Object.create(Xe.prototype)).constructor=da,(fa.prototype=Object.create(Xe.prototype)).constructor=fa,(ha.prototype=Object.create(Xe.prototype)).constructor=ha,(pa.prototype=Object.create(Xe.prototype)).constructor=pa;var L={Table:Xe,Record:Xe,Coverage:Li,ClassDef:pa,ScriptList:da,FeatureList:fa,LookupList:ha,ushortList:Ho,tableList:ca,recordList:jo};function Vi(o,s){return o.getUint8(s)}function Go(o,s){return o.getUint16(s,!1)}function ga(o,s){return(o.getUint16(s)<<8)+o.getUint8(s+2)}function Ui(o,s){return o.getUint32(s,!1)}function ma(o,s){return o.getInt16(s,!1)+o.getUint16(s+2,!1)/65535}var pf={byte:1,uShort:2,f2dot14:2,short:2,uInt24:3,uLong:4,fixed:4,longDateTime:8,tag:4};function A(o,s){this.data=o,this.offset=s,this.relativeOffset=0}A.prototype.parseByte=function(){let o=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,o},A.prototype.parseChar=function(){let o=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,o},A.prototype.parseCard8=A.prototype.parseByte,A.prototype.parseUShort=function(){let o=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,o},A.prototype.parseCard16=A.prototype.parseUShort,A.prototype.parseSID=A.prototype.parseUShort,A.prototype.parseOffset16=A.prototype.parseUShort,A.prototype.parseShort=function(){let o=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,o},A.prototype.parseF2Dot14=function(){let o=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,o},A.prototype.parseUInt24=function(){let o=ga(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=3,o},A.prototype.parseULong=function(){let o=Ui(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,o},A.prototype.parseLong=function(){let o=function hf(o,s){return o.getInt32(s,!1)}(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,o},A.prototype.parseOffset32=A.prototype.parseULong,A.prototype.parseFixed=function(){let o=ma(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,o},A.prototype.parseString=function(o){let s=this.data,a=this.offset+this.relativeOffset,u="";this.relativeOffset+=o;for(let c=0;c<o;c++)u+=String.fromCharCode(s.getUint8(a+c));return u},A.prototype.parseTag=function(){return this.parseString(4)},A.prototype.parseLongDateTime=function(){let o=Ui(this.data,this.offset+this.relativeOffset+4);return o-=2082844800,this.relativeOffset+=8,o},A.prototype.parseVersion=function(o){let s=Go(this.data,this.offset+this.relativeOffset),a=Go(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,void 0===o&&(o=4096),s+a/o/10},A.prototype.skip=function(o,s){void 0===s&&(s=1),this.relativeOffset+=pf[o]*s},A.prototype.parseULongList=function(o){void 0===o&&(o=this.parseULong());let s=new Array(o),a=this.data,u=this.offset+this.relativeOffset;for(let c=0;c<o;c++)s[c]=a.getUint32(u),u+=4;return this.relativeOffset+=4*o,s},A.prototype.parseOffset16List=A.prototype.parseUShortList=function(o){void 0===o&&(o=this.parseUShort());let s=new Array(o),a=this.data,u=this.offset+this.relativeOffset;for(let c=0;c<o;c++)s[c]=a.getUint16(u),u+=2;return this.relativeOffset+=2*o,s},A.prototype.parseShortList=function(o){let s=new Array(o),a=this.data,u=this.offset+this.relativeOffset;for(let c=0;c<o;c++)s[c]=a.getInt16(u),u+=2;return this.relativeOffset+=2*o,s},A.prototype.parseByteList=function(o){let s=new Array(o),a=this.data,u=this.offset+this.relativeOffset;for(let c=0;c<o;c++)s[c]=a.getUint8(u++);return this.relativeOffset+=o,s},A.prototype.parseList=function(o,s){s||(s=o,o=this.parseUShort());let a=new Array(o);for(let u=0;u<o;u++)a[u]=s.call(this);return a},A.prototype.parseList32=function(o,s){s||(s=o,o=this.parseULong());let a=new Array(o);for(let u=0;u<o;u++)a[u]=s.call(this);return a},A.prototype.parseRecordList=function(o,s){s||(s=o,o=this.parseUShort());let a=new Array(o),u=Object.keys(s);for(let c=0;c<o;c++){let f={};for(let p=0;p<u.length;p++){let m=u[p];f[m]=s[m].call(this)}a[c]=f}return a},A.prototype.parseRecordList32=function(o,s){s||(s=o,o=this.parseULong());let a=new Array(o),u=Object.keys(s);for(let c=0;c<o;c++){let f={};for(let p=0;p<u.length;p++){let m=u[p];f[m]=s[m].call(this)}a[c]=f}return a},A.prototype.parseTupleRecords=function(o,s){let a=[];for(let u=0;u<o;u++){let c=[];for(let f=0;f<s;f++)c.push(this.parseF2Dot14());a.push(c)}return a},A.prototype.parseStruct=function(o){if("function"==typeof o)return o.call(this);{let s=Object.keys(o),a={};for(let u=0;u<s.length;u++){let c=s[u];a[c]=o[c].call(this)}return a}},A.prototype.parseValueRecord=function(o){if(void 0===o&&(o=this.parseUShort()),0===o)return;let s={};return 1&o&&(s.xPlacement=this.parseShort()),2&o&&(s.yPlacement=this.parseShort()),4&o&&(s.xAdvance=this.parseShort()),8&o&&(s.yAdvance=this.parseShort()),16&o&&(s.xPlaDevice=void 0,this.parseShort()),32&o&&(s.yPlaDevice=void 0,this.parseShort()),64&o&&(s.xAdvDevice=void 0,this.parseShort()),128&o&&(s.yAdvDevice=void 0,this.parseShort()),s},A.prototype.parseValueRecordList=function(){let o=this.parseUShort(),s=this.parseUShort(),a=new Array(s);for(let u=0;u<s;u++)a[u]=this.parseValueRecord(o);return a},A.prototype.parsePointer=function(o){let s=this.parseOffset16();if(s>0)return new A(this.data,this.offset+s).parseStruct(o)},A.prototype.parsePointer32=function(o){let s=this.parseOffset32();if(s>0)return new A(this.data,this.offset+s).parseStruct(o)},A.prototype.parseListOfLists=function(o){let s=this.parseOffset16List(),a=s.length,u=this.relativeOffset,c=new Array(a);for(let f=0;f<a;f++){let p=s[f];if(0!==p)if(this.relativeOffset=p,o){let m=this.parseOffset16List(),y=new Array(m.length);for(let D=0;D<m.length;D++)this.relativeOffset=p+m[D],y[D]=o.call(this);c[f]=y}else c[f]=this.parseUShortList();else c[f]=void 0}return this.relativeOffset=u,c},A.prototype.parseCoverage=function(){let o=this.offset+this.relativeOffset,s=this.parseUShort(),a=this.parseUShort();if(1===s)return{format:1,glyphs:this.parseUShortList(a)};if(2===s){let u=new Array(a);for(let c=0;c<a;c++)u[c]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:u}}throw new Error("0x"+o.toString(16)+": Coverage format must be 1 or 2.")},A.prototype.parseClassDef=function(){let o=this.offset+this.relativeOffset,s=this.parseUShort();return 1===s?{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()}:2===s?{format:2,ranges:this.parseRecordList({start:A.uShort,end:A.uShort,classId:A.uShort})}:(console.warn(`0x${o.toString(16)}: This font file uses an invalid ClassDef format of ${s}. It might be corrupted and should be reacquired if it doesn't display as intended.`),{format:s})},A.list=function(o,s){return function(){return this.parseList(o,s)}},A.list32=function(o,s){return function(){return this.parseList32(o,s)}},A.recordList=function(o,s){return function(){return this.parseRecordList(o,s)}},A.recordList32=function(o,s){return function(){return this.parseRecordList32(o,s)}},A.pointer=function(o){return function(){return this.parsePointer(o)}},A.pointer32=function(o){return function(){return this.parsePointer32(o)}},A.tag=A.prototype.parseTag,A.byte=A.prototype.parseByte,A.uShort=A.offset16=A.prototype.parseUShort,A.uShortList=A.prototype.parseUShortList,A.uInt24=A.prototype.parseUInt24,A.uLong=A.offset32=A.prototype.parseULong,A.uLongList=A.prototype.parseULongList,A.fixed=A.prototype.parseFixed,A.f2Dot14=A.prototype.parseF2Dot14,A.struct=A.prototype.parseStruct,A.coverage=A.prototype.parseCoverage,A.classDef=A.prototype.parseClassDef;var _u={reserved:A.uShort,reqFeatureIndex:A.uShort,featureIndexes:A.uShortList};A.prototype.parseScriptList=function(){return this.parsePointer(A.recordList({tag:A.tag,script:A.pointer({defaultLangSys:A.pointer(_u),langSysRecords:A.recordList({tag:A.tag,langSys:A.pointer(_u)})})}))||[]},A.prototype.parseFeatureList=function(){return this.parsePointer(A.recordList({tag:A.tag,feature:A.pointer({featureParams:A.offset16,lookupListIndexes:A.uShortList})}))||[]},A.prototype.parseLookupList=function(o){return this.parsePointer(A.list(A.pointer(function(){let s=this.parseUShort();X.argument(1<=s&&s<=9,"GPOS/GSUB lookup type "+s+" unknown.");let a=this.parseUShort(),u=16&a;return{lookupType:s,lookupFlag:a,subtables:this.parseList(A.pointer(o[s])),markFilteringSet:u?this.parseUShort():void 0}})))||[]},A.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){let o=this.parseUShort(),s=this.parseUShort();return X.argument(1===o&&s<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:A.offset32,featureTableSubstitutionOffset:A.offset32})})||[]},A.prototype.parseVariationStore=function(){let o=this.relativeOffset,s=this.parseUShort(),a={itemVariationStore:this.parseItemVariationStore()};return this.relativeOffset=o+s+2,a},A.prototype.parseItemVariationStore=function(){let o=this.relativeOffset,s={format:this.parseUShort(),variationRegions:[],itemVariationSubtables:[]},a=this.parseOffset32(),u=this.parseUShort(),c=this.parseULongList(u);this.relativeOffset=o+a,s.variationRegions=this.parseVariationRegionList();for(let f=0;f<u;f++)this.relativeOffset=o+c[f],s.itemVariationSubtables.push(this.parseItemVariationSubtable());return s},A.prototype.parseVariationRegionList=function(){let o=this.parseUShort(),s=this.parseUShort();return this.parseRecordList(s,{regionAxes:A.recordList(o,{startCoord:A.f2Dot14,peakCoord:A.f2Dot14,endCoord:A.f2Dot14})})},A.prototype.parseItemVariationSubtable=function(){let o=this.parseUShort(),s=this.parseUShort(),a=this.parseUShortList(),u=a.length;return{regionIndexes:a,deltaSets:o&&u?this.parseDeltaSets(o,s,u):[]}},A.prototype.parseDeltaSetIndexMap=function(){let o=this.parseByte(),s=this.parseByte(),a=[],u=0;switch(o){case 0:u=this.parseUShort();break;case 1:u=this.parseULong();break;default:console.error(`unsupported DeltaSetIndexMap format ${o}`)}if(!u)return{format:o,entryFormat:s};let c=1+(15&s),f=1+((48&s)>>4);for(let p=0;p<u;p++){let m;if(1===f)m=this.parseByte();else if(2===f)m=this.parseUShort();else if(3===f)m=this.parseUInt24();else{if(4!==f)throw new Error(`Invalid entry size of ${f}`);m=this.getULong()}a.push({outerIndex:m>>c,innerIndex:m&(1<<c)-1})}return{format:o,entryFormat:s,map:a}},A.prototype.parseDeltaSets=function(o,s,a){let u=Array.from({length:o},()=>[]),c=32768&s,f=32767&s;if(f>a)throw Error("wordCount must be less than or equal to regionIndexCount");let p=(c?this.parseLong:this.parseShort).bind(this),m=(c?this.parseShort:this.parseChar).bind(this);for(let y=0;y<o;y++)for(let D=0;D<a;D++)u[y].push(D<f?p():m());return u},A.prototype.parseTupleVariationStoreList=function(o,s,a){let D,u=this.parseUShort(),c=1&this.parseUShort(),f=this.parseOffset32(),p=(c?this.parseULong:this.parseUShort).bind(this),m={},y=p();c||(y*=2);for(let b=0;b<u;b++)D=p(),c||(D*=2),m[b]=D-y?this.parseTupleVariationStore(f+y,o,s,a,b):void 0,y=D;return m},A.prototype.parseTupleVariationStore=function(o,s,a,u,c){let f=this.relativeOffset;this.relativeOffset=o,"cvar"===a&&(this.relativeOffset+=4);let p=this.parseUShort(),m=!!(32768&p),y=4095&p,D=this.parseOffset16(),b=[],S=[];for(let x=0;x<y;x++){let M=this.parseTupleVariationHeader(s,a);b.push(M)}this.relativeOffset!==o+D&&(console.warn(`Unexpected offset after parsing tuple variation headers! Expected ${o+D}, actually ${this.relativeOffset}`),this.relativeOffset=o+D),m&&(S=this.parsePackedPointNumbers());let w=this.relativeOffset;for(let x=0;x<y;x++){let M=b[x];M.privatePoints=[],this.relativeOffset=w,"cvar"===a&&!M.peakTuple&&console.warn("An embedded peak tuple is required in TupleVariationHeaders for the cvar table."),M.flags.privatePointNumbers&&(M.privatePoints=this.parsePackedPointNumbers()),delete M.flags;let F=this.offset,W=this.relativeOffset,Z=K=>{let me,Oe,Be=()=>{let xe=0;if("gvar"===a){if(xe=M.privatePoints.length||S.length,!xe){xe=u.get(c).points.length,xe+=4}}else"cvar"===a&&(xe=u.length);this.offset=F,this.relativeOffset=W,me=this.parsePackedDeltas(xe),"gvar"===a&&(Oe=this.parsePackedDeltas(xe))};return{configurable:!0,get:function(){return void 0===me&&Be(),"deltasY"===K?Oe:me},set:function(xe){void 0===me&&Be(),"deltasY"===K?Oe=xe:me=xe}}};Object.defineProperty(M,"deltas",Z.call(this,"deltas")),"gvar"===a&&Object.defineProperty(M,"deltasY",Z.call(this,"deltasY")),w+=M.variationDataSize,delete M.variationDataSize}this.relativeOffset=f;let I={headers:b};return I.sharedPoints=S,I},A.prototype.parseTupleVariationHeader=function(o,s){let a=this.parseUShort(),u=this.parseUShort(),c=!!(32768&u),f=!!(16384&u),p=!!(8192&u),m=c?void 0:4095&u,S={variationDataSize:a,peakTuple:c?this.parseTupleRecords(1,o)[0]:void 0,intermediateStartTuple:f?this.parseTupleRecords(1,o)[0]:void 0,intermediateEndTuple:f?this.parseTupleRecords(1,o)[0]:void 0,flags:{embeddedPeakTuple:c,intermediateRegion:f,privatePointNumbers:p}};return"gvar"===s&&(S.sharedTupleRecordsIndex=m),S},A.prototype.parsePackedPointNumbers=function(){let o=this.parseByte(),s=[],a=o;if(o>=128){a=(127&o)<<8|this.parseByte()}let u=0;for(;s.length<a;){let c=this.parseByte(),f=!!(128&c),p=1+(127&c);for(let m=0;m<p&&s.length<a;m++){let y;y=f?this.parseUShort():this.parseByte(),u+=y,s.push(u)}}return s},A.prototype.parsePackedDeltas=function(o){let s=[];for(;s.length<o;){let a=this.parseByte(),u=!!(128&a),c=!!(64&a),f=1+(63&a);for(let p=0;p<f&&s.length<o;p++)s.push(u?0:c?this.parseShort():this.parseChar())}return s};var H={getByte:Vi,getCard8:Vi,getUShort:Go,getCard16:Go,getShort:function vu(o,s){return o.getInt16(s,!1)},getUInt24:ga,getULong:Ui,getFixed:ma,getTag:function bu(o,s){let a="";for(let u=s;u<s+4;u+=1)a+=String.fromCharCode(o.getInt8(u));return a},getOffset:function Du(o,s,a){let u=0;for(let c=0;c<a;c+=1)u<<=8,u+=o.getUint8(s+c);return u},getBytes:function Cu(o,s,a){let u=[];for(let c=s;c<a;c+=1)u.push(o.getUint8(c));return u},bytesToString:function pn(o){let s="";for(let a=0;a<o.length;a+=1)s+=String.fromCharCode(o[a]);return s},Parser:A},Bi=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],wu={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},vr={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Su={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function Hi(o,s,a){switch(o){case 0:if(65535===s)return"und";if(a)return a[s];break;case 1:return wu[s];case 3:return Su[s]}}var ji="utf-16",ya={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Rm={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function va(o,s,a){switch(o){case 0:return ji;case 1:return Rm[a]||ya[s];case 3:if(1===s||10===s)return ji}}var ba={0:"unicode",1:"macintosh",2:"reserved",3:"windows"};function Da(o){return ba[o]}function io(o){let s={};for(let a in o)s[o[a]]=parseInt(a);return s}function Eu(o,s,a,u,c,f){return new L.Record("NameRecord",[{name:"platformID",type:"USHORT",value:o},{name:"encodingID",type:"USHORT",value:s},{name:"languageID",type:"USHORT",value:a},{name:"nameID",type:"USHORT",value:u},{name:"length",type:"USHORT",value:c},{name:"offset",type:"USHORT",value:f}])}function Ca(o,s){let a=function xu(o,s){let a=o.length,u=s.length-a+1;e:for(let c=0;c<u;c++)for(;c<u;c++){for(let f=0;f<a;f++)if(s[c+f]!==o[f])continue e;return c}return-1}(o,s);if(a<0){a=s.length;let u=0,c=o.length;for(;u<c;++u)s.push(o[u])}return a}function Gi(o,s,a=[]){if(s<256&&s in Bi){if(a.length&&!a.includes(parseInt(s)))return;s=Bi[s]}for(let u in o)for(let c in o[u])if(c===s||parseInt(c)===s)return o[u][c]}var Iu_parse=function gf(o,s,a){let u={},c=new H.Parser(o,s),f=c.parseUShort(),p=c.parseUShort(),m=c.offset+c.parseUShort();for(let y=0;y<p;y++){let D=c.parseUShort(),b=c.parseUShort(),S=c.parseUShort(),w=c.parseUShort(),I=Bi[w]||w,x=c.parseUShort(),M=c.parseUShort(),F=Hi(D,S,a),W=va(D,b,S),Z=Da(D);if(void 0!==W&&void 0!==F&&void 0!==Z){let K;if(K=W===ji?Uo.UTF16(o,m+M,x):Uo.MACSTRING(o,m+M,x,W),K){let me=u[Z];void 0===me&&(me=u[Z]={});let Oe=me[I];void 0===Oe&&(Oe=me[I]={}),Oe[F]=K}}}return 1===f&&c.parseUShort(),u},Iu_make=function mf(o,s){let a=io(ba),u=io(wu),c=io(Su),f=[],p=[];for(let y in o){let D,b=[],S={},w=io(Bi),I=a[y];for(let x in o[y]){let M=w[x];if(void 0===M&&(M=x),D=parseInt(M),isNaN(D))throw new Error('Name table entry "'+x+'" does not exist, see nameTableNames for complete list.');S[D]=o[y][x],b.push(D)}for(let x=0;x<b.length;x++){D=b[x];let M=S[D];for(let F in M){let W=M[F];if(1===I||0===I){let Z=u[F],K=vr[Z],me=va(I,K,Z),Oe=B.MACSTRING(W,me);if(0===I&&(Z=s.indexOf(F),Z<0&&(Z=s.length,s.push(F)),K=4,Oe=B.UTF16(W)),void 0!==Oe){let Be=Ca(Oe,p);f.push(Eu(I,K,Z,D,Oe.length,Be))}}if(3===I){let Z=c[F];if(void 0!==Z){let K=B.UTF16(W),me=Ca(K,p);f.push(Eu(3,1,Z,D,K.length,me))}}}}}f.sort(function(y,D){return y.platformID-D.platformID||y.encodingID-D.encodingID||y.languageID-D.languageID||y.nameID-D.nameID});let m=new L.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:f.length},{name:"stringOffset",type:"USHORT",value:6+12*f.length}]);for(let y=0;y<f.length;y++)m.fields.push({name:"record_"+y,type:"RECORD",value:f[y]});return m.fields.push({name:"strings",type:"LITERAL",value:p}),m};function _a(o,s,a){o.segments.push({end:s,start:s,delta:-(s-a),offset:0,glyphIndex:a})}var ke_parse=function $i(o,s){let a={};a.version=H.getUShort(o,s),X.argument(0===a.version,"cmap table version should be 0."),a.numTables=H.getUShort(o,s+2);let u=null,c=-1,f=-1,p=null,m=null,y=[0,1,2,3,4,6],D=[0,1,10];for(let S=a.numTables-1;S>=0;S-=1)if(p=H.getUShort(o,s+4+8*S),m=H.getUShort(o,s+4+8*S+2),3===p&&D.includes(m)||0===p&&y.includes(m)||1===p&&0===m){if(f>0)continue;if(f=H.getULong(o,s+4+8*S+4),u)break}else if(0===p&&5===m)if(c=H.getULong(o,s+4+8*S+4),u=new H.Parser(o,s+c),14!==u.parseUShort())c=-1,u=null;else if(f>0)break;if(-1===f)throw new Error("No valid cmap sub-tables found.");let b=new H.Parser(o,s+f);if(a.format=b.parseUShort(),0===a.format)!function yf(o,s,a,u){o.length=s.parseUShort(),o.language=s.parseUShort()-1;let c=s.parseByteList(o.length),f=Object.assign({},c),p=va(a,u,o.language),m=aa[p];for(let y=0;y<m.length;y++)f[m.charCodeAt(y)]=c[128+y];o.glyphIndexMap=f}(a,b,p,m);else if(12===a.format||13===a.format)!function Tu(o,s,a){let u;s.parseUShort(),o.length=s.parseULong(),o.language=s.parseULong(),o.groupCount=u=s.parseULong(),o.glyphIndexMap={};for(let c=0;c<u;c+=1){let f=s.parseULong(),p=s.parseULong(),m=s.parseULong();for(let y=f;y<=p;y+=1)o.glyphIndexMap[y]=m,12===a&&m++}}(a,b,a.format);else{if(4!==a.format)throw new Error("Only format 0 (platformId 1, encodingId 0), 4, 12 and 14 cmap tables are supported (found format "+a.format+", platformId "+p+", encodingId "+m+").");!function vf(o,s,a,u,c){let f;o.length=s.parseUShort(),o.language=s.parseUShort(),o.segCount=f=s.parseUShort()>>1,s.skip("uShort",3),o.glyphIndexMap={};let p=new H.Parser(a,u+c+14),m=new H.Parser(a,u+c+16+2*f),y=new H.Parser(a,u+c+16+4*f),D=new H.Parser(a,u+c+16+6*f),b=u+c+16+8*f;for(let S=0;S<f-1;S+=1){let w,I=p.parseUShort(),x=m.parseUShort(),M=y.parseShort(),F=D.parseUShort();for(let W=x;W<=I;W+=1)0!==F?(b=D.offset+D.relativeOffset-2,b+=F,b+=2*(W-x),w=H.getUShort(a,b),0!==w&&(w=w+M&65535)):w=W+M&65535,o.glyphIndexMap[W]=w}}(a,b,o,s,f)}return u&&function bf(o,s){let a={};s.skip("uLong");let u=s.parseULong();for(let c=0;c<u;c+=1){let f=s.parseUInt24(),p={varSelector:f},m=s.parseOffset32(),y=s.parseOffset32(),D=s.relativeOffset;m&&(s.relativeOffset=m,p.defaultUVS=s.parseStruct({ranges:function(){return s.parseRecordList32({startUnicodeValue:s.parseUInt24,additionalCount:s.parseByte})}})),y&&(s.relativeOffset=y,p.nonDefaultUVS=s.parseStruct({uvsMappings:function(){let b={},S=s.parseRecordList32({unicodeValue:s.parseUInt24,glyphID:s.parseUShort});for(let w=0;w<S.length;w+=1)b[S[w].unicodeValue]=S[w];return b}})),a[f]=p,s.relativeOffset=D}o.varSelectorList=a}(a,u),a},ke_make=function wa(o){let a,s=!0;for(a=o.length-1;a>0;a-=1)if(o.get(a).unicode>65535){console.log("Adding CMAP format 12 (needed!)"),s=!1;break}let u=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:s?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:s?12:20}];s||u.push({name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}),u.push({name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0});let c=new L.Table("cmap",u);for(c.segments=[],a=0;a<o.length;a+=1){let I=o.get(a);for(let x=0;x<I.unicodes.length;x+=1)_a(c,I.unicodes[x],a)}c.segments.sort(function(I,x){return I.start-x.start}),function Df(o){o.segments.push({end:65535,start:65535,delta:1,offset:0})}(c);let f=c.segments.length,p=0,m=[],y=[],D=[],b=[],S=[],w=[];for(a=0;a<f;a+=1){let I=c.segments[a];I.end<=65535&&I.start<=65535?(m.push({name:"end_"+a,type:"USHORT",value:I.end}),y.push({name:"start_"+a,type:"USHORT",value:I.start}),D.push({name:"idDelta_"+a,type:"SHORT",value:I.delta}),b.push({name:"idRangeOffset_"+a,type:"USHORT",value:I.offset}),void 0!==I.glyphId&&S.push({name:"glyph_"+a,type:"USHORT",value:I.glyphId})):p+=1,!s&&void 0!==I.glyphIndex&&(w.push({name:"cmap12Start_"+a,type:"ULONG",value:I.start}),w.push({name:"cmap12End_"+a,type:"ULONG",value:I.end}),w.push({name:"cmap12Glyph_"+a,type:"ULONG",value:I.glyphIndex}))}c.segCountX2=2*(f-p),c.searchRange=2*Math.pow(2,Math.floor(Math.log(f-p)/Math.log(2))),c.entrySelector=Math.log(c.searchRange/2)/Math.log(2),c.rangeShift=c.segCountX2-c.searchRange;for(let I=0;I<m.length;I++)c.fields.push(m[I]);c.fields.push({name:"reservedPad",type:"USHORT",value:0});for(let I=0;I<y.length;I++)c.fields.push(y[I]);for(let I=0;I<D.length;I++)c.fields.push(D[I]);for(let I=0;I<b.length;I++)c.fields.push(b[I]);for(let I=0;I<S.length;I++)c.fields.push(S[I]);if(c.cmap4Length=14+2*m.length+2+2*y.length+2*D.length+2*b.length+2*S.length,!s){let I=16+4*w.length;c.cmap12Offset=20+c.cmap4Length,c.fields.push({name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:I},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:w.length/3});for(let x=0;x<w.length;x++)c.fields.push(w[x])}return c},so=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Ve=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"],Sa=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Cf=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"],Re=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ee=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Qn=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function zi(o){this.font=o}function _f(o){this.cmap=o}function Ea(o,s){this.encoding=o,this.charset=s}function j(o){switch(o.version){case 1:this.names=Qn.slice();break;case 2:this.names=new Array(o.numberOfGlyphs);for(let s=0;s<o.numberOfGlyphs;s++)this.names[s]=o.glyphNameIndex[s]<Qn.length?Qn[o.glyphNameIndex[s]]:o.names[o.glyphNameIndex[s]-Qn.length];break;case 2.5:this.names=new Array(o.numberOfGlyphs);for(let s=0;s<o.numberOfGlyphs;s++)this.names[s]=Qn[s+o.glyphNameIndex[s]];break;default:this.names=[]}}zi.prototype.charToGlyphIndex=function(o){let s=o.codePointAt(0),a=this.font.glyphs;if(a)for(let u=0;u<a.length;u+=1){let c=a.get(u);for(let f=0;f<c.unicodes.length;f+=1)if(c.unicodes[f]===s)return u}return null},_f.prototype.charToGlyphIndex=function(o){return this.cmap.glyphIndexMap[o.codePointAt(0)]||0},Ea.prototype.charToGlyphIndex=function(o){let s=o.codePointAt(0);return this.charset.indexOf(this.encoding[s])},j.prototype.nameToGlyphIndex=function(o){return this.names.indexOf(o)},j.prototype.glyphIndexToName=function(o){return this.names[o]};var ao_line=function wf(o,s,a,u,c){o.beginPath(),o.moveTo(s,a),o.lineTo(u,c),o.stroke()};function zt(o){var s=(4278190080&o)>>24,a=(16711680&o)>>16,u=(65280&o)>>8,c=255&o;return{b:s=s+256&255,g:a=a+256&255,r:u=u+256&255,a:c=(c+256&255)/255}}function Mu(o,s,a=0,u="hexa"){if(65535==s)return"currentColor";let c=o&&o.tables&&o.tables.cpal;if(!c)return"currentColor";if(a>c.colorRecordIndices.length-1)throw new Error(`Palette index out of range (colorRecordIndices.length: ${c.colorRecordIndices.length}, index: ${s})`);if(s>c.numPaletteEntries)throw new Error(`Color index out of range (numPaletteEntries: ${c.numPaletteEntries}, index: ${s})`);let f=c.colorRecordIndices[a]+s;if(f>c.colorRecords)throw new Error(`Color index out of range (colorRecords.length: ${c.colorRecords.length}, lookupIndex: ${f})`);let p=zt(c.colorRecords[f]);return"bgra"===u?p:$o(p,u)}function En(o){return("0"+parseInt(o).toString(16)).slice(-2)}function Ef(o){return parseInt(`0x${En(o.b)}${En(o.g)}${En(o.r)}${En(255*o.a)}`,16)}function xa(o,s="hexa"){let a="raw"==s||"cpal"==s,u=Number.isInteger(o),c=!0;if(u&&a||"currentColor"===o)return o;if("object"==typeof o){if("bgra"==s)return o;if(a)return Ef(o)}else if(!u&&/^#([a-f0-9]{3}|[a-f0-9]{4}|[a-f0-9]{6}|[a-f0-9]{8})$/i.test(o.trim())){switch((o=o.trim().substring(1)).length){case 3:o={r:parseInt(o[0].repeat(2),16),g:parseInt(o[1].repeat(2),16),b:parseInt(o[2].repeat(2),16),a:1};break;case 4:o={r:parseInt(o[0].repeat(2),16),g:parseInt(o[1].repeat(2),16),b:parseInt(o[2].repeat(2),16),a:parseInt(o[3].repeat(2),16)/255};break;case 6:o={r:parseInt(o[0]+o[1],16),g:parseInt(o[2]+o[3],16),b:parseInt(o[4]+o[5],16),a:1};break;case 8:o={r:parseInt(o[0]+o[1],16),g:parseInt(o[2]+o[3],16),b:parseInt(o[4]+o[5],16),a:parseInt(o[6]+o[7],16)/255}}if("bgra"==s)return o}else if(typeof document<"u"&&/^[a-z]+$/i.test(o)){let f=document.createElement("canvas").getContext("2d");f.fillStyle=o;let p=$o(f.fillStyle,"hexa");"#000000ff"===p&&"black"!==o.toLowerCase()?c=!1:o=p}else{o=o.trim();let f=/rgba?\(\s*(?:(\d*\.\d+)(%?)|(\d+)(%?))\s*(?:,|\s*)\s*(?:(\d*\.\d+)(%?)|(\d+)(%?))\s*(?:,|\s*)\s*(?:(\d*\.\d+)(%?)|(\d+)(%?))\s*(?:(?:,|\s|\/)\s*(?:(0*(?:\.\d+)?()|0*1(?:\.0+)?())|(?:\.\d+)|(\d+)(%)|(\d*\.\d+)(%)))?\s*\)/;if(f.test(o)){let p=o.match(f).filter(m=>typeof m<"u");o={r:Math.round(parseFloat(p[1])/(p[2]?.39215686274509803:1)),g:Math.round(parseFloat(p[3])/(p[4]?.39215686274509803:1)),b:Math.round(parseFloat(p[5])/(p[6]?.39215686274509803:1)),a:p[7]?parseFloat(p[7])/(p[8]?100:1):1}}else{let p=/hsla?\(\s*(?:(\d*\.\d+|\d+)(deg|turn|))\s*(?:,|\s*)\s*(?:(\d*\.\d+)%?|(\d+)%?)\s*(?:,|\s*)\s*(?:(\d*\.\d+)%?|(\d+)%?)\s*(?:(?:,|\s|\/)\s*(?:(0*(?:\.\d+)?()|0*1(?:\.0+)?())|(?:\.\d+)|(\d+)(%)|(\d*\.\d+)(%)))?\s*\)/;if(p.test(o)){let m=o.match(p).filter(y=>typeof y<"u");o=function br(o){let{h:s,s:a,l:u,a:c}=o;s%=360,a/=100,u/=100;let f=(1-Math.abs(2*u-1))*a,p=f*(1-Math.abs(s/60%2-1)),m=u-f/2,y=0,D=0,b=0;return 0<=s&&s<60?(y=f,D=p,b=0):60<=s&&s<120?(y=p,D=f,b=0):120<=s&&s<180?(y=0,D=f,b=p):180<=s&&s<240?(y=0,D=p,b=f):240<=s&&s<300?(y=p,D=0,b=f):300<=s&&s<=360&&(y=f,D=0,b=p),{r:Math.round(255*(y+m)),g:Math.round(255*(D+m)),b:Math.round(255*(b+m)),a:c}}({h:parseFloat(m[1])*("turn"===m[2]?360:1),s:parseFloat(m[3]),l:parseFloat(m[4]),a:m[5]?parseFloat(m[5])/(m[6]?100:1):1})}else c=!1}}if(!c)throw new Error(`Invalid color format: ${o}`);return $o(o,s)}function $o(o,s="hexa"){if("currentColor"===o)return o;if(Number.isInteger(o)){if("raw"==s||"cpal"==s)return o;o=zt(o)}else"object"!=typeof o&&(o=xa(o,"bgra"));let a=["hsl","hsla"].includes(s)?function Nm(o){let p,m,s=o.r/255,a=o.g/255,u=o.b/255,c=Math.max(s,a,u),f=Math.min(s,a,u),y=(c+f)/2;if(c===f)p=m=0;else{let D=c-f;switch(m=y>.5?D/(2-c-f):D/(c+f),c){case s:p=(a-u)/D+(a<u?6:0);break;case a:p=(u-s)/D+2;break;case u:p=(s-a)/D+4}p/=6}return{h:360*p,s:100*m,l:100*y}}(o):null;switch(s){case"rgba":return`rgba(${o.r}, ${o.g}, ${o.b}, ${parseFloat(o.a.toFixed(3))})`;case"rgb":return`rgb(${o.r}, ${o.g}, ${o.b})`;case"hex":case"hex6":case"hex-6":return`#${En(o.r)}${En(o.g)}${En(o.b)}`;case"hexa":case"hex8":case"hex-8":return`#${En(o.r)}${En(o.g)}${En(o.b)}${En(255*o.a)}`;case"hsl":return`hsl(${a.h.toFixed(2)}, ${a.s.toFixed(2)}%, ${a.l.toFixed(2)}%)`;case"hsla":return`hsla(${a.h.toFixed(2)}, ${a.s.toFixed(2)}%, ${a.l.toFixed(2)}%, ${parseFloat(o.a.toFixed(3))})`;case"bgra":return o;case"raw":case"cpal":return Ef(o);default:throw new Error("Unknown color format: "+s)}}var xf={parse:function Sf(o,s){let a=new A(o,s),u=a.parseShort();0!==u&&console.warn("Only CPALv0 is currently fully supported.");let c=a.parseShort(),f=a.parseShort(),p=a.parseShort(),m=a.parseOffset32(),y=a.parseUShortList(f);a.relativeOffset=m;let D=a.parseULongList(p);return a.relativeOffset=m,{version:u,numPaletteEntries:c,colorRecords:D,colorRecordIndices:y}},make:function qi({version:o=0,numPaletteEntries:s=0,colorRecords:a=[],colorRecordIndices:u=[0]}){return X.argument(0===o,"Only CPALv0 are supported."),X.argument(a.length,"No colorRecords given."),X.argument(u.length,"No colorRecordIndices given."),u.length>1&&X.argument(s,"Can't infer numPaletteEntries on multiple colorRecordIndices"),new L.Table("CPAL",[{name:"version",type:"USHORT",value:o},{name:"numPaletteEntries",type:"USHORT",value:s||a.length},{name:"numPalettes",type:"USHORT",value:u.length},{name:"numColorRecords",type:"USHORT",value:a.length},{name:"colorRecordsArrayOffset",type:"ULONG",value:12+2*u.length},...u.map((c,f)=>({name:"colorRecordIndices_"+f,type:"USHORT",value:c})),...a.map((c,f)=>({name:"colorRecords_"+f,type:"ULONG",value:c}))])},getPaletteColor:Mu,parseColor:xa,formatColor:$o};function kt(o){this.bindConstructorValues(o)}kt.prototype.bindConstructorValues=function(o){if(this.index=o.index||0,".notdef"===o.name?o.unicode=void 0:".null"===o.name&&(o.unicode=0),0===o.unicode&&".null"!==o.name)throw new Error('The unicode value "0" is reserved for the glyph name ".null" and cannot be used by any other glyph.');this.name=o.name||null,this.unicode=o.unicode,this.unicodes=o.unicodes||(void 0!==o.unicode?[o.unicode]:[]),"xMin"in o&&(this.xMin=o.xMin),"yMin"in o&&(this.yMin=o.yMin),"xMax"in o&&(this.xMax=o.xMax),"yMax"in o&&(this.yMax=o.yMax),"advanceWidth"in o&&(this.advanceWidth=o.advanceWidth),"leftSideBearing"in o&&(this.leftSideBearing=o.leftSideBearing),"points"in o&&(this.points=o.points),Object.defineProperty(this,"path",function If(o,s){let a=s||new Kn;return{configurable:!0,get:function(){return"function"==typeof a&&(a=a()),a},set:function(u){a=u}}}(0,o.path))},kt.prototype.addUnicode=function(o){0===this.unicodes.length&&(this.unicode=o),this.unicodes.push(o)},kt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},kt.prototype.getPath=function(o,s,a,u,c){o=void 0!==o?o:0,s=void 0!==s?s:0,a=void 0!==a?a:72;let f,p,m=(u=Object.assign({},c&&c.defaultRenderOptions,u)).xScale,y=u.yScale,D=1/(this.path.unitsPerEm||1e3)*a,b=this;c&&c.variation&&(b=c.variation.getTransform(this,u.variation),f=b.path.commands),u.hinting&&c&&c.hinting&&(p=b.path&&c.hinting.exec(b,a,u)),p?(f=c.hinting.getCommands(p),o=Math.round(o),s=Math.round(s),m=y=1):(f=b.path.commands,void 0===m&&(m=D),void 0===y&&(y=D));let S=new Kn;if(u.drawSVG){let w=this.getSvgImage(c);if(w){let I=new Kn;return I._image={image:w.image,x:o+w.leftSideBearing*D,y:s-w.baseline*D,width:w.image.width*D,height:w.image.height*D},S._layers=[I],S}}if(u.drawLayers){let w=this.getLayers(c);if(w&&w.length){S._layers=[];for(let I=0;I<w.length;I+=1){let x=w[I],M=Mu(c,x.paletteIndex,u.usePalette);M="currentColor"===M?u.fill||"black":$o(M,u.colorFormat||"rgba"),u=Object.assign({},u,{fill:M}),S._layers.push(this.getPath.call(x.glyph,o,s,a,u,c))}return S}}S.fill=u.fill||this.path.fill,S.stroke=this.path.stroke,S.strokeWidth=this.path.strokeWidth*D;for(let w=0;w<f.length;w+=1){let I=f[w];"M"===I.type?S.moveTo(o+I.x*m,s+-I.y*y):"L"===I.type?S.lineTo(o+I.x*m,s+-I.y*y):"Q"===I.type?S.quadraticCurveTo(o+I.x1*m,s+-I.y1*y,o+I.x*m,s+-I.y*y):"C"===I.type?S.curveTo(o+I.x1*m,s+-I.y1*y,o+I.x2*m,s+-I.y2*y,o+I.x*m,s+-I.y*y):"Z"===I.type&&S.stroke&&S.strokeWidth&&S.closePath()}return S},kt.prototype.getLayers=function(o){if(!o)throw Error("The font object is required to read the colr/cpal tables in order to get the layers.");return o.layers.get(this.index)},kt.prototype.getSvgImage=function(o){if(!o)throw Error("The font object is required to read the svg table in order to get the image.");return o.svgImages.get(this.index)},kt.prototype.getContours=function(o=null){if(void 0===this.points&&!o)return[];let s=[],a=[],u=o||this.points;for(let c=0;c<u.length;c+=1){let f=u[c];a.push(f),f.lastPointOfContour&&(s.push(a),a=[])}return X.argument(0===a.length,"There are still points left in the current contour."),s},kt.prototype.getMetrics=function(){let o=this.path.commands,s=[],a=[];for(let c=0;c<o.length;c+=1){let f=o[c];"Z"!==f.type&&(s.push(f.x),a.push(f.y)),("Q"===f.type||"C"===f.type)&&(s.push(f.x1),a.push(f.y1)),"C"===f.type&&(s.push(f.x2),a.push(f.y2))}let u={xMin:Math.min.apply(null,s),yMin:Math.min.apply(null,a),xMax:Math.max.apply(null,s),yMax:Math.max.apply(null,a),leftSideBearing:this.leftSideBearing};return isFinite(u.xMin)||(u.xMin=0),isFinite(u.xMax)||(u.xMax=this.advanceWidth),isFinite(u.yMin)||(u.yMin=0),isFinite(u.yMax)||(u.yMax=0),u.rightSideBearing=this.advanceWidth-u.leftSideBearing-(u.xMax-u.xMin),u},kt.prototype.draw=function(o,s,a,u,c,f){c=Object.assign({},f.defaultRenderOptions,c),this.getPath(s,a,u,c,f).draw(o)},kt.prototype.drawPoints=function(o,s,a,u,c,f){if((c=Object.assign({},f&&f.defaultRenderOptions,c)).drawLayers){let S=this.getLayers(f);if(S&&S.length){for(let w=0;w<S.length;w+=1)S[w].glyph.index!==this.index&&this.drawPoints.call(S[w].glyph,o,s,a,u);return}}function p(S,w,I,x){o.beginPath();for(let M=0;M<S.length;M+=1)o.moveTo(w+S[M].x*x,I+S[M].y*x),o.arc(w+S[M].x*x,I+S[M].y*x,2,0,2*Math.PI,!1);o.fill()}s=void 0!==s?s:0,a=void 0!==a?a:0;let m=1/this.path.unitsPerEm*(u=void 0!==u?u:24),y=[],D=[],b=this.path.commands;f&&f.variation&&(b=f.variation.getTransform(this,c.variation).path.commands);for(let S=0;S<b.length;S+=1){let w=b[S];void 0!==w.x&&y.push({x:w.x,y:-w.y}),void 0!==w.x1&&D.push({x:w.x1,y:-w.y1}),void 0!==w.x2&&D.push({x:w.x2,y:-w.y2})}o.fillStyle="blue",p(y,s,a,m),o.fillStyle="red",p(D,s,a,m)},kt.prototype.drawMetrics=function(o,s,a,u){let c;s=void 0!==s?s:0,a=void 0!==a?a:0,c=1/this.path.unitsPerEm*(u=void 0!==u?u:24),o.lineWidth=1,o.strokeStyle="black",ao_line(o,s,-1e4,s,1e4),ao_line(o,-1e4,a,1e4,a);let f=this.xMin||0,p=this.yMin||0,m=this.xMax||0,y=this.yMax||0,D=this.advanceWidth||0;o.strokeStyle="blue",ao_line(o,s+f*c,-1e4,s+f*c,1e4),ao_line(o,s+m*c,-1e4,s+m*c,1e4),ao_line(o,-1e4,a+-p*c,1e4,a+-p*c),ao_line(o,-1e4,a+-y*c,1e4,a+-y*c),o.strokeStyle="green",ao_line(o,s+D*c,-1e4,s+D*c,1e4)},kt.prototype.toPathData=function(o,s){o=Object.assign({},{variation:s&&s.defaultRenderOptions.variation},o);let a=this;s&&s.variation&&(a=s.variation.getTransform(this,o.variation));let u=a.points&&o.pointsTransform?o.pointsTransform(a.points):a.path;return o.pathTramsform&&(u=o.pathTramsform(u)),u.toPathData(o)},kt.prototype.fromSVG=function(o,s={}){return this.path.fromSVG(o,s)},kt.prototype.toSVG=function(o,s){let a=this.toPathData.apply(this,[o,s]);return this.path.toSVG(o,a)},kt.prototype.toDOMElement=function(o,s){o=Object.assign({},{variation:s&&s.defaultRenderOptions.variation},o);let a=this.path;return s&&s.variation&&(a=s.variation.getTransform(this,o.variation).path),a.toDOMElement(o)};var lo=kt;function zo(o,s,a){Object.defineProperty(o,s,{get:function(){return o[a]},set:function(u){o[a]=u},enumerable:!0,configurable:!0})}function Rt(o,s){if(this.font=o,this.glyphs={},Array.isArray(s))for(let a=0;a<s.length;a++){let u=s[a];u.path.unitsPerEm=o.unitsPerEm,this.glyphs[a]=u}this.length=s&&s.length||0}typeof Symbol<"u"&&Symbol.iterator&&(Rt.prototype[Symbol.iterator]=function(){let o=-1;return{next:function(){o++;let s=o>=this.length-1;return{value:this.get(o),done:s}}.bind(this)}}),Rt.prototype.get=function(o){if(this.font._push&&void 0===this.glyphs[o]){this.font._push(o),"function"==typeof this.glyphs[o]&&(this.glyphs[o]=this.glyphs[o]());let s=this.glyphs[o],a=this.font._IndexToUnicodeMap[o];if(a)for(let u=0;u<a.unicodes.length;u++)s.addUnicode(a.unicodes[u]);this.font.cffEncoding?s.name=this.font.cffEncoding.charset[o]:this.font.glyphNames.names&&(s.name=this.font.glyphNames.glyphIndexToName(o)),this.glyphs[o].advanceWidth=this.font._hmtxTableData[o].advanceWidth,this.glyphs[o].leftSideBearing=this.font._hmtxTableData[o].leftSideBearing}else"function"==typeof this.glyphs[o]&&(this.glyphs[o]=this.glyphs[o]());return this.glyphs[o]},Rt.prototype.push=function(o,s){this.glyphs[o]=s,this.length++};var Jn={GlyphSet:Rt,glyphLoader:function Me(o,s){return new lo({index:s,font:o})},ttfGlyphLoader:function Pm(o,s,a,u,c,f){return function(){let p=new lo({index:s,font:o});return p.path=function(){a(p,u,c);let m=f(o.glyphs,p);return m.unitsPerEm=o.unitsPerEm,m},zo(p,"numberOfContours","_numberOfContours"),zo(p,"xMin","_xMin"),zo(p,"xMax","_xMax"),zo(p,"yMin","_yMin"),zo(p,"yMax","_yMax"),zo(p,"points","_points"),p}},cffGlyphLoader:function Lm(o,s,a,u,c){return function(){let f=new lo({index:s,font:o});return f.path=function(){let p=a(o,f,u,c);return p.unitsPerEm=o.unitsPerEm,p},f}}};function Ne(o,s){if(o===s)return!0;if(Array.isArray(o)&&Array.isArray(s)){if(o.length!==s.length)return!1;for(let a=0;a<o.length;a+=1)if(!Ne(o[a],s[a]))return!1;return!0}return!1}function Ia(o){let s;return s=o.length<1240?107:o.length<33900?1131:32768,s}function it(o,s,a,u){let y,D,c=[],f=[],p=u>1?H.getULong(o,s):H.getCard16(o,s),m=u>1?4:2;if(0!==p){let b=H.getByte(o,s+m);y=s+(p+1)*b+m;let S=s+m+1;for(let w=0;w<p+1;w+=1)c.push(H.getOffset(o,S,b)),S+=b;D=y+c[p]}else D=s+m;for(let b=0;b<c.length-1;b+=1){let S=H.getBytes(o,y+c[b],y+c[b+1]);a&&(S=a(S,o,s,u)),f.push(S)}return{objects:f,startOffset:s,endOffset:D}}function Tf(o,s){let a,u,c,f;if(28===s)return a=o.parseByte(),u=o.parseByte(),a<<8|u;if(29===s)return a=o.parseByte(),u=o.parseByte(),c=o.parseByte(),f=o.parseByte(),a<<24|u<<16|c<<8|f;if(30===s)return function Au(o){let s="",a=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];for(;;){let u=o.parseByte(),c=u>>4,f=15&u;if(15===c||(s+=a[c],15===f))break;s+=a[f]}return parseFloat(s)}(o);if(s>=32&&s<=246)return s-139;if(s>=247&&s<=250)return a=o.parseByte(),256*(s-247)+a+108;if(s>=251&&s<=254)return a=o.parseByte(),256*-(s-251)-a-108;throw new Error("Invalid b0 "+s)}function Xi(o,s,a,u){let c=new H.Parser(o,s=void 0!==s?s:0),f=[],p=[];a=void 0!==a?a:o.byteLength;let m=u<2?22:28;for(;c.relativeOffset<a;){let y=c.parseByte();if(y<m){if(12===y&&(y=1200+c.parseByte()),u>1&&23===y){Ta(p);continue}f.push([y,p]),p=[]}else p.push(Tf(c,y))}return function Mf(o){let s={};for(let a=0;a<o.length;a+=1){let f,u=o[a][0],c=o[a][1];if(f=1===c.length?c[0]:c,Object.prototype.hasOwnProperty.call(s,u)&&!isNaN(s[u]))throw new Error("Object "+s+" already has key "+u);s[u]=f}return s}(f)}function Dr(o,s){return s<=390?so[s]:o?o[s-391]:void 0}function Wo(o,s,a){let c,u={};for(let f=0;f<s.length;f+=1){let p=s[f];if(Array.isArray(p.type)){let m=[];m.length=p.type.length;for(let y=0;y<p.type.length;y++)c=void 0!==o[p.op]?o[p.op][y]:void 0,void 0===c&&(c=void 0!==p.value&&void 0!==p.value[y]?p.value[y]:null),"SID"===p.type[y]&&(c=Dr(a,c)),m[y]=c;u[p.name]=m}else c=o[p.op],void 0===c&&(c=void 0!==p.value?p.value:null),"SID"===p.type&&(c=Dr(a,c)),u[p.name]=c}return u}var Fu=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],re=[{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"charStrings",op:17,type:"offset"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"vstore",op:24,type:"offset"}],Zi=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}],ku=[{name:"blueValues",op:6,type:"delta"},{name:"otherBlues",op:7,type:"delta"},{name:"familyBlues",op:7,type:"delta"},{name:"familyBlues",op:8,type:"delta"},{name:"familyOtherBlues",op:9,type:"delta"},{name:"blueScale",op:1209,type:"number",value:.039625},{name:"blueShift",op:1210,type:"number",value:7},{name:"blueFuzz",op:1211,type:"number",value:1},{name:"stdHW",op:10,type:"number"},{name:"stdVW",op:11,type:"number"},{name:"stemSnapH",op:1212,type:"number"},{name:"stemSnapV",op:1213,type:"number"},{name:"languageGroup",op:1217,type:"number",value:0},{name:"expansionFactor",op:1218,type:"number",value:.06},{name:"vsindex",op:22,type:"number",value:0},{name:"subrs",op:19,type:"offset"}],gn=[{name:"private",op:18,type:["number","offset"],value:[0,0]}];function Ru(o,s,a,u){return Wo(Xi(o,s,o.byteLength,u),u>1?re:Fu,a)}function Nu(o,s,a,u,c){return Wo(Xi(o,s,a,c),c>1?ku:Zi,u)}function Ue(o,s,a){return Wo(Xi(o,s,void 0,a),gn)}function Pu(o,s,a,u,c){let f=[];for(let p=0;p<a.length;p+=1){let y=Ru(new DataView(new Uint8Array(a[p]).buffer),0,u,c);y._subrs=[],y._subrsBias=0,y._defaultWidthX=0,y._nominalWidthX=0;let D=c<2?y.private[0]:0,b=c<2?y.private[1]:0;if(0!==D&&0!==b){let S=Nu(o,b+s,D,u,c);if(y._defaultWidthX=S.defaultWidthX,y._nominalWidthX=S.nominalWidthX,0!==S.subrs){let I=it(o,b+S.subrs+s,void 0,c);y._subrs=I.objects,y._subrsBias=Ia(y._subrs)}y._privateDict=S}f.push(y)}return f}function Ta(o){let s=o.pop();for(;o.length>s;)o.pop()}function Yo(o,s){let a=o.tables.cff&&o.tables.cff.topDict&&o.tables.cff.topDict.paintType||0;return 2===a&&(s.fill=null,s.stroke="black",s.strokeWidth=o.tables.cff.topDict.strokeWidth||0),a}function Ma(o,s,a,u,c){let f,p,m,y,F,W,Z,K,Be,D=new Kn,b=[],S=0,w=!1,I=!1,x=0,M=0,me=0,Oe=[],xe=o.tables.cff2||o.tables.cff;if(Z=xe.topDict._defaultWidthX,K=xe.topDict._nominalWidthX,c=c||o.variation&&o.variation.get(),s.getBlendPath||(s.getBlendPath=function(ye){return Ma(o,s,a,u,ye)}),o.isCIDFont||u>1){let $=xe.topDict._fdArray[xe.topDict._fdSelect?xe.topDict._fdSelect[s.index]:0];F=$._subrs,W=$._subrsBias,u>1?(Oe=xe.topDict._vstore.itemVariationStore,me=$._privateDict.vsindex):(Z=$._defaultWidthX,K=$._nominalWidthX)}else F=xe.topDict._subrs,W=xe.topDict._subrsBias;let ft=Yo(o,D),Vt=Z;function be(ye,$){I&&2!==ft&&D.closePath(),D.moveTo(ye,$),I=!0}function Ke(){let ye;ye=0!=(1&b.length),ye&&!w&&(Vt=b.shift()+K),S+=b.length>>1,b.length=0,w=!0}return function Ut(ye){let $,te,Q,ar,xo,zn,ht,At,Ot,Qe,Bt,an,Je=0;for(;Je<ye.length;){let un=ye[Je];switch(Je+=1,un){case 1:case 3:case 18:case 23:Ke();break;case 4:b.length>1&&!w&&(Vt=b.shift()+K,w=!0),M+=b.pop(),be(x,M);break;case 5:for(;b.length>0;)x+=b.shift(),M+=b.shift(),D.lineTo(x,M);break;case 6:for(;b.length>0&&(x+=b.shift(),D.lineTo(x,M),0!==b.length);)M+=b.shift(),D.lineTo(x,M);break;case 7:for(;b.length>0&&(M+=b.shift(),D.lineTo(x,M),0!==b.length);)x+=b.shift(),D.lineTo(x,M);break;case 8:for(;b.length>0;)f=x+b.shift(),p=M+b.shift(),m=f+b.shift(),y=p+b.shift(),x=m+b.shift(),M=y+b.shift(),D.curveTo(f,p,m,y,x,M);break;case 10:xo=b.pop()+W,zn=F[xo],zn&&Ut(zn);break;case 11:if(u>1){console.error("CFF CharString operator return (11) is not supported in CFF2");break}return;case 12:switch(un=ye[Je],Je+=1,un){case 35:f=x+b.shift(),p=M+b.shift(),m=f+b.shift(),y=p+b.shift(),ht=m+b.shift(),At=y+b.shift(),Ot=ht+b.shift(),Qe=At+b.shift(),Bt=Ot+b.shift(),an=Qe+b.shift(),x=Bt+b.shift(),M=an+b.shift(),b.shift(),D.curveTo(f,p,m,y,ht,At),D.curveTo(Ot,Qe,Bt,an,x,M);break;case 34:f=x+b.shift(),p=M,m=f+b.shift(),y=p+b.shift(),ht=m+b.shift(),At=y,Ot=ht+b.shift(),Qe=y,Bt=Ot+b.shift(),an=M,x=Bt+b.shift(),D.curveTo(f,p,m,y,ht,At),D.curveTo(Ot,Qe,Bt,an,x,M);break;case 36:f=x+b.shift(),p=M+b.shift(),m=f+b.shift(),y=p+b.shift(),ht=m+b.shift(),At=y,Ot=ht+b.shift(),Qe=y,Bt=Ot+b.shift(),an=Qe+b.shift(),x=Bt+b.shift(),D.curveTo(f,p,m,y,ht,At),D.curveTo(Ot,Qe,Bt,an,x,M);break;case 37:f=x+b.shift(),p=M+b.shift(),m=f+b.shift(),y=p+b.shift(),ht=m+b.shift(),At=y+b.shift(),Ot=ht+b.shift(),Qe=At+b.shift(),Bt=Ot+b.shift(),an=Qe+b.shift(),Math.abs(Bt-x)>Math.abs(an-M)?x=Bt+b.shift():M=an+b.shift(),D.curveTo(f,p,m,y,ht,At),D.curveTo(Ot,Qe,Bt,an,x,M);break;default:console.log("Glyph "+s.index+": unknown operator 1200"+un),b.length=0}break;case 14:if(u>1){console.error("CFF CharString operator endchar (14) is not supported in CFF2");break}if(b.length>=4){let wr=Re[b.pop()],$r=Re[b.pop()],vi=b.pop(),Is=b.pop();if(wr&&$r){s.isComposite=!0,s.components=[];let Yc=o.cffEncoding.charset.indexOf(wr),Xc=o.cffEncoding.charset.indexOf($r);s.components.push({glyphIndex:Xc,dx:0,dy:0}),s.components.push({glyphIndex:Yc,dx:Is,dy:vi}),D.extend(o.glyphs.get(Xc).path);let lp=o.glyphs.get(Yc),Cl=JSON.parse(JSON.stringify(lp.path.commands));for(let Wn=0;Wn<Cl.length;Wn+=1){let Kt=Cl[Wn];"Z"!==Kt.type&&(Kt.x+=Is,Kt.y+=vi),("Q"===Kt.type||"C"===Kt.type)&&(Kt.x1+=Is,Kt.y1+=vi),"C"===Kt.type&&(Kt.x2+=Is,Kt.y2+=vi)}D.extend(Cl)}}else b.length>0&&!w&&(Vt=b.shift()+K,w=!0);I&&2!==ft&&(D.closePath(),I=!1);break;case 15:if(u<2){console.error("CFF2 CharString operator vsindex (15) is not supported in CFF");break}me=b.pop();break;case 16:if(u<2){console.error("CFF2 CharString operator blend (16) is not supported in CFF");break}Be||(Be=o.variation&&c&&o.variation.process.getBlendVector(Oe,me,c));var Io=b.pop(),Pe=Be?Be.length:Oe.itemVariationSubtables[me].regionIndexes.length,Xt=Io*Pe,ln=b.length-Xt,Zt=ln-Io;if(Be)for(let wr=0;wr<Io;wr++){var kn=b[Zt+wr];for(let $r=0;$r<Pe;$r++)kn+=Be[$r]*b[ln++];b[Zt+wr]=kn}for(;Xt--;)b.pop();break;case 19:case 20:Ke(),Je+=S+7>>3;break;case 21:b.length>2&&!w&&(Vt=b.shift()+K,w=!0),M+=b.pop(),x+=b.pop(),be(x,M);break;case 22:b.length>1&&!w&&(Vt=b.shift()+K,w=!0),x+=b.pop(),be(x,M);break;case 24:for(;b.length>2;)f=x+b.shift(),p=M+b.shift(),m=f+b.shift(),y=p+b.shift(),x=m+b.shift(),M=y+b.shift(),D.curveTo(f,p,m,y,x,M);x+=b.shift(),M+=b.shift(),D.lineTo(x,M);break;case 25:for(;b.length>6;)x+=b.shift(),M+=b.shift(),D.lineTo(x,M);f=x+b.shift(),p=M+b.shift(),m=f+b.shift(),y=p+b.shift(),x=m+b.shift(),M=y+b.shift(),D.curveTo(f,p,m,y,x,M);break;case 26:for(1&b.length&&(x+=b.shift());b.length>0;)f=x,p=M+b.shift(),m=f+b.shift(),y=p+b.shift(),x=m,M=y+b.shift(),D.curveTo(f,p,m,y,x,M);break;case 27:for(1&b.length&&(M+=b.shift());b.length>0;)f=x+b.shift(),p=M,m=f+b.shift(),y=p+b.shift(),x=m+b.shift(),M=y,D.curveTo(f,p,m,y,x,M);break;case 28:$=ye[Je],te=ye[Je+1],b.push(($<<24|te<<16)>>16),Je+=2;break;case 29:xo=b.pop()+o.gsubrsBias,zn=o.gsubrs[xo],zn&&Ut(zn);break;case 30:for(;b.length>0&&(f=x,p=M+b.shift(),m=f+b.shift(),y=p+b.shift(),x=m+b.shift(),M=y+(1===b.length?b.shift():0),D.curveTo(f,p,m,y,x,M),0!==b.length);)f=x+b.shift(),p=M,m=f+b.shift(),y=p+b.shift(),M=y+b.shift(),x=m+(1===b.length?b.shift():0),D.curveTo(f,p,m,y,x,M);break;case 31:for(;b.length>0&&(f=x+b.shift(),p=M,m=f+b.shift(),y=p+b.shift(),M=y+b.shift(),x=m+(1===b.length?b.shift():0),D.curveTo(f,p,m,y,x,M),0!==b.length);)f=x,p=M+b.shift(),m=f+b.shift(),y=p+b.shift(),x=m+b.shift(),M=y+(1===b.length?b.shift():0),D.curveTo(f,p,m,y,x,M);break;default:un<32?console.log("Glyph "+s.index+": unknown operator "+un):un<247?b.push(un-139):un<251?($=ye[Je],Je+=1,b.push(256*(un-247)+$+108)):un<255?($=ye[Je],Je+=1,b.push(256*-(un-251)-$-108)):($=ye[Je],te=ye[Je+1],Q=ye[Je+2],ar=ye[Je+3],Je+=4,b.push(($<<24|te<<16|Q<<8|ar)/65536))}}}(a),o.variation&&c&&(D.commands=D.commands.map(ye=>{let $=Object.keys(ye);for(let te=0;te<$.length;te++){let Q=$[te];"type"!==Q&&(ye[Q]=Math.round(ye[Q]))}return ye})),w&&(s.advanceWidth=Vt),D}function Lu(o,s,a,u,c){let p,f=[],m=new H.Parser(o,s),y=m.parseCard8();if(0===y)for(let D=0;D<a;D++){if(p=m.parseCard8(),p>=u)throw new Error("CFF table CID Font FDSelect has bad FD index value "+p+" (FD count "+u+")");f.push(p)}else{if(!(3===y||c>1&&4===y))throw new Error("CFF Table CID Font FDSelect table has unsupported format "+y);{let S,D=4===y?m.parseULong():m.parseCard16(),b=4===y?m.parseULong():m.parseCard16();if(0!==b)throw new Error(`CFF Table CID Font FDSelect format ${y} range has bad initial GID ${b}`);for(let w=0;w<D;w++){if(p=4===y?m.parseUShort():m.parseCard8(),S=4===y?m.parseULong():m.parseCard16(),p>=u)throw new Error("CFF table CID Font FDSelect has bad FD index value "+p+" (FD count "+u+")");if(S>a)throw new Error(`CFF Table CID Font FDSelect format ${c} range has bad GID ${S}`);for(;b<S;b++)f.push(p);b=S}if(S!==a)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final (Sentinal) GID "+S)}}return f}function Aa(o,s){let a,u=so.indexOf(o);return u>=0&&(a=u),u=s.indexOf(o),u>=0?a=u+so.length:(a=so.length+s.length,s.push(o)),a}function Vu(o,s,a){let u={};for(let c=0;c<o.length;c+=1){let f=o[c],p=s[f.name];void 0!==p&&!Ne(p,f.value)&&("SID"===f.type&&(p=Aa(p,a)),u[f.op]={name:f.name,type:f.type,value:p})}return u}function we(o,s,a){let u=new L.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return u.dict=Vu(a>1?re:Fu,o,s),u}function Oa(o){let s=new L.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return s.topDicts=[{name:"topDict_0",type:"TABLE",value:o}],s}function Zo(o,s){let a=[],u=o.path;s<2&&a.push({name:"width",type:"NUMBER",value:o.advanceWidth});let c=0,f=0;for(let p=0;p<u.commands.length;p+=1){let m,y,D=u.commands[p];if("Q"===D.type){let b=.3333333333333333,S=2/3;D={type:"C",x:D.x,y:D.y,x1:Math.round(b*c+S*D.x1),y1:Math.round(b*f+S*D.y1),x2:Math.round(b*D.x+S*D.x1),y2:Math.round(b*D.y+S*D.y1)}}if("M"===D.type)m=Math.round(D.x-c),y=Math.round(D.y-f),a.push({name:"dx",type:"NUMBER",value:m}),a.push({name:"dy",type:"NUMBER",value:y}),a.push({name:"rmoveto",type:"OP",value:21}),c=Math.round(D.x),f=Math.round(D.y);else if("L"===D.type)m=Math.round(D.x-c),y=Math.round(D.y-f),a.push({name:"dx",type:"NUMBER",value:m}),a.push({name:"dy",type:"NUMBER",value:y}),a.push({name:"rlineto",type:"OP",value:5}),c=Math.round(D.x),f=Math.round(D.y);else if("C"===D.type){let b=Math.round(D.x1-c),S=Math.round(D.y1-f),w=Math.round(D.x2-D.x1),I=Math.round(D.y2-D.y1);m=Math.round(D.x-D.x2),y=Math.round(D.y-D.y2),a.push({name:"dx1",type:"NUMBER",value:b}),a.push({name:"dy1",type:"NUMBER",value:S}),a.push({name:"dx2",type:"NUMBER",value:w}),a.push({name:"dy2",type:"NUMBER",value:I}),a.push({name:"dx",type:"NUMBER",value:m}),a.push({name:"dy",type:"NUMBER",value:y}),a.push({name:"rrcurveto",type:"OP",value:8}),c=Math.round(D.x),f=Math.round(D.y)}}return s<2&&a.push({name:"endchar",type:"OP",value:14}),a}var Pn_parse=function Af(o,s,a,u){let c,f=function Ou(o,s){let a={};if(a.formatMajor=H.getCard8(o,s),a.formatMinor=H.getCard8(o,s+1),a.formatMajor>2)throw new Error(`Unsupported CFF table version ${a.formatMajor}.${a.formatMinor}`);return a.size=H.getCard8(o,s+2),a.formatMajor<2?(a.offsetSize=H.getCard8(o,s+3),a.startOffset=s,a.endOffset=s+4):(a.topDictLength=H.getCard16(o,s+3),a.endOffset=s+8),a}(o,s);c=2===f.formatMajor?a.tables.cff2={}:a.tables.cff={};let b,S,p=f.formatMajor>1?null:it(o,f.endOffset,H.bytesToString),m=f.formatMajor>1?null:it(o,p.endOffset),y=f.formatMajor>1?null:it(o,m.endOffset,H.bytesToString),D=it(o,f.formatMajor>1?s+f.size+f.topDictLength:y.endOffset,void 0,f.formatMajor);if(a.gsubrs=D.objects,a.gsubrsBias=Ia(a.gsubrs),f.formatMajor>1){let w=s+f.size,I=H.getBytes(o,w,w+f.topDictLength);b=Pu(o,0,[I],void 0,f.formatMajor)[0]}else{let w=Pu(o,s,m.objects,y.objects,f.formatMajor);if(1!==w.length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+w.length);b=w[0]}if(c.topDict=b,b._privateDict&&(a.defaultWidthX=b._privateDict.defaultWidthX,a.nominalWidthX=b._privateDict.nominalWidthX),f.formatMajor<2&&void 0!==b.ros[0]&&void 0!==b.ros[1]&&(a.isCIDFont=!0),f.formatMajor>1){let w=b.fdArray,I=b.fdSelect;if(!w)throw new Error("This is a CFF2 font, but FDArray information is missing");let x=it(o,s+w,null,f.formatMajor),M=function Um(o,s,a){let u=[];for(let c=0;c<a.length;c++){let p=Ue(new DataView(new Uint8Array(a[c]).buffer),0,2),m=p.private[0],y=p.private[1];if(0!==m&&0!==y){let D=Nu(o,y+s,m,[],2);if(D.subrs){let S=it(o,y+D.subrs+s,void 0,2);p._subrs=S.objects,p._subrsBias=Ia(p._subrs)}p._privateDict=D}u.push(p)}return u}(o,s,x.objects);b._fdArray=M,I&&(b._fdSelect=Lu(o,s+I,a.numGlyphs,M.length,f.formatMajor))}else if(a.isCIDFont){let w=b.fdArray,I=b.fdSelect;if(0===w||0===I)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");w+=s;let x=it(o,w),M=Pu(o,s,x.objects,y.objects,f.formatMajor);b._fdArray=M,I+=s,b._fdSelect=Lu(o,I,a.numGlyphs,M.length,f.formatMajor)}if(f.formatMajor<2){let w=s+b.private[1],I=Nu(o,w,b.private[0],y.objects,f.formatMajor);if(a.defaultWidthX=I.defaultWidthX,a.nominalWidthX=I.nominalWidthX,0!==I.subrs){let M=it(o,w+I.subrs);a.subrs=M.objects,a.subrsBias=Ia(a.subrs)}else a.subrs=[],a.subrsBias=0}if(u.lowMemory?(S=function Yi(o,s,a){let p,m,u=[],c=a>1?H.getULong(o,s):H.getCard16(o,s),f=a>1?4:2;if(0!==c){let y=H.getByte(o,s+f);p=s+(c+1)*y+f;let D=s+f+1;for(let b=0;b<c+1;b+=1)u.push(H.getOffset(o,D,y)),D+=y;m=p+u[c]}else m=s+f;return{offsets:u,startOffset:s,endOffset:m}}(o,s+b.charStrings,f.formatMajor),a.nGlyphs=S.offsets.length-(f.formatMajor>1?1:0)):(S=it(o,s+b.charStrings,null,f.formatMajor),a.nGlyphs=S.objects.length),f.formatMajor>1&&a.tables.maxp&&a.nGlyphs!==a.tables.maxp.numGlyphs&&console.error(`Glyph count in the CFF2 table (${a.nGlyphs}) must correspond to the glyph count in the maxp table (${a.tables.maxp.numGlyphs})`),f.formatMajor<2){let w=[],I=[];w=0===b.charset?Ve:1===b.charset?Sa:2===b.charset?Cf:function Bm(o,s,a,u,c){let f,p,m=new H.Parser(o,s);a-=1;let y=[".notdef"],D=m.parseCard8();if(0===D)for(let b=0;b<a;b+=1)f=m.parseSID(),y.push(c?f:Dr(u,f)||f);else if(1===D)for(;y.length<=a;){f=m.parseSID(),p=m.parseCard8();for(let b=0;b<=p;b+=1)y.push(c?"cid"+("00000"+f).slice(-5):Dr(u,f)||f),f+=1}else{if(2!==D)throw new Error("Unknown charset format "+D);for(;y.length<=a;){f=m.parseSID(),p=m.parseCard16();for(let b=0;b<=p;b+=1)y.push(c?"cid"+("00000"+f).slice(-5):Dr(u,f)||f),f+=1}}return y}(o,s+b.charset,a.nGlyphs,y.objects,a.isCIDFont),I=0===b.encoding?Re:1===b.encoding?ee:function qo(o,s){let a,u={},c=new H.Parser(o,s),f=c.parseCard8();if(0===f){let p=c.parseCard8();for(let m=0;m<p;m+=1)a=c.parseCard8(),u[a]=m}else{if(1!==f)throw new Error("Unknown encoding format "+f);{let p=c.parseCard8();a=1;for(let m=0;m<p;m+=1){let y=c.parseCard8(),D=c.parseCard8();for(let b=y;b<=y+D;b+=1)u[b]=a,a+=1}}}return u}(o,s+b.encoding),a.cffEncoding=new Ea(I,w),a.encoding=a.encoding||a.cffEncoding}if(a.glyphs=new Jn.GlyphSet(a),u.lowMemory)a._push=function(w){let I=function Vm(o,s,a,u,c,f){let p=f>1?H.getULong(a,u):H.getCard16(a,u),m=f>1?4:2,y=0;0!==p&&(y=u+(p+1)*H.getByte(a,u+m)+m);let D=H.getBytes(a,y+s[o],y+s[o+1]);return c&&(D=c(D)),D}(w,S.offsets,o,s+b.charStrings,void 0,f.formatMajor);a.glyphs.push(w,Jn.cffGlyphLoader(a,w,Ma,I,f.formatMajor))};else for(let w=0;w<a.nGlyphs;w+=1)a.glyphs.push(w,Jn.cffGlyphLoader(a,w,Ma,S.objects[w],f.formatMajor));if(b.vstore){let w=new H.Parser(o,s+b.vstore);b._vstore=w.parseVariationStore()}},Pn_make=function kf(o,s){let a=new L.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),u=1/s.unitsPerEm,c={version:s.version,fullName:s.fullName,familyName:s.familyName,weight:s.weightName,fontBBox:s.fontBBox||[0,0,0,0],fontMatrix:[u,0,0,u,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},f=s&&s.topDict||{};f.paintType&&(c.paintType=f.paintType,c.strokeWidth=f.strokeWidth||0);let y,m=[];for(let w=1;w<o.length;w+=1)y=o.get(w),m.push(y.name);let D=[];a.header=function Xo(){return new L.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}(),a.nameIndex=function uo(o){let s=new L.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);s.names=[];for(let a=0;a<o.length;a+=1)s.names.push({name:"name_"+a,type:"NAME",value:o[a]});return s}([s.postScriptName]);let b=we(c,D);a.topDictIndex=Oa(b),a.globalSubrIndex=function Ki(){return new L.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}(),a.charsets=function Fa(o,s){let a=new L.Record("Charsets",[{name:"format",type:"Card8",value:0}]);for(let u=0;u<o.length;u+=1){let f=Aa(o[u],s);a.fields.push({name:"glyph_"+u,type:"SID",value:f})}return a}(m,D),a.charStringsIndex=function Of(o,s){let a=new L.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]);for(let u=0;u<o.length;u+=1){let c=o.get(u),f=Zo(c,s);a.charStrings.push({name:c.name,type:"CHARSTRING",value:f})}return a}(o,1),a.privateDict=function Ff(o,s,a){let u=new L.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return u.dict=Vu(a>1?ku:Zi,o,s),u}({},D),a.stringIndex=function Uu(o){let s=new L.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);s.strings=[];for(let a=0;a<o.length;a+=1)s.strings.push({name:"string_"+a,type:"STRING",value:o[a]});return s}(D);let S=a.header.sizeOf()+a.nameIndex.sizeOf()+a.topDictIndex.sizeOf()+a.stringIndex.sizeOf()+a.globalSubrIndex.sizeOf();return c.charset=S,c.encoding=0,c.charStrings=c.charset+a.charsets.sizeOf(),c.private[1]=c.charStrings+a.charStringsIndex.sizeOf(),b=we(c,D),a.topDictIndex=Oa(b),a},Rf_parse=function xn(o,s){let a={},u=new H.Parser(o,s);return a.version=u.parseVersion(),a.fontRevision=Math.round(1e3*u.parseFixed())/1e3,a.checkSumAdjustment=u.parseULong(),a.magicNumber=u.parseULong(),X.argument(1594834165===a.magicNumber,"Font header has wrong magic number."),a.flags=u.parseUShort(),a.unitsPerEm=u.parseUShort(),a.created=u.parseLongDateTime(),a.modified=u.parseLongDateTime(),a.xMin=u.parseShort(),a.yMin=u.parseShort(),a.xMax=u.parseShort(),a.yMax=u.parseShort(),a.macStyle=u.parseUShort(),a.lowestRecPPEM=u.parseUShort(),a.fontDirectionHint=u.parseShort(),a.indexToLocFormat=u.parseShort(),a.glyphDataFormat=u.parseShort(),a},Rf_make=function Hm(o){let s=Math.round((new Date).getTime()/1e3)+2082844800,a=s;return o.createdTimestamp&&(a=o.createdTimestamp+2082844800),new L.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:a},{name:"modified",type:"LONGDATETIME",value:s},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:o.macStyle||0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],o)},Ie_parse=function Ln(o,s){let a={},u=new H.Parser(o,s);return a.version=u.parseVersion(),a.ascender=u.parseShort(),a.descender=u.parseShort(),a.lineGap=u.parseShort(),a.advanceWidthMax=u.parseUShort(),a.minLeftSideBearing=u.parseShort(),a.minRightSideBearing=u.parseShort(),a.xMaxExtent=u.parseShort(),a.caretSlopeRise=u.parseShort(),a.caretSlopeRun=u.parseShort(),a.caretOffset=u.parseShort(),u.relativeOffset+=8,a.metricDataFormat=u.parseShort(),a.numberOfHMetrics=u.parseUShort(),a},Ie_make=function er(o){return new L.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],o)},Vn_parse=function Ra(o,s,a,u,c,f,p){p.lowMemory?function ka(o,s,a,u,c){o._hmtxTableData={};let f,p,m=new H.Parser(s,a);for(let y=0;y<c;y+=1)y<u&&(f=m.parseUShort(),p=m.parseShort()),o._hmtxTableData[y]={advanceWidth:f,leftSideBearing:p}}(o,s,a,u,c):function Qi(o,s,a,u,c){let f,p,m=new H.Parser(o,s);for(let y=0;y<u;y+=1){y<a&&(f=m.parseUShort(),p=m.parseShort());let D=c.get(y);D.advanceWidth=f,D.leftSideBearing=p}}(s,a,u,c,f)},Vn_make=function Bu(o){let s=new L.Table("hmtx",[]);for(let a=0;a<o.length;a+=1){let u=o.get(a),f=u.leftSideBearing||0;s.fields.push({name:"advanceWidth_"+a,type:"USHORT",value:u.advanceWidth||0}),s.fields.push({name:"leftSideBearing_"+a,type:"SHORT",value:f})}return s},tr_make=function Ko(o){let s=new L.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:o.length}]),a="",u=12+4*o.length;for(let c=0;c<o.length;++c){let f=a.indexOf(o[c]);f<0&&(f=a.length,a+=o[c]),s.fields.push({name:"offset "+c,type:"USHORT",value:u+f}),s.fields.push({name:"length "+c,type:"USHORT",value:o[c].length})}return s.fields.push({name:"stringPool",type:"CHARARRAY",value:a}),s},tr_parse=function Nf(o,s){let a=new H.Parser(o,s),u=a.parseULong();X.argument(1===u,"Unsupported ltag table version."),a.skip("uLong",1);let c=a.parseULong(),f=[];for(let p=0;p<c;p++){let m="",y=s+a.parseUShort(),D=a.parseUShort();for(let b=y;b<y+D;++b)m+=String.fromCharCode(o.getInt8(b));f.push(m)}return f},Na_parse=function Pf(o,s){let a={},u=new H.Parser(o,s);return a.version=u.parseVersion(),a.numGlyphs=u.parseUShort(),1===a.version&&(a.maxPoints=u.parseUShort(),a.maxContours=u.parseUShort(),a.maxCompositePoints=u.parseUShort(),a.maxCompositeContours=u.parseUShort(),a.maxZones=u.parseUShort(),a.maxTwilightPoints=u.parseUShort(),a.maxStorage=u.parseUShort(),a.maxFunctionDefs=u.parseUShort(),a.maxInstructionDefs=u.parseUShort(),a.maxStackElements=u.parseUShort(),a.maxSizeOfInstructions=u.parseUShort(),a.maxComponentElements=u.parseUShort(),a.maxComponentDepth=u.parseUShort()),a},Na_make=function Hu(o){return new L.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:o}])},In=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],xt_parse=function ju(o,s){let a={},u=new H.Parser(o,s);a.version=u.parseUShort(),a.xAvgCharWidth=u.parseShort(),a.usWeightClass=u.parseUShort(),a.usWidthClass=u.parseUShort(),a.fsType=u.parseUShort(),a.ySubscriptXSize=u.parseShort(),a.ySubscriptYSize=u.parseShort(),a.ySubscriptXOffset=u.parseShort(),a.ySubscriptYOffset=u.parseShort(),a.ySuperscriptXSize=u.parseShort(),a.ySuperscriptYSize=u.parseShort(),a.ySuperscriptXOffset=u.parseShort(),a.ySuperscriptYOffset=u.parseShort(),a.yStrikeoutSize=u.parseShort(),a.yStrikeoutPosition=u.parseShort(),a.sFamilyClass=u.parseShort(),a.panose=[];for(let c=0;c<10;c++)a.panose[c]=u.parseByte();return a.ulUnicodeRange1=u.parseULong(),a.ulUnicodeRange2=u.parseULong(),a.ulUnicodeRange3=u.parseULong(),a.ulUnicodeRange4=u.parseULong(),a.achVendID=String.fromCharCode(u.parseByte(),u.parseByte(),u.parseByte(),u.parseByte()),a.fsSelection=u.parseUShort(),a.usFirstCharIndex=u.parseUShort(),a.usLastCharIndex=u.parseUShort(),a.sTypoAscender=u.parseShort(),a.sTypoDescender=u.parseShort(),a.sTypoLineGap=u.parseShort(),a.usWinAscent=u.parseUShort(),a.usWinDescent=u.parseUShort(),a.version>=1&&(a.ulCodePageRange1=u.parseULong(),a.ulCodePageRange2=u.parseULong()),a.version>=2&&(a.sxHeight=u.parseShort(),a.sCapHeight=u.parseShort(),a.usDefaultChar=u.parseUShort(),a.usBreakChar=u.parseUShort(),a.usMaxContent=u.parseUShort()),a},xt_make=function le(o){return new L.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],o)},xt_getUnicodeRange=function Lf(o){for(let s=0;s<In.length;s+=1){let a=In[s];if(o>=a.begin&&o<a.end)return s}return-1},Tt_parse=function Ae(o,s){let a={},u=new H.Parser(o,s);switch(a.version=u.parseVersion(),a.italicAngle=u.parseFixed(),a.underlinePosition=u.parseShort(),a.underlineThickness=u.parseShort(),a.isFixedPitch=u.parseULong(),a.minMemType42=u.parseULong(),a.maxMemType42=u.parseULong(),a.minMemType1=u.parseULong(),a.maxMemType1=u.parseULong(),a.version){case 1:a.names=Qn.slice();break;case 2:a.numberOfGlyphs=u.parseUShort(),a.glyphNameIndex=new Array(a.numberOfGlyphs);for(let c=0;c<a.numberOfGlyphs;c++)a.glyphNameIndex[c]=u.parseUShort();a.names=[];for(let c=0;c<a.numberOfGlyphs;c++)if(a.glyphNameIndex[c]>=Qn.length){let f=u.parseChar();a.names.push(u.parseString(f))}break;case 2.5:a.numberOfGlyphs=u.parseUShort(),a.offset=new Array(a.numberOfGlyphs);for(let c=0;c<a.numberOfGlyphs;c++)a.offset[c]=u.parseChar()}return a},Tt_make=function It(o){let{italicAngle:s=Math.round(65536*(o.italicAngle||0)),underlinePosition:a=0,underlineThickness:u=0,isFixedPitch:c=0,minMemType42:f=0,maxMemType42:p=0,minMemType1:m=0,maxMemType1:y=0}=o.tables.post||{};return new L.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:s},{name:"underlinePosition",type:"FWORD",value:a},{name:"underlineThickness",type:"FWORD",value:u},{name:"isFixedPitch",type:"ULONG",value:c},{name:"minMemType42",type:"ULONG",value:f},{name:"maxMemType42",type:"ULONG",value:p},{name:"minMemType1",type:"ULONG",value:m},{name:"maxMemType1",type:"ULONG",value:y}])},Nt=new Array(9);Nt[1]=function(){let o=this.offset+this.relativeOffset,s=this.parseUShort();return 1===s?{substFormat:1,coverage:this.parsePointer(A.coverage),deltaGlyphId:this.parseShort()}:2===s?{substFormat:2,coverage:this.parsePointer(A.coverage),substitute:this.parseOffset16List()}:void X.assert(!1,"0x"+o.toString(16)+": lookup type 1 format must be 1 or 2.")},Nt[2]=function(){let o=this.parseUShort();return X.argument(1===o,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:o,coverage:this.parsePointer(A.coverage),sequences:this.parseListOfLists()}},Nt[3]=function(){let o=this.parseUShort();return X.argument(1===o,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:o,coverage:this.parsePointer(A.coverage),alternateSets:this.parseListOfLists()}},Nt[4]=function(){let o=this.parseUShort();return X.argument(1===o,"GSUB ligature table identifier-format must be 1"),{substFormat:o,coverage:this.parsePointer(A.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var dt={sequenceIndex:A.uShort,lookupListIndex:A.uShort};Nt[5]=function(){let o=this.offset+this.relativeOffset,s=this.parseUShort();if(1===s)return{substFormat:s,coverage:this.parsePointer(A.coverage),ruleSets:this.parseListOfLists(function(){let a=this.parseUShort(),u=this.parseUShort();return{input:this.parseUShortList(a-1),lookupRecords:this.parseRecordList(u,dt)}})};if(2===s)return{substFormat:s,coverage:this.parsePointer(A.coverage),classDef:this.parsePointer(A.classDef),classSets:this.parseListOfLists(function(){let a=this.parseUShort(),u=this.parseUShort();return{classes:this.parseUShortList(a-1),lookupRecords:this.parseRecordList(u,dt)}})};if(3===s){let a=this.parseUShort(),u=this.parseUShort();return{substFormat:s,coverages:this.parseList(a,A.pointer(A.coverage)),lookupRecords:this.parseRecordList(u,dt)}}X.assert(!1,"0x"+o.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Nt[6]=function(){let o=this.offset+this.relativeOffset,s=this.parseUShort();return 1===s?{substFormat:1,coverage:this.parsePointer(A.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(dt)}})}:2===s?{substFormat:2,coverage:this.parsePointer(A.coverage),backtrackClassDef:this.parsePointer(A.classDef),inputClassDef:this.parsePointer(A.classDef),lookaheadClassDef:this.parsePointer(A.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(dt)}})}:3===s?{substFormat:3,backtrackCoverage:this.parseList(A.pointer(A.coverage)),inputCoverage:this.parseList(A.pointer(A.coverage)),lookaheadCoverage:this.parseList(A.pointer(A.coverage)),lookupRecords:this.parseRecordList(dt)}:void X.assert(!1,"0x"+o.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Nt[7]=function(){let o=this.parseUShort();X.argument(1===o,"GSUB Extension Substitution subtable identifier-format must be 1");let s=this.parseUShort(),a=new A(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:s,extension:Nt[s].call(a)}},Nt[8]=function(){let o=this.parseUShort();return X.argument(1===o,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:o,coverage:this.parsePointer(A.coverage),backtrackCoverage:this.parseList(A.pointer(A.coverage)),lookaheadCoverage:this.parseList(A.pointer(A.coverage)),substitutes:this.parseUShortList()}};var G=new Array(9);G[1]=function(o){return 1===o.substFormat?new L.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new L.Coverage(o.coverage)},{name:"deltaGlyphID",type:"SHORT",value:o.deltaGlyphId}]):2===o.substFormat?new L.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new L.Coverage(o.coverage)}].concat(L.ushortList("substitute",o.substitute))):void X.fail("Lookup type 1 substFormat must be 1 or 2.")},G[2]=function(o){return X.assert(1===o.substFormat,"Lookup type 2 substFormat must be 1."),new L.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new L.Coverage(o.coverage)}].concat(L.tableList("seqSet",o.sequences,function(s){return new L.Table("sequenceSetTable",L.ushortList("sequence",s))})))},G[3]=function(o){return X.assert(1===o.substFormat,"Lookup type 3 substFormat must be 1."),new L.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new L.Coverage(o.coverage)}].concat(L.tableList("altSet",o.alternateSets,function(s){return new L.Table("alternateSetTable",L.ushortList("alternate",s))})))},G[4]=function(o){return X.assert(1===o.substFormat,"Lookup type 4 substFormat must be 1."),new L.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new L.Coverage(o.coverage)}].concat(L.tableList("ligSet",o.ligatureSets,function(s){return new L.Table("ligatureSetTable",L.tableList("ligature",s,function(a){return new L.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:a.ligGlyph}].concat(L.ushortList("component",a.components,a.components.length+1)))}))})))},G[5]=function(o){if(1===o.substFormat)return new L.Table("contextualSubstitutionTable",[{name:"substFormat",type:"USHORT",value:o.substFormat},{name:"coverage",type:"TABLE",value:new L.Coverage(o.coverage)}].concat(L.tableList("sequenceRuleSet",o.ruleSets,function(s){return s?new L.Table("sequenceRuleSetTable",L.tableList("sequenceRule",s,function(a){let u=L.ushortList("seqLookup",[],a.lookupRecords.length).concat(L.ushortList("inputSequence",a.input,a.input.length+1));[u[0],u[1]]=[u[1],u[0]];for(let c=0;c<a.lookupRecords.length;c++){let f=a.lookupRecords[c];u=u.concat({name:"sequenceIndex"+c,type:"USHORT",value:f.sequenceIndex}).concat({name:"lookupListIndex"+c,type:"USHORT",value:f.lookupListIndex})}return new L.Table("sequenceRuleTable",u)})):new L.Table("NULL",null)})));if(2===o.substFormat)return new L.Table("contextualSubstitutionTable",[{name:"substFormat",type:"USHORT",value:o.substFormat},{name:"coverage",type:"TABLE",value:new L.Coverage(o.coverage)},{name:"classDef",type:"TABLE",value:new L.ClassDef(o.classDef)}].concat(L.tableList("classSeqRuleSet",o.classSets,function(s){return s?new L.Table("classSeqRuleSetTable",L.tableList("classSeqRule",s,function(a){let u=L.ushortList("classes",a.classes,a.classes.length+1).concat(L.ushortList("seqLookupCount",[],a.lookupRecords.length));for(let c=0;c<a.lookupRecords.length;c++){let f=a.lookupRecords[c];u=u.concat({name:"sequenceIndex"+c,type:"USHORT",value:f.sequenceIndex}).concat({name:"lookupListIndex"+c,type:"USHORT",value:f.lookupListIndex})}return new L.Table("classSeqRuleTable",u)})):new L.Table("NULL",null)})));if(3===o.substFormat){let s=[{name:"substFormat",type:"USHORT",value:o.substFormat}];s.push({name:"inputGlyphCount",type:"USHORT",value:o.coverages.length}),s.push({name:"substitutionCount",type:"USHORT",value:o.lookupRecords.length});for(let a=0;a<o.coverages.length;a++)s.push({name:"inputCoverage"+a,type:"TABLE",value:new L.Coverage(o.coverages[a])});for(let a=0;a<o.lookupRecords.length;a++){let u=o.lookupRecords[a];s=s.concat({name:"sequenceIndex"+a,type:"USHORT",value:u.sequenceIndex}).concat({name:"lookupListIndex"+a,type:"USHORT",value:u.lookupListIndex})}return new L.Table("contextualSubstitutionTable",s)}X.assert(!1,"lookup type 5 format must be 1, 2 or 3.")},G[6]=function(o){if(1===o.substFormat)return new L.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:o.substFormat},{name:"coverage",type:"TABLE",value:new L.Coverage(o.coverage)}].concat(L.tableList("chainRuleSet",o.chainRuleSets,function(s){return new L.Table("chainRuleSetTable",L.tableList("chainRule",s,function(a){let u=L.ushortList("backtrackGlyph",a.backtrack,a.backtrack.length).concat(L.ushortList("inputGlyph",a.input,a.input.length+1)).concat(L.ushortList("lookaheadGlyph",a.lookahead,a.lookahead.length)).concat(L.ushortList("substitution",[],a.lookupRecords.length));for(let c=0;c<a.lookupRecords.length;c++){let f=a.lookupRecords[c];u=u.concat({name:"sequenceIndex"+c,type:"USHORT",value:f.sequenceIndex}).concat({name:"lookupListIndex"+c,type:"USHORT",value:f.lookupListIndex})}return new L.Table("chainRuleTable",u)}))})));if(2===o.substFormat)X.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(3===o.substFormat){let s=[{name:"substFormat",type:"USHORT",value:o.substFormat}];s.push({name:"backtrackGlyphCount",type:"USHORT",value:o.backtrackCoverage.length});for(let a=0;a<o.backtrackCoverage.length;a++)s.push({name:"backtrackCoverage"+a,type:"TABLE",value:new L.Coverage(o.backtrackCoverage[a])});s.push({name:"inputGlyphCount",type:"USHORT",value:o.inputCoverage.length});for(let a=0;a<o.inputCoverage.length;a++)s.push({name:"inputCoverage"+a,type:"TABLE",value:new L.Coverage(o.inputCoverage[a])});s.push({name:"lookaheadGlyphCount",type:"USHORT",value:o.lookaheadCoverage.length});for(let a=0;a<o.lookaheadCoverage.length;a++)s.push({name:"lookaheadCoverage"+a,type:"TABLE",value:new L.Coverage(o.lookaheadCoverage[a])});s.push({name:"substitutionCount",type:"USHORT",value:o.lookupRecords.length});for(let a=0;a<o.lookupRecords.length;a++){let u=o.lookupRecords[a];s=s.concat({name:"sequenceIndex"+a,type:"USHORT",value:u.sequenceIndex}).concat({name:"lookupListIndex"+a,type:"USHORT",value:u.lookupListIndex})}return new L.Table("chainContextTable",s)}X.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};var We={parse:function nr(o,s){let a=new A(o,s=s||0),u=a.parseVersion(1);return X.argument(1===u||1.1===u,"Unsupported GSUB table version."),1===u?{version:u,scripts:a.parseScriptList(),features:a.parseFeatureList(),lookups:a.parseLookupList(Nt)}:{version:u,scripts:a.parseScriptList(),features:a.parseFeatureList(),lookups:a.parseLookupList(Nt),variations:a.parseFeatureVariationsList()}},make:function pe(o){return new L.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new L.ScriptList(o.scripts)},{name:"features",type:"TABLE",value:new L.FeatureList(o.features)},{name:"lookups",type:"TABLE",value:new L.LookupList(o.lookups,G)}])}},vt_parse=function Tn(o,s){let a=new H.Parser(o,s),u=a.parseULong();X.argument(1===u,"Unsupported META table version."),a.parseULong(),a.parseULong();let c=a.parseULong(),f={};for(let p=0;p<c;p++){let m=a.parseTag(),y=a.parseULong(),D=a.parseULong();if("appl"===m||"bild"===m)continue;let b=Uo.UTF8(o,s+y,D);f[m]=b}return f},vt_make=function kr(o){let s=Object.keys(o).length,a="",u=16+12*s,c=new L.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:u},{name:"numTags",type:"ULONG",value:s}]);for(let f in o){let p=a.length;a+=o[f],c.fields.push({name:"tag "+f,type:"TAG",value:f}),c.fields.push({name:"offset "+f,type:"ULONG",value:u+p}),c.fields.push({name:"length "+f,type:"ULONG",value:o[f].length})}return c.fields.push({name:"stringPool",type:"CHARARRAY",value:a}),c},Qo={parse:function co(o,s){let a=new A(o,s),u=a.parseUShort();0!==u&&console.warn("Only COLRv0 is currently fully supported. A subset of color glyphs might be available in this font if provided in the v0 format.");let c=a.parseUShort(),f=a.parseOffset32(),p=a.parseOffset32(),m=a.parseUShort();a.relativeOffset=f;let y=a.parseRecordList(c,{glyphID:A.uShort,firstLayerIndex:A.uShort,numLayers:A.uShort});return a.relativeOffset=p,{version:u,baseGlyphRecords:y,layerRecords:a.parseRecordList(m,{glyphID:A.uShort,paletteIndex:A.uShort})}},make:function Ze({version:o=0,baseGlyphRecords:s=[],layerRecords:a=[]}){return X.argument(0===o,"Only COLRv0 supported."),new L.Table("COLR",[{name:"version",type:"USHORT",value:o},{name:"numBaseGlyphRecords",type:"USHORT",value:s.length},{name:"baseGlyphRecordsOffset",type:"ULONG",value:14},{name:"layerRecordsOffset",type:"ULONG",value:14+6*s.length},{name:"numLayerRecords",type:"USHORT",value:a.length},...s.map((f,p)=>[{name:"glyphID_"+p,type:"USHORT",value:f.glyphID},{name:"firstLayerIndex_"+p,type:"USHORT",value:f.firstLayerIndex},{name:"numLayers_"+p,type:"USHORT",value:f.numLayers}]).flat(),...a.map((f,p)=>[{name:"LayerGlyphID_"+p,type:"USHORT",value:f.glyphID},{name:"paletteIndex_"+p,type:"USHORT",value:f.paletteIndex}]).flat()])}};function Ji(o,s){return[{name:"tag_"+o,type:"TAG",value:s.tag},{name:"minValue_"+o,type:"FIXED",value:s.minValue<<16},{name:"defaultValue_"+o,type:"FIXED",value:s.defaultValue<<16},{name:"maxValue_"+o,type:"FIXED",value:s.maxValue<<16},{name:"flags_"+o,type:"USHORT",value:0},{name:"nameID_"+o,type:"USHORT",value:s.axisNameID}]}function ge(o,s,a){let u={},c=new H.Parser(o,s);u.tag=c.parseTag(),u.minValue=c.parseFixed(),u.defaultValue=c.parseFixed(),u.maxValue=c.parseFixed(),c.skip("uShort",1);let f=c.parseUShort();return u.axisNameID=f,u.name=Gi(a,f),u}function Pa(o,s,a,u={}){let c=[{name:"nameID_"+o,type:"USHORT",value:s.subfamilyNameID},{name:"flags_"+o,type:"USHORT",value:0}];for(let f=0;f<a.length;++f){let p=a[f].tag;c.push({name:"axis_"+o+" "+p,type:"FIXED",value:s.coordinates[p]<<16})}return u&&u.postScriptNameID&&c.push({name:"postScriptNameID_",type:"USHORT",value:void 0!==s.postScriptNameID?s.postScriptNameID:65535}),c}function Jo(o,s,a,u,c){let f={},p=new H.Parser(o,s),m=p.parseUShort();f.subfamilyNameID=m,f.name=Gi(u,m,[2,17]),p.skip("uShort",1),f.coordinates={};for(let D=0;D<a.length;++D)f.coordinates[a[D].tag]=p.parseFixed();if(p.relativeOffset===c)return f.postScriptNameID=void 0,f.postScriptName=void 0,f;let y=p.parseUShort();return f.postScriptNameID=65535==y?void 0:y,f.postScriptName=void 0!==f.postScriptNameID?Gi(u,y,[6]):"",f}var bt={make:function Gu(o,s){let a=new L.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:o.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:o.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*o.axes.length}]);a.offsetToData=a.sizeOf();for(let c=0;c<o.axes.length;c++)a.fields=a.fields.concat(Ji(c,o.axes[c]));let u={};for(let c=0;c<o.instances.length;c++)if(void 0!==o.instances[c].postScriptNameID){a.instanceSize+=2,u.postScriptNameID=!0;break}for(let c=0;c<o.instances.length;c++)a.fields=a.fields.concat(Pa(c,o.instances[c],o.axes,u));return a},parse:function fo(o,s,a){let u=new H.Parser(o,s),c=u.parseULong();X.argument(65536===c,"Unsupported fvar table version.");let f=u.parseOffset16();u.skip("uShort",1);let p=u.parseUShort(),m=u.parseUShort(),y=u.parseUShort(),D=u.parseUShort(),b=[];for(let I=0;I<p;I++)b.push(ge(o,s+f+I*m,a));let S=[],w=s+f+p*m;for(let I=0;I<y;I++)S.push(Jo(o,w+I*D,b,a,D));return{axes:b,instances:S}}},ei={tag:A.tag,nameID:A.uShort,ordering:A.uShort},Un=new Array(5);function Bn(){let o=this.parseUShort(),s=Un[o],a={format:o};return void 0===s?(console.warn(`Unknown axis value table format ${o}`),a):Object.assign(a,this.parseStruct(s.bind(this)))}Un[1]=function(){return{axisIndex:this.parseUShort(),flags:this.parseUShort(),valueNameID:this.parseUShort(),value:this.parseFixed()}},Un[2]=function(){return{axisIndex:this.parseUShort(),flags:this.parseUShort(),valueNameID:this.parseUShort(),nominalValue:this.parseFixed(),rangeMinValue:this.parseFixed(),rangeMaxValue:this.parseFixed()}},Un[3]=function(){return{axisIndex:this.parseUShort(),flags:this.parseUShort(),valueNameID:this.parseUShort(),value:this.parseFixed(),linkedValue:this.parseFixed()}},Un[4]=function(){let o=this.parseUShort();return{flags:this.parseUShort(),valueNameID:this.parseUShort(),axisValues:this.parseList(o,function(){return{axisIndex:this.parseUShort(),value:this.parseFixed()}})}};var ho=new Array(5);function He(o,s){return new L.Record("axisRecord_"+o,[{name:"axisTag_"+o,type:"TAG",value:s.tag},{name:"axisNameID_"+o,type:"USHORT",value:s.nameID},{name:"axisOrdering_"+o,type:"USHORT",value:s.ordering}])}function jm(o,s){let a=s.format,u=ho[a];X.argument(void 0!==u,`Unknown axis value table format ${a}`);let c=u(o,s);return new L.Table("axisValueTable_"+o,c)}ho[1]=function(o,s){return[{name:`format${o}`,type:"USHORT",value:1},{name:`axisIndex${o}`,type:"USHORT",value:s.axisIndex},{name:`flags${o}`,type:"USHORT",value:s.flags},{name:`valueNameID${o}`,type:"USHORT",value:s.valueNameID},{name:`value${o}`,type:"FLOAT",value:s.value}]},ho[2]=function(o,s){return[{name:`format${o}`,type:"USHORT",value:2},{name:`axisIndex${o}`,type:"USHORT",value:s.axisIndex},{name:`flags${o}`,type:"USHORT",value:s.flags},{name:`valueNameID${o}`,type:"USHORT",value:s.valueNameID},{name:`nominalValue${o}`,type:"FLOAT",value:s.nominalValue},{name:`rangeMinValue${o}`,type:"FLOAT",value:s.rangeMinValue},{name:`rangeMaxValue${o}`,type:"FLOAT",value:s.rangeMaxValue}]},ho[3]=function(o,s){return[{name:`format${o}`,type:"USHORT",value:3},{name:`axisIndex${o}`,type:"USHORT",value:s.axisIndex},{name:`flags${o}`,type:"USHORT",value:s.flags},{name:`valueNameID${o}`,type:"USHORT",value:s.valueNameID},{name:`value${o}`,type:"FLOAT",value:s.value},{name:`linkedValue${o}`,type:"FLOAT",value:s.linkedValue}]},ho[4]=function(o,s){let a=[{name:`format${o}`,type:"USHORT",value:4},{name:`axisCount${o}`,type:"USHORT",value:s.axisValues.length},{name:`flags${o}`,type:"USHORT",value:s.flags},{name:`valueNameID${o}`,type:"USHORT",value:s.valueNameID}];for(let u=0;u<s.axisValues.length;u++)a=a.concat([{name:`format${o}axisIndex${u}`,type:"USHORT",value:s.axisValues[u].axisIndex},{name:`format${o}value${u}`,type:"FLOAT",value:s.axisValues[u].value}]);return a};var Va={make:function La(o){let s=new L.Table("STAT",[{name:"majorVersion",type:"USHORT",value:1},{name:"minorVersion",type:"USHORT",value:2},{name:"designAxisSize",type:"USHORT",value:8},{name:"designAxisCount",type:"USHORT",value:o.axes.length},{name:"designAxesOffset",type:"ULONG",value:0},{name:"axisValueCount",type:"USHORT",value:o.values.length},{name:"offsetToAxisValueOffsets",type:"ULONG",value:0},{name:"elidedFallbackNameID",type:"USHORT",value:o.elidedFallbackNameID}]);s.designAxesOffset=s.offsetToAxisValueOffsets=s.sizeOf();for(let f=0;f<o.axes.length;f++){let p=He(f,o.axes[f]);s.offsetToAxisValueOffsets+=p.sizeOf(),s.fields=s.fields.concat(p.fields)}let a=[],u=[],c=2*o.values.length;for(let f=0;f<o.values.length;f++){let p=jm(f,o.values[f]);a.push({name:"offset_"+f,type:"USHORT",value:c}),c+=p.sizeOf(),u=u.concat(p.fields)}return s.fields=s.fields.concat(a),s.fields=s.fields.concat(u),s},parse:function ti(o,s,a){s||(s=0);let u=new H.Parser(o,s),c=u.parseUShort(),f=u.parseUShort();1!==c&&console.warn(`Unsupported STAT table version ${c}.${f}`);let p=[c,f],m=u.parseUShort(),y=u.parseUShort(),D=u.parseOffset32(),b=u.parseUShort(),S=u.parseOffset32(),w=c>1||f>0?u.parseUShort():void 0;void 0!==a&&X.argument(y>=a.axes.length,"STAT axis count must be greater than or equal to fvar axis count"),b>0&&X.argument(y>=0,"STAT axis count must be greater than 0 if STAT axis value count is greater than 0");let I=[];for(let F=0;F<y;F++)u.offset=s+D,u.relativeOffset=F*m,I.push(u.parseStruct(ei));u.offset=s,u.relativeOffset=S;let x=u.parseUShortList(b),M=[];for(let F=0;F<b;F++)u.offset=s+S,u.relativeOffset=x[F],M.push(Bn.apply(u));return{version:p,axes:I,values:M,elidedFallbackNameID:w}}};function es(o,s){return new L.Record("axisValueMap_"+o,[{name:"fromCoordinate_"+o,type:"F2DOT14",value:s.fromCoordinate},{name:"toCoordinate_"+o,type:"F2DOT14",value:s.toCoordinate}])}function ts(o,s){let a=new L.Record("segmentMap_"+o,[{name:"positionMapCount_"+o,type:"USHORT",value:s.axisValueMaps.length}]),u=[];for(let c=0;c<s.axisValueMaps.length;c++){let f=es(`${o}_${c}`,s.axisValueMaps[c]);u=u.concat(f.fields)}return a.fields=a.fields.concat(u),a}var Vf={make:function po(o,s){X.argument(o.axisSegmentMaps.length===s.axes.length,"avar axis count must correspond to fvar axis count");let a=new L.Table("avar",[{name:"majorVersion",type:"USHORT",value:1},{name:"minorVersion",type:"USHORT",value:0},{name:"reserved",type:"USHORT",value:0},{name:"axisCount",type:"USHORT",value:o.axisSegmentMaps.length}]);for(let u=0;u<o.axisSegmentMaps.length;u++){let c=ts(u,o.axisSegmentMaps[u]);a.fields=a.fields.concat(c.fields)}return a},parse:function Pt(o,s,a){s||(s=0);let u=new A(o,s),c=u.parseUShort(),f=u.parseUShort();1!==c&&console.warn(`Unsupported avar table version ${c}.${f}`),u.skip("uShort",1);let p=u.parseUShort();X.argument(p===a.axes.length,"avar axis count must correspond to fvar axis count");let m=[];for(let y=0;y<p;y++){let D=[],b=u.parseUShort();for(let S=0;S<b;S++){let w=u.parseF2Dot14(),I=u.parseF2Dot14();D.push({fromCoordinate:w,toCoordinate:I})}m.push({axisValueMaps:D})}return{version:[c,f],axisSegmentMaps:m}}},ns={make:function Mn(){console.warn("Writing of cvar tables is not yet supported.")},parse:function tn(o,s,a,u){let c=new H.Parser(o,s),f=c.parseTupleVariationStore(c.relativeOffset,a.axes.length,"cvar",u),p=c.parseUShort(),m=c.parseUShort();return 1!==p&&console.warn(`Unsupported cvar table version ${p}.${m}`),{version:[p,m],...f}}},mn={make:function rs(){console.warn("Writing of gvar tables is not yet supported.")},parse:function ni(o,s,a,u){let c=new H.Parser(o,s),f=c.parseUShort(),p=c.parseUShort();1!==f&&console.warn(`Unsupported gvar table version ${f}.${p}`);let m=c.parseUShort();m!==a.axes.length&&console.warn(`axisCount ${m} in gvar table does not match the number of axes ${a.axes.length} in the fvar table!`);let y=c.parseUShort();return{version:[f,p],sharedTuples:c.parsePointer32(function(){return this.parseTupleRecords(y,m)}),glyphVariations:c.parseTupleVariationStoreList(m,"gvar",u)}}},$u={parse:function Uf(o,s){let a={},u=new H.Parser(o,s);a.version=u.parseUShort(),X.argument(a.version<=1,"Unsupported gasp table version."),a.numRanges=u.parseUShort(),a.gaspRanges=[];for(let c=0;c<a.numRanges;c++)a.gaspRanges[c]={rangeMaxPPEM:u.parseUShort(),rangeGaspBehavior:u.parseUShort()};return a},make:function Gm(o){let s=new L.Table("gasp",[{name:"version",type:"USHORT",value:1},{name:"numRanges",type:"USHORT",value:o.numRanges}]);for(let a in o.gaspRanges)s.fields.push({name:"rangeMaxPPEM",type:"USHORT",value:o.gaspRanges[a].rangeMaxPPEM}),s.fields.push({name:"rangeGaspBehavior",type:"USHORT",value:o.gaspRanges[a].rangeGaspBehavior});return s}},Hf={make:function $m(o){let s=Array.from(o.keys()).sort(),a=[],u=[],c=new Map,f=0,p={endGlyphID:null};for(let w=0,I=s.length;w<I;w++){let x=s[w],M=o.get(x),F=c.get(M);void 0===F&&(F=f,u.push(M),c.set(M,F),f+=M.byteLength),x-1===p.endGlyphID&&F===p.svgDocOffset?p.endGlyphID=x:(p={startGlyphID:x,endGlyphID:x,svgDocOffset:F,svgDocLength:M.byteLength},a.push(p))}let m=a.length,y=u.length,D=2+12*m,b=new Array(4+4*m+y),S=0;b[S++]={name:"version",type:"USHORT",value:0},b[S++]={name:"svgDocumentListOffset",type:"ULONG",value:10},b[S++]={name:"reserved",type:"ULONG",value:0},b[S++]={name:"numEntries",type:"USHORT",value:m};for(let w=0;w<m;w++){let I="documentRecord_"+w,{startGlyphID:x,endGlyphID:M,svgDocOffset:F,svgDocLength:W}=a[w];b[S++]={name:I+"_startGlyphID",type:"USHORT",value:x},b[S++]={name:I+"_endGlyphID",type:"USHORT",value:M},b[S++]={name:I+"_svgDocOffset",type:"ULONG",value:D+F},b[S++]={name:I+"_svgDocLength",type:"ULONG",value:W}}for(let w=0;w<y;w++)b[S++]={name:"svgDoc_"+w,type:"LITERAL",value:u[w]};return new L.Table("SVG ",b)},parse:function Bf(o,s){let a=new Map,u=o.buffer,c=new A(o,s);if(0!==c.parseUShort())return a;c.relativeOffset=c.parseOffset32();let f=o.byteOffset+s+c.relativeOffset,p=c.parseUShort(),m=new Map;for(let y=0;y<p;y++){let D=c.parseUShort(),b=c.parseUShort(),S=f+c.parseOffset32(),w=c.parseULong(),I=m.get(S);void 0===I&&(I=new Uint8Array(u,S,w),m.set(S,I));for(let x=D;x<=b;x++)a.set(x,I)}return a}};function jf(o){return Math.log(o)/Math.log(2)|0}function zu(o){for(;o.length%4!=0;)o.push(0);let s=0;for(let a=0;a<o.length;a+=4)s+=(o[a]<<24)+(o[a+1]<<16)+(o[a+2]<<8)+o[a+3];return s%=Math.pow(2,32),s}function Gf(o,s,a,u){return new L.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==o?o:""},{name:"checkSum",type:"ULONG",value:void 0!==s?s:0},{name:"offset",type:"ULONG",value:void 0!==a?a:0},{name:"length",type:"ULONG",value:void 0!==u?u:0}])}function $f(o){let s=new L.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);s.tables=o,s.numTables=o.length;let a=Math.pow(2,jf(s.numTables));s.searchRange=16*a,s.entrySelector=jf(a),s.rangeShift=16*s.numTables-s.searchRange;let u=[],c=[],f=s.sizeOf()+Gf().sizeOf()*s.numTables;for(;f%4!=0;)f+=1,c.push({name:"padding",type:"BYTE",value:0});for(let p=0;p<o.length;p+=1){let m=o[p];X.argument(4===m.tableName.length,"Table name"+m.tableName+" is invalid.");let y=m.sizeOf(),D=Gf(m.tableName,zu(m.encode()),f,y);for(u.push({name:D.tag+" Table Record",type:"RECORD",value:D}),c.push({name:m.tableName+" table",type:"RECORD",value:m}),f+=y,X.argument(!isNaN(f),"Something went wrong calculating the offset.");f%4!=0;)f+=1,c.push({name:"padding",type:"BYTE",value:0})}return u.sort(function(p,m){return p.value.tag>m.value.tag?1:-1}),s.fields=s.fields.concat(u),s.fields=s.fields.concat(c),s}function zf(o,s,a){for(let u=0;u<s.length;u+=1){let c=o.charToGlyphIndex(s[u]);if(c>0)return o.glyphs.get(c).getMetrics()}return a}function zm(o){let s=0;for(let a=0;a<o.length;a+=1)s+=o[a];return s/o.length}var qm_fontToTable=function Wm(o){let y,s=[],a=[],u=[],c=[],f=[],p=[],m=[],D=0,b=0,S=0,w=0,I=0;for(let Pe=0;Pe<o.glyphs.length;Pe+=1){let Xt=o.glyphs.get(Pe),ln=0|Xt.unicode;if(isNaN(Xt.advanceWidth))throw new Error("Glyph "+Xt.name+" ("+Pe+"): advanceWidth is not a number.");(y>ln||void 0===y)&&ln>0&&(y=ln),D<ln&&(D=ln);let Zt=xt_getUnicodeRange(ln);if(Zt<32)b|=1<<Zt;else if(Zt<64)S|=1<<Zt-32;else if(Zt<96)w|=1<<Zt-64;else{if(!(Zt<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");I|=1<<Zt-96}if(".notdef"===Xt.name)continue;let kn=Xt.getMetrics();s.push(kn.xMin),a.push(kn.yMin),u.push(kn.xMax),c.push(kn.yMax),p.push(kn.leftSideBearing),m.push(kn.rightSideBearing),f.push(Xt.advanceWidth)}let x={xMin:Math.min.apply(null,s),yMin:Math.min.apply(null,a),xMax:Math.max.apply(null,u),yMax:Math.max.apply(null,c),advanceWidthMax:Math.max.apply(null,f),advanceWidthAvg:zm(f),minLeftSideBearing:Math.min.apply(null,p),maxLeftSideBearing:Math.max.apply(null,p),minRightSideBearing:Math.min.apply(null,m)};x.ascender=o.ascender,x.descender=o.descender;let M=0;o.weightClass>=600&&(M|=o.macStyleValues.BOLD),o.italicAngle<0&&(M|=o.macStyleValues.ITALIC);let F=Rf_make({flags:3,unitsPerEm:o.unitsPerEm,xMin:x.xMin,yMin:x.yMin,xMax:x.xMax,yMax:x.yMax,lowestRecPPEM:3,macStyle:M,createdTimestamp:o.createdTimestamp}),W=Ie_make({ascender:x.ascender,descender:x.descender,advanceWidthMax:x.advanceWidthMax,minLeftSideBearing:x.minLeftSideBearing,minRightSideBearing:x.minRightSideBearing,xMaxExtent:x.maxLeftSideBearing+(x.xMax-x.xMin),numberOfHMetrics:o.glyphs.length}),Z=Na_make(o.glyphs.length),K=xt_make(Object.assign({xAvgCharWidth:Math.round(x.advanceWidthAvg),usFirstCharIndex:y,usLastCharIndex:D,ulUnicodeRange1:b,ulUnicodeRange2:S,ulUnicodeRange3:w,ulUnicodeRange4:I,sTypoAscender:x.ascender,sTypoDescender:x.descender,sTypoLineGap:0,usWinAscent:x.yMax,usWinDescent:Math.abs(x.yMin),ulCodePageRange1:1,sxHeight:zf(o,"xyvw",{yMax:Math.round(x.ascender/2)}).yMax,sCapHeight:zf(o,"HIKLEFJMNTZBDPRAGOQSUVWXY",x).yMax,usDefaultChar:o.hasChar(" ")?32:0,usBreakChar:o.hasChar(" ")?32:0},o.tables.os2)),me=Vn_make(o.glyphs),Oe=ke_make(o.glyphs),Be=o.getEnglishName("fontFamily"),xe=o.getEnglishName("fontSubfamily"),ft=Be+" "+xe,Vt=o.getEnglishName("postScriptName");Vt||(Vt=Be.replace(/\s/g,"")+"-"+xe);let be={};for(let Pe in o.names)be[Pe]=o.names[Pe];be.unicode=be.unicode||{},be.macintosh=be.macintosh||{},be.windows=be.windows||{};let Ke=o.names.unicode||{},Ut=o.names.macintosh||{},ye=o.names.windows||{};for(let Pe in be){if(be[Pe]=be[Pe]||{},!be[Pe].uniqueID){let Xt=o.getEnglishName("manufacturer")||"";be[Pe].uniqueID={en:`${Xt}: ${ft}`}}be[Pe].postScriptName||(be[Pe].postScriptName={en:Vt})}be.unicode.preferredFamily||(be.unicode.preferredFamily=Ke.fontFamily||Ut.fontFamily||ye.fontFamily),be.macintosh.preferredFamily||(be.macintosh.preferredFamily=Ut.fontFamily||Ke.fontFamily||ye.fontFamily),be.windows.preferredFamily||(be.windows.preferredFamily=ye.fontFamily||Ke.fontFamily||Ut.fontFamily),be.unicode.preferredSubfamily||(be.unicode.preferredSubfamily=Ke.fontSubfamily||Ut.fontSubfamily||ye.fontSubfamily),be.macintosh.preferredSubfamily||(be.macintosh.preferredSubfamily=Ut.fontSubfamily||Ke.fontSubfamily||ye.fontSubfamily),be.windows.preferredSubfamily||(be.windows.preferredSubfamily=ye.fontSubfamily||Ke.fontSubfamily||Ut.fontSubfamily);let $=[],te=Iu_make(be,$),Q=$.length>0?tr_make($):void 0,ar=Tt_make(o),xo=Pn_make(o.glyphs,{version:o.getEnglishName("version"),fullName:ft,familyName:Be,weightName:xe,postScriptName:Vt,unitsPerEm:o.unitsPerEm,fontBBox:[0,x.yMin,x.ascender,x.advanceWidthMax],topDict:o.tables.cff&&o.tables.cff.topDict||{}}),zn=o.metas&&Object.keys(o.metas).length>0?vt_make(o.metas):void 0,ht=[F,W,Z,K,te,Oe,ar,xo,me];Q&&ht.push(Q);let At={gsub:We,cpal:xf,colr:Qo,stat:Va,avar:Vf,cvar:ns,fvar:bt,gvar:mn,gasp:$u,svg:Hf},Ot={avar:[o.tables.fvar],fvar:[o.names]};for(let Pe in At){let Xt=o.tables[Pe];if(Xt){let ln=At[Pe].make.call(o,Xt,...Ot[Pe]||[]);ln&&ht.push(ln)}}zn&&ht.push(zn);let Qe=$f(ht),an=zu(Qe.encode()),Je=Qe.fields,Io=!1;for(let Pe=0;Pe<Je.length;Pe+=1)if("head table"===Je[Pe].name){Je[Pe].value.checkSumAdjustment=2981146554-an,Io=!0;break}if(!Io)throw new Error("Could not find head table with checkSum to adjust.");return Qe};function Wu(o,s){let a=0,u=o.length-1;for(;a<=u;){let c=a+u>>>1,f=o[c].tag;if(f===s)return c;f<s?a=c+1:u=c-1}return-a-1}function Wf(o,s){let a=0,u=o.length-1;for(;a<=u;){let c=a+u>>>1,f=o[c];if(f===s)return c;f<s?a=c+1:u=c-1}return-a-1}function Ua(o,s){let a,u=0,c=o.length-1;for(;u<=c;){let f=u+c>>>1;a=o[f];let p=a.start;if(p===s)return a;p<s?u=f+1:c=f-1}if(u>0)return a=o[u-1],s>a.end?0:a}function Ba(o,s){this.font=o,this.tableName=s}Ba.prototype={searchTag:Wu,binSearch:Wf,getTable:function(o){let s=this.font.tables[this.tableName];return!s&&o&&(s=this.font.tables[this.tableName]=this.createDefaultTable()),s},getScriptNames:function(){let o=this.getTable();return o?o.scripts.map(function(s){return s.tag}):[]},getDefaultScriptName:function(){let o=this.getTable();if(!o)return;let s=!1;for(let a=0;a<o.scripts.length;a++){let u=o.scripts[a].tag;if("DFLT"===u)return u;"latn"===u&&(s=!0)}return s?"latn":void 0},getScriptTable:function(o,s){let a=this.getTable(s);if(a){let u=a.scripts,c=Wu(a.scripts,o=o||"DFLT");if(c>=0)return u[c].script;if(s){let f={tag:o,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return u.splice(-1-c,0,f),f.script}}},getLangSysTable:function(o,s,a){let u=this.getScriptTable(o,a);if(u){if(!s||"dflt"===s||"DFLT"===s)return u.defaultLangSys;let c=Wu(u.langSysRecords,s);if(c>=0)return u.langSysRecords[c].langSys;if(a){let f={tag:s,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return u.langSysRecords.splice(-1-c,0,f),f.langSys}}},getFeatureTable:function(o,s,a,u){let c=this.getLangSysTable(o,s,u);if(c){let f,p=c.featureIndexes,m=this.font.tables[this.tableName].features;for(let y=0;y<p.length;y++)if(f=m[p[y]],f.tag===a)return f.feature;if(u){let y=m.length;return X.assert(0===y||a>=m[y-1].tag,"Features must be added in alphabetical order."),f={tag:a,feature:{params:0,lookupListIndexes:[]}},m.push(f),p.push(y),f.feature}}},getLookupTables:function(o,s,a,u,c){let f=this.getFeatureTable(o,s,a,c),p=[];if(f){let m,y=f.lookupListIndexes,D=this.font.tables[this.tableName].lookups;for(let b=0;b<y.length;b++)m=D[y[b]],m.lookupType===u&&p.push(m);if(0===p.length&&c){m={lookupType:u,lookupFlag:0,subtables:[],markFilteringSet:void 0};let b=D.length;return D.push(m),y.push(b),[m]}}return p},getGlyphClass:function(o,s){switch(o.format){case 1:return o.startGlyph<=s&&s<o.startGlyph+o.classes.length?o.classes[s-o.startGlyph]:0;case 2:{let a=Ua(o.ranges,s);return a?a.classId:0}}},getCoverageIndex:function(o,s){switch(o.format){case 1:{let a=Wf(o.glyphs,s);return a>=0?a:-1}case 2:{let a=Ua(o.ranges,s);return a?a.index+s-a.start:-1}}},expandCoverage:function(o){if(1===o.format)return o.glyphs;{let s=[],a=o.ranges;for(let u=0;u<a.length;u++){let c=a[u],p=c.end;for(let m=c.start;m<=p;m++)s.push(m)}return s}}};var Ha=Ba;function os(o){Ha.call(this,o,"gpos")}(os.prototype=Ha.prototype).init=function(){let o=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(o)},os.prototype.getKerningValue=function(o,s,a){for(let u=0;u<o.length;u++){let c=o[u].subtables;for(let f=0;f<c.length;f++){let p=c[f],m=this.getCoverageIndex(p.coverage,s);if(!(m<0))switch(p.posFormat){case 1:{let y=p.pairSets[m];for(let D=0;D<y.length;D++){let b=y[D];if(b.secondGlyph===a)return b.value1&&b.value1.xAdvance||0}break}case 2:{let y=this.getGlyphClass(p.classDef1,s),D=this.getGlyphClass(p.classDef2,a),b=p.classRecords[y][D];return b.value1&&b.value1.xAdvance||0}}}}return 0},os.prototype.getKerningTables=function(o,s){if(this.font.tables.gpos)return this.getLookupTables(o,s,"kern",2)};var Ym=os;function Rr(o,s){let a=o.length;if(a!==s.length)return!1;for(let u=0;u<a;u++)if(o[u]!==s[u])return!1;return!0}function Yu(o){return 31===o[0]&&139===o[1]&&8===o[2]}function ja(o){return{x:o.x,y:o.y,onCurve:o.onCurve,lastPointOfContour:o.lastPointOfContour}}function Xu(o){return{glyphIndex:o.glyphIndex,xScale:o.xScale,scale01:o.scale01,scale10:o.scale10,yScale:o.yScale,dx:o.dx,dy:o.dy}}function nn(o){Ha.call(this,o,"gsub")}function ri(o,s,a){let u=o.subtables;for(let c=0;c<u.length;c++){let f=u[c];if(f.substFormat===s)return f}if(a)return u.push(a),a}(nn.prototype=Ha.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},nn.prototype.getSingle=function(o,s,a){let u=[],c=this.getLookupTables(s,a,o,1);for(let f=0;f<c.length;f++){let p=c[f].subtables;for(let m=0;m<p.length;m++){let b,y=p[m],D=this.expandCoverage(y.coverage);if(1===y.substFormat){let S=y.deltaGlyphId;for(b=0;b<D.length;b++){let w=D[b];u.push({sub:w,by:w+S})}}else{let S=y.substitute;for(b=0;b<D.length;b++)u.push({sub:D[b],by:S[b]})}}}return u},nn.prototype.getMultiple=function(o,s,a){let u=[],c=this.getLookupTables(s,a,o,2);for(let f=0;f<c.length;f++){let p=c[f].subtables;for(let m=0;m<p.length;m++){let b,y=p[m],D=this.expandCoverage(y.coverage);for(b=0;b<D.length;b++)u.push({sub:D[b],by:y.sequences[b]})}}return u},nn.prototype.getAlternates=function(o,s,a){let u=[],c=this.getLookupTables(s,a,o,3);for(let f=0;f<c.length;f++){let p=c[f].subtables;for(let m=0;m<p.length;m++){let y=p[m],D=this.expandCoverage(y.coverage),b=y.alternateSets;for(let S=0;S<D.length;S++)u.push({sub:D[S],by:b[S]})}}return u},nn.prototype.getLigatures=function(o,s,a){let u=[],c=this.getLookupTables(s,a,o,4);for(let f=0;f<c.length;f++){let p=c[f].subtables;for(let m=0;m<p.length;m++){let y=p[m],D=this.expandCoverage(y.coverage),b=y.ligatureSets;for(let S=0;S<D.length;S++){let w=D[S],I=b[S];for(let x=0;x<I.length;x++){let M=I[x];u.push({sub:[w].concat(M.components),by:M.ligGlyph})}}}}return u},nn.prototype.addSingle=function(o,s,a,u){let f=ri(this.getLookupTables(a,u,o,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});X.assert(1===f.coverage.format,"Single: unable to modify coverage table format "+f.coverage.format);let p=s.sub,m=this.binSearch(f.coverage.glyphs,p);m<0&&(m=-1-m,f.coverage.glyphs.splice(m,0,p),f.substitute.splice(m,0,0)),f.substitute[m]=s.by},nn.prototype.addMultiple=function(o,s,a,u){X.assert(s.by instanceof Array&&s.by.length>1,'Multiple: "by" must be an array of two or more ids');let f=ri(this.getLookupTables(a,u,o,2,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});X.assert(1===f.coverage.format,"Multiple: unable to modify coverage table format "+f.coverage.format);let p=s.sub,m=this.binSearch(f.coverage.glyphs,p);m<0&&(m=-1-m,f.coverage.glyphs.splice(m,0,p),f.sequences.splice(m,0,0)),f.sequences[m]=s.by},nn.prototype.addAlternate=function(o,s,a,u){let f=ri(this.getLookupTables(a,u,o,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});X.assert(1===f.coverage.format,"Alternate: unable to modify coverage table format "+f.coverage.format);let p=s.sub,m=this.binSearch(f.coverage.glyphs,p);m<0&&(m=-1-m,f.coverage.glyphs.splice(m,0,p),f.alternateSets.splice(m,0,0)),f.alternateSets[m]=s.by},nn.prototype.addLigature=function(o,s,a,u){let c=this.getLookupTables(a,u,o,4,!0)[0],f=c.subtables[0];f||(f={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},c.subtables[0]=f),X.assert(1===f.coverage.format,"Ligature: unable to modify coverage table format "+f.coverage.format);let p=s.sub[0],m=s.sub.slice(1),y={ligGlyph:s.by,components:m},D=this.binSearch(f.coverage.glyphs,p);if(D>=0){let b=f.ligatureSets[D];for(let S=0;S<b.length;S++)if(Rr(b[S].components,m))return;b.push(y)}else D=-1-D,f.coverage.glyphs.splice(D,0,p),f.ligatureSets.splice(D,0,[y])},nn.prototype.getFeature=function(o,s,a){if(/ss\d\d/.test(o))return this.getSingle(o,s,a);switch(o){case"aalt":case"salt":return this.getSingle(o,s,a).concat(this.getAlternates(o,s,a));case"dlig":case"liga":case"rlig":return this.getLigatures(o,s,a);case"ccmp":return this.getMultiple(o,s,a).concat(this.getLigatures(o,s,a));case"stch":return this.getMultiple(o,s,a)}},nn.prototype.add=function(o,s,a,u){if(/ss\d\d/.test(o))return this.addSingle(o,s,a,u);switch(o){case"aalt":case"salt":return"number"==typeof s.by?this.addSingle(o,s,a,u):this.addAlternate(o,s,a,u);case"dlig":case"liga":case"rlig":return this.addLigature(o,s,a,u);case"ccmp":return s.by instanceof Array?this.addMultiple(o,s,a,u):this.addLigature(o,s,a,u)}};var Xf=nn,rn=class{constructor(o){this.defaultValue=255,this.font=o}cpal(){return!(!this.font.tables||!this.font.tables.cpal)&&this.font.tables.cpal}getAll(o){let s=[],a=this.cpal();if(!a)return s;for(let u=0;u<a.colorRecordIndices.length;u++){let c=a.colorRecordIndices[u],f=[];for(let p=c;p<c+a.numPaletteEntries;p++)f.push($o(a.colorRecords[p],o||"hexa"));s.push(f)}return s}toCPALcolor(o){return Array.isArray(o)?o.map(s=>xa(s,"raw")):xa(o,"raw")}fillPalette(o,s=[],a=this.cpal().numPaletteEntries){return o=Number.isInteger(o)?this.get(o,"raw"):o,Object.assign(Array(a).fill(this.defaultValue),this.toCPALcolor(o).concat(this.toCPALcolor(s)))}extend(o){if(this.ensureCPAL(Array(o).fill(this.defaultValue)))return;let s=this.cpal(),a=s.numPaletteEntries+o,u=this.getAll().map(c=>this.fillPalette(c,[],a));s.numPaletteEntries=a,s.colorRecords=this.toCPALcolor(u.flat()),this.updateIndices()}get(o,s="hexa"){return this.getAll(s)[o]||null}getColor(o,s=0,a="hexa"){return Mu(this.font,o,s,a)}setColor(o,s,a=0){o=parseInt(o),a=parseInt(a);let u=this.getAll("raw"),c=u[a];if(!c)throw Error(`paletteIndex ${a} out of range`);let f=this.cpal(),p=f.numPaletteEntries;Array.isArray(s)||(s=[s]),s.length+o>p&&(this.extend(s.length+o-p),u=this.getAll("raw"),c=u[a]);for(let m=0;m<s.length;m++)c[m+o]=this.toCPALcolor(s[m]);f.colorRecords=u.flat(),this.updateIndices()}add(o){if(this.ensureCPAL(o))return;let s=this.cpal(),a=s.numPaletteEntries;o&&o.length?((o=this.toCPALcolor(o)).length>a?this.extend(o.length-a):o.length<a&&(o=this.fillPalette(o)),s.colorRecordIndices.push(s.colorRecords.length),s.colorRecords.push(...o)):(s.colorRecordIndices.push(s.colorRecords.length),s.colorRecords.push(...Array(a).fill(this.defaultValue)))}delete(o){let s=this.getAll("raw");delete s[o];let a=this.cpal();a.colorRecordIndices.pop(),a.colorRecords=s.flat()}deleteColor(o,s){if(o===s)throw Error("replacementIndex cannot be the same as colorIndex");let a=this.cpal(),u=this.getAll("raw"),c=[];if(s>a.numPaletteEntries-1)throw Error(`Replacement index out of range: numPaletteEntries after deletion: ${a.numPaletteEntries-1}, replacementIndex: ${s})`);for(let m=0;m<u.length;m++){let y=u[m].filter((D,b)=>b!==o);c.push(y)}let f=this.font.tables.colr;if(f){let m=f.layerRecords;for(let y=0;y<m.length;y++){let D=m[y].paletteIndex;if(D>o)m[y].paletteIndex-=1;else if(D===o){let b=0;for(let S=0;S<u.length;S++)if(s>o&&s<=o+u[S].length){b++;break}m[y].paletteIndex=s-b}}this.font.tables.colr={...f,layerRecords:m}}let p=c.flat();for(let m=0;m<u.length;m++)a.colorRecordIndices[m]-=m;a.numPaletteEntries=Math.max(0,a.numPaletteEntries-1),a.colorRecords=this.toCPALcolor(p)}ensureCPAL(o){return!this.cpal()&&(o=o&&o.length?this.toCPALcolor(o):[this.defaultValue],this.font.tables.cpal={version:0,numPaletteEntries:o.length,colorRecords:o,colorRecordIndices:[0]},!0)}updateIndices(){let o=this.cpal(),s=Math.ceil(o.colorRecords.length/o.numPaletteEntries);o.colorRecordIndices=[];for(let a=0;a<s;a++)o.colorRecordIndices.push(a*o.numPaletteEntries)}},is="function"==typeof DecompressionStream?function Kf(o){if(Yu(o))return new Response(new Response(o).body.pipeThrough(new DecompressionStream("gzip"))).text();try{return Promise.resolve((new TextDecoder).decode(o))}catch(s){return Promise.reject(s)}}:function on(o){try{return Promise.resolve((new TextDecoder).decode(Yu(o)?function Yf(o){let s=new DataView(o.buffer,o.byteOffset,o.byteLength),a=10,u=o.byteLength-8,c=s.getInt8(3);if(4&c&&(a+=2+s.getUint16(a,!0)),8&c)for(;a<u&&0!==o[a++];);if(16&c)for(;a<u&&0!==o[a++];);if(2&c&&(a+=2),a>=u)throw new Error("Can't find compressed blocks");let f=s.getUint32(s.byteLength-4,!0);return mu(o.subarray(a,u),new Uint8Array(f))}(o):o))}catch(s){return Promise.reject(s)}};function Qu(o){let s=o.indexOf("<svg"),a=o.indexOf(">",s+4)+1;if(/ id=['"]glyph\d+['"]/.test(o.substring(s,a)))return o;let u=o.lastIndexOf("</svg>");return[o.substring(0,a),"<defs>",o.substring(a,u),'</defs><use href="#glyph',"",'"/>',o.substring(u)]}function Wt(o,s,a,u,c){let f;return(s&u)>0?(f=o.parseByte(),s&c||(f=-f),f=a+f):f=(s&c)>0?a:a+o.parseShort(),f}function Ju(o,s,a){let c,f,u=new H.Parser(s,a);if(o._numberOfContours=u.parseShort(),o._xMin=u.parseShort(),o._yMin=u.parseShort(),o._xMax=u.parseShort(),o._yMax=u.parseShort(),o._numberOfContours>0){let p=o.endPointIndices=[];for(let y=0;y<o._numberOfContours;y+=1)p.push(u.parseUShort());o.instructionLength=u.parseUShort(),o.instructions=[];for(let y=0;y<o.instructionLength;y+=1)o.instructions.push(u.parseByte());let m=p[p.length-1]+1;c=[];for(let y=0;y<m;y+=1)if(f=u.parseByte(),c.push(f),(8&f)>0){let D=u.parseByte();for(let b=0;b<D;b+=1)c.push(f),y+=1}if(X.argument(c.length===m,"Bad flags."),p.length>0){let D,y=[];if(m>0){for(let w=0;w<m;w+=1)f=c[w],D={},D.onCurve=!!(1&f),D.lastPointOfContour=p.indexOf(w)>=0,y.push(D);let b=0;for(let w=0;w<m;w+=1)f=c[w],D=y[w],D.x=Wt(u,f,b,2,16),b=D.x;let S=0;for(let w=0;w<m;w+=1)f=c[w],D=y[w],D.y=Wt(u,f,S,4,32),S=D.y}o.points=y}else o.points=[]}else if(0===o.numberOfContours)o.points=[];else{o.isComposite=!0,o.points=[],o.components=[];let p=!0;for(;p;){c=u.parseUShort();let m={glyphIndex:u.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&c)>0?(2&c)>0?(m.dx=u.parseShort(),m.dy=u.parseShort()):m.matchedPoints=[u.parseUShort(),u.parseUShort()]:(2&c)>0?(m.dx=u.parseChar(),m.dy=u.parseChar()):m.matchedPoints=[u.parseByte(),u.parseByte()],(8&c)>0?m.xScale=m.yScale=u.parseF2Dot14():(64&c)>0?(m.xScale=u.parseF2Dot14(),m.yScale=u.parseF2Dot14()):(128&c)>0&&(m.xScale=u.parseF2Dot14(),m.scale01=u.parseF2Dot14(),m.scale10=u.parseF2Dot14(),m.yScale=u.parseF2Dot14()),o.components.push(m),p=!!(32&c)}if(256&c){o.instructionLength=u.parseUShort(),o.instructions=[];for(let m=0;m<o.instructionLength;m+=1)o.instructions.push(u.parseByte())}}}function Nr(o,s){let a=[];for(let u=0;u<o.length;u+=1){let c=o[u];a.push({x:s.xScale*c.x+s.scale10*c.y+s.dx,y:s.scale01*c.x+s.yScale*c.y+s.dy,onCurve:c.onCurve,lastPointOfContour:c.lastPointOfContour})}return a}function Hn(o){let s=new Kn;if(!o)return s;let a=function Qf(o){let s=[],a=[];for(let u=0;u<o.length;u+=1){let c=o[u];a.push(c),c.lastPointOfContour&&(s.push(a),a=[])}return X.argument(0===a.length,"There are still points left in the current contour."),s}(o);for(let u=0;u<a.length;++u){let c=a[u],f=c[c.length-1],p=c[0];if(f.onCurve)s.moveTo(f.x,f.y);else if(p.onCurve)s.moveTo(p.x,p.y);else{let m={x:.5*(f.x+p.x),y:.5*(f.y+p.y)};s.moveTo(m.x,m.y)}for(let m=0;m<c.length;++m)if(f=p,p=c[(m+1)%c.length],f.onCurve)s.lineTo(f.x,f.y);else{let y=p;p.onCurve||(y={x:.5*(f.x+p.x),y:.5*(f.y+p.y)}),s.quadraticCurveTo(f.x,f.y,y.x,y.y)}s.closePath()}return s}function Ga(o,s){if(s.isComposite)for(let a=0;a<s.components.length;a+=1){let u=s.components[a],c=o.get(u.glyphIndex);if(c.getPath(),c.points){let f;if(void 0===u.matchedPoints)f=Nr(c.points,u);else{if(u.matchedPoints[0]>s.points.length-1||u.matchedPoints[1]>c.points.length-1)throw Error("Matched points out of range in "+s.name);let p=s.points[u.matchedPoints[0]],m=c.points[u.matchedPoints[1]],y={xScale:u.xScale,scale01:u.scale01,scale10:u.scale10,yScale:u.yScale,dx:0,dy:0};m=Nr([m],y)[0],y.dx=p.x-m.x,y.dy=p.y-m.y,f=Nr(c.points,y)}s.points=s.points.concat(f)}}return Hn(s.points)}var tc,Cr,nc,za,Jf={getPath:Hn,parse:function ec(o,s,a,u,c){return c.lowMemory?function ue(o,s,a,u){let c=new Jn.GlyphSet(u);return u._push=function(f){let p=a[f];c.push(f,p!==a[f+1]?Jn.ttfGlyphLoader(u,f,Ju,o,s+p,Ga):Jn.glyphLoader(u,f))},c}(o,s,a,u):function $a(o,s,a,u){let c=new Jn.GlyphSet(u);for(let f=0;f<a.length-1;f+=1){let p=a[f];c.push(f,p!==a[f+1]?Jn.ttfGlyphLoader(u,f,Ju,o,s+p,Ga):Jn.glyphLoader(u,f))}return c}(o,s,a,u)}};function R(o){this.font=o,this.getCommands=function(s){return Jf.getPath(s).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function _e(o){return o}function Wa(o){return Math.sign(o)*Math.round(Math.abs(o))}function rc(o){return Math.sign(o)*Math.round(Math.abs(2*o))/2}function Ct(o){return Math.sign(o)*(Math.round(Math.abs(o)+.5)-.5)}function oc(o){return Math.sign(o)*Math.ceil(Math.abs(o))}function oi(o){return Math.sign(o)*Math.floor(Math.abs(o))}var An=function(o){let s=this.srPeriod,a=this.srPhase,c=1;return o<0&&(o=-o,c=-1),o+=this.srThreshold-a,o=Math.trunc(o/s)*s,(o+=a)<0?a*c:o*c},vn={x:1,y:0,axis:"x",distance:function(o,s,a,u){return(a?o.xo:o.x)-(u?s.xo:s.x)},interpolate:function(o,s,a,u){let c,f,p,m,y,D,b;if(!u||u===this)return c=o.xo-s.xo,f=o.xo-a.xo,y=s.x-s.xo,D=a.x-a.xo,p=Math.abs(c),m=Math.abs(f),b=p+m,0===b?void(o.x=o.xo+(y+D)/2):void(o.x=o.xo+(y*m+D*p)/b);c=u.distance(o,s,!0,!0),f=u.distance(o,a,!0,!0),y=u.distance(s,s,!1,!0),D=u.distance(a,a,!1,!0),p=Math.abs(c),m=Math.abs(f),b=p+m,vn.setRelative(o,o,0!==b?(y*m+D*p)/b:(y+D)/2,u,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(o,s,a,u,c){o.x=u&&u!==this?(c?s.xo:s.x)+a*u.x+(o.y-((c?s.yo:s.y)+a*u.y))/u.normalSlope:(c?s.xo:s.x)+a},slope:0,touch:function(o){o.xTouched=!0},touched:function(o){return o.xTouched},untouch:function(o){o.xTouched=!1}},On={x:0,y:1,axis:"y",distance:function(o,s,a,u){return(a?o.yo:o.y)-(u?s.yo:s.y)},interpolate:function(o,s,a,u){let c,f,p,m,y,D,b;if(!u||u===this)return c=o.yo-s.yo,f=o.yo-a.yo,y=s.y-s.yo,D=a.y-a.yo,p=Math.abs(c),m=Math.abs(f),b=p+m,0===b?void(o.y=o.yo+(y+D)/2):void(o.y=o.yo+(y*m+D*p)/b);c=u.distance(o,s,!0,!0),f=u.distance(o,a,!0,!0),y=u.distance(s,s,!1,!0),D=u.distance(a,a,!1,!0),p=Math.abs(c),m=Math.abs(f),b=p+m,On.setRelative(o,o,0!==b?(y*m+D*p)/b:(y+D)/2,u,!0)},normalSlope:0,setRelative:function(o,s,a,u,c){o.y=u&&u!==this?(c?s.yo:s.y)+a*u.y+u.normalSlope*(o.x-((c?s.xo:s.x)+a*u.x)):(c?s.yo:s.y)+a},slope:Number.POSITIVE_INFINITY,touch:function(o){o.yTouched=!0},touched:function(o){return o.yTouched},untouch:function(o){o.yTouched=!1}};function ii(o,s){this.x=o,this.y=s,this.axis=void 0,this.slope=s/o,this.normalSlope=-o/s,Object.freeze(this)}function ss(o,s){let a=Math.sqrt(o*o+s*s);return s/=a,1==(o/=a)&&0===s?vn:0===o&&1===s?On:new ii(o,s)}function jn(o,s,a,u){this.x=this.xo=Math.round(64*o)/64,this.y=this.yo=Math.round(64*s)/64,this.lastPointOfContour=a,this.onCurve=u,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(vn),Object.freeze(On),ii.prototype.distance=function(o,s,a,u){return this.x*vn.distance(o,s,a,u)+this.y*On.distance(o,s,a,u)},ii.prototype.interpolate=function(o,s,a,u){let c,f,p,m,y,D,b;p=u.distance(o,s,!0,!0),m=u.distance(o,a,!0,!0),c=u.distance(s,s,!1,!0),f=u.distance(a,a,!1,!0),y=Math.abs(p),D=Math.abs(m),b=y+D,this.setRelative(o,o,0!==b?(c*D+f*y)/b:(c+f)/2,u,!0)},ii.prototype.setRelative=function(o,s,a,u,c){let D=(u=u||this).normalSlope,b=this.slope,S=o.x,w=o.y;o.x=(b*S-D*((c?s.xo:s.x)+a*u.x)+((c?s.yo:s.y)+a*u.y)-w)/(b-D),o.y=b*(o.x-S)+w},ii.prototype.touch=function(o){o.xTouched=!0,o.yTouched=!0},jn.prototype.nextTouched=function(o){let s=this.nextPointOnContour;for(;!o.touched(s)&&s!==this;)s=s.nextPointOnContour;return s},jn.prototype.prevTouched=function(o){let s=this.prevPointOnContour;for(;!o.touched(s)&&s!==this;)s=s.prevPointOnContour;return s};var st=Object.freeze(new jn(0,0)),rr={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function or(o,s){switch(this.env=o,this.stack=[],this.prog=s,o){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=vn,this.round=Wa}}function ir(o){let s=o.tZone=new Array(o.gZone.length);for(let a=0;a<s.length;a++)s[a]=new jn(0,0)}function Gn(o,s){let f,a=o.prog,u=o.ip,c=1;do{if(f=a[++u],88===f)c++;else if(89===f)c--;else if(64===f)u+=a[u+1]+1;else if(65===f)u+=2*a[u+1]+1;else if(f>=176&&f<=183)u+=f-176+1;else if(f>=184&&f<=191)u+=2*(f-184+1);else if(s&&1===c&&27===f)break}while(c>0);o.ip=u}function ic(o,s){s.fv=s.pv=s.dpv=o}function qa(o,s){s.pv=s.dpv=o}function sc(o,s){s.fv=o}function ac(o,s){let m,y,a=s.stack,u=a.pop(),c=a.pop(),f=s.z2[u],p=s.z1[c];o?(m=f.y-p.y,y=p.x-f.x):(m=p.x-f.x,y=p.y-f.y),s.pv=s.dpv=ss(m,y)}function as(o,s){let m,y,a=s.stack,u=a.pop(),c=a.pop(),f=s.z2[u],p=s.z1[c];o?(m=f.y-p.y,y=p.x-f.x):(m=p.x-f.x,y=p.y-f.y),s.fv=ss(m,y)}function Qa(o){o.stack.pop()}function gc(o,s){let a=s.stack.pop(),u=s.z0[a],c=s.fv,f=s.pv,p=f.distance(u,st);o&&(p=s.round(p)),c.setRelative(u,st,p,f),c.touch(u),s.rp0=s.rp1=a}function dh(o,s){let c,f,p,a=s.z2,u=a.length-2;for(let m=0;m<u;m++)c=a[m],!o.touched(c)&&(f=c.prevTouched(o),f!==c&&(p=c.nextTouched(o),f===p&&o.setRelative(c,c,o.distance(f,f,!1,!0),o,!0),o.interpolate(c,f,p,o)))}function ds(o,s){let a=s.stack,c=(o?s.z0:s.z1)[o?s.rp1:s.rp2],f=s.fv,p=s.pv,m=s.loop,y=s.z2;for(;m--;){let b=y[a.pop()],S=p.distance(c,c,!1,!0);f.setRelative(b,b,S,p),f.touch(b)}s.loop=1}function fh(o,s){let c=(o?s.z0:s.z1)[o?s.rp1:s.rp2],f=s.fv,p=s.pv,m=s.stack.pop(),y=s.z2[s.contours[m]],D=y,b=p.distance(c,c,!1,!0);do{D!==c&&f.setRelative(D,D,b,p),D=D.nextPointOnContour}while(D!==y)}function mc(o,s){let y,c=(o?s.z0:s.z1)[o?s.rp1:s.rp2],f=s.fv,p=s.pv;switch(s.stack.pop()){case 0:y=s.tZone;break;case 1:y=s.gZone;break;default:throw new Error("Invalid zone")}let D,b=p.distance(c,c,!1,!0),S=y.length-2;for(let w=0;w<S;w++)D=y[w],f.setRelative(D,D,b,p)}function ph(o,s){let a=s.stack,u=a.pop()/64,c=a.pop(),f=s.z1[c],m=s.fv;m.setRelative(f,s.z0[s.rp0],u,s.pv),m.touch(f),s.rp1=s.rp0,s.rp2=c,o&&(s.rp0=c)}function tl(o,s){let a=s.stack,u=a.pop(),c=a.pop(),f=s.z0[c],p=s.fv,m=s.pv,y=s.cvt[u],D=m.distance(f,st);o&&(Math.abs(D-y)<s.cvCutIn&&(D=y),D=s.round(D)),p.setRelative(f,st,D,m),0===s.zp0&&(f.xo=f.x,f.yo=f.y),p.touch(f),s.rp0=s.rp1=c}function ps(o,s){let a=s.stack,u=a.pop();a.push(64*s.dpv.distance(s.z2[u],st,o,!1))}function li(o,s){let a=s.stack,u=a.pop(),c=a.pop(),m=s.dpv.distance(s.z0[c],s.z1[u],o,o);s.stack.push(Math.round(64*m))}function ms(o,s){let a=s.stack,u=a.pop(),c=s.fv,f=s.pv,p=s.ppem,m=s.deltaBase+16*(o-1),y=s.deltaShift,D=s.z0;for(let b=0;b<u;b++){let S=a.pop(),w=a.pop();if(m+((240&w)>>4)!==p)continue;let I=(15&w)-8;I>=0&&I++;let x=D[S];c.setRelative(x,x,I*y,f)}}function vs(o,s){let a=s.stack,u=a.pop();a.push(64*s.round(u/64))}function ui(o,s){let a=s.stack,u=a.pop(),c=s.ppem,f=s.deltaBase+16*(o-1),p=s.deltaShift;for(let m=0;m<u;m++){let y=a.pop(),D=a.pop();if(f+((240&D)>>4)!==c)continue;let b=(15&D)-8;b>=0&&b++,s.cvt[y]+=b*p}}function _h(o,s){let m,y,a=s.stack,u=a.pop(),c=a.pop(),f=s.z2[u],p=s.z1[c];o?(m=f.y-p.y,y=p.x-f.x):(m=p.x-f.x,y=p.y-f.y),s.dpv=ss(m,y)}function Vr(o,s){let a=s.stack,u=s.prog,c=s.ip;for(let f=0;f<o;f++)a.push(u[++c]);s.ip=c}function Ur(o,s){let a=s.ip,u=s.prog,c=s.stack;for(let f=0;f<o;f++){let p=u[++a]<<8|u[++a];32768&p&&(p=-(1+(65535^p))),c.push(p)}s.ip=a}function q(o,s,a,u,c,f){let M,F,W,Z,p=f.stack,m=o&&p.pop(),y=p.pop(),b=f.z0[f.rp0],S=f.z1[y],w=f.minDis,I=f.fv,x=f.dpv;F=M=x.distance(S,b,!0,!0),W=F>=0?1:-1,F=Math.abs(F),o&&(Z=f.cvt[m],u&&Math.abs(F-Z)<f.cvCutIn&&(F=Z)),a&&F<w&&(F=w),u&&(F=f.round(F)),I.setRelative(S,b,W*F,x),I.touch(S),f.rp1=f.rp0,f.rp2=y,s&&(f.rp0=y)}R.prototype.exec=function(o,s){if("number"!=typeof s)throw new Error("Point size is not a number!");if(this._errorState>2)return;let a=this.font,u=this._prepState;if(!u||u.ppem!==s){let c=this._fpgmState;if(!c){or.prototype=rr,c=this._fpgmState=new or("fpgm",a.tables.fpgm),c.funcs=[],c.font=a;try{Cr(c)}catch(p){return console.log("Hinting error in FPGM:"+p),void(this._errorState=3)}}or.prototype=c,u=this._prepState=new or("prep",a.tables.prep),u.ppem=s;let f=a.variation&&a.variation.process.getCvarTransform()||a.tables.cvt;if(f){let p=u.cvt=new Array(f.length),m=s/a.unitsPerEm;for(let y=0;y<f.length;y++)p[y]=f[y]*m}else u.cvt=[];try{Cr(u)}catch(p){this._errorState<2&&console.log("Hinting error in PREP:"+p),this._errorState=2}}if(!(this._errorState>1))try{return nc(o,u)}catch(c){return this._errorState<1&&(console.log("Hinting error:"+c),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}},nc=function(o,s){let f,p,m,a=s.ppem/s.font.unitsPerEm,u=a,c=o.components;if(or.prototype=s,c){let y=s.font;p=[],f=[];for(let D=0;D<c.length;D++){let b=c[D],S=y.glyphs.get(b.glyphIndex);m=new or("glyf",S.instructions),za(S,m,a,u);let w=Math.round(b.dx*a),I=Math.round(b.dy*u),x=m.gZone,M=m.contours;for(let W=0;W<x.length;W++){let Z=x[W];Z.xTouched=Z.yTouched=!1,Z.xo=Z.x=Z.x+w,Z.yo=Z.y=Z.y+I}let F=p.length;p.push.apply(p,x);for(let W=0;W<M.length;W++)f.push(M[W]+F)}o.instructions&&!m.inhibitGridFit&&(m=new or("glyf",o.instructions),m.gZone=m.z0=m.z1=m.z2=p,m.contours=f,p.push(new jn(0,0),new jn(Math.round(o.advanceWidth*a),0)),Cr(m),p.length-=2)}else m=new or("glyf",o.instructions),za(o,m,a,u),p=m.gZone;return p},za=function(o,s,a,u){let y,D,b,c=o.points||[],f=c.length,p=s.gZone=s.z0=s.z1=s.z2=[],m=s.contours=[];for(let S=0;S<f;S++)y=c[S],p[S]=new jn(y.x*a,y.y*u,y.lastPointOfContour,y.onCurve);for(let S=0;S<f;S++)y=p[S],D||(D=y,m.push(S)),y.lastPointOfContour?(y.nextPointOnContour=D,D.prevPointOnContour=y,D=void 0):(b=p[S+1],y.nextPointOnContour=b,b.prevPointOnContour=y);s.inhibitGridFit||(p.push(new jn(0,0),new jn(Math.round(o.advanceWidth*a),0)),Cr(s),p.length-=2)},Cr=function(o){let s=o.prog;if(!s)return;let u,a=s.length;for(o.ip=0;o.ip<a;o.ip++){if(u=tc[s[o.ip]],!u)throw new Error("unknown instruction: 0x"+Number(s[o.ip]).toString(16));u(o)}},tc=[ic.bind(void 0,On),ic.bind(void 0,vn),qa.bind(void 0,On),qa.bind(void 0,vn),sc.bind(void 0,On),sc.bind(void 0,vn),ac.bind(void 0,0),ac.bind(void 0,1),as.bind(void 0,0),as.bind(void 0,1),function Ya(o){let s=o.stack,a=s.pop(),u=s.pop();o.pv=o.dpv=ss(u,a)},function lc(o){let s=o.stack,a=s.pop(),u=s.pop();o.fv=ss(u,a)},function Xa(o){let s=o.stack,a=o.pv;s.push(16384*a.x),s.push(16384*a.y)},function nh(o){let s=o.stack,a=o.fv;s.push(16384*a.x),s.push(16384*a.y)},function uc(o){o.fv=o.pv},function Za(o){let s=o.stack,a=s.pop(),u=s.pop(),c=s.pop(),f=s.pop(),p=s.pop(),m=o.z0,y=o.z1,D=m[a],b=m[u],S=y[c],w=y[f],I=o.z2[p],x=D.x,M=D.y,F=b.x,W=b.y,Z=S.x,K=S.y,me=w.x,Oe=w.y,Be=(x-F)*(K-Oe)-(M-W)*(Z-me),xe=x*W-M*F,ft=Z*Oe-K*me;I.x=(xe*(Z-me)-ft*(x-F))/Be,I.y=(xe*(K-Oe)-ft*(M-W))/Be},function cc(o){o.rp0=o.stack.pop()},function dc(o){o.rp1=o.stack.pop()},function fc(o){o.rp2=o.stack.pop()},function hc(o){let s=o.stack.pop();switch(o.zp0=s,s){case 0:o.tZone||ir(o),o.z0=o.tZone;break;case 1:o.z0=o.gZone;break;default:throw new Error("Invalid zone pointer")}},function Ka(o){let s=o.stack.pop();switch(o.zp1=s,s){case 0:o.tZone||ir(o),o.z1=o.tZone;break;case 1:o.z1=o.gZone;break;default:throw new Error("Invalid zone pointer")}},function rh(o){let s=o.stack.pop();switch(o.zp2=s,s){case 0:o.tZone||ir(o),o.z2=o.tZone;break;case 1:o.z2=o.gZone;break;default:throw new Error("Invalid zone pointer")}},function oh(o){let s=o.stack.pop();switch(o.zp0=o.zp1=o.zp2=s,s){case 0:o.tZone||ir(o),o.z0=o.z1=o.z2=o.tZone;break;case 1:o.z0=o.z1=o.z2=o.gZone;break;default:throw new Error("Invalid zone pointer")}},function Lt(o){o.loop=o.stack.pop()},function Pr(o){o.round=Wa},function qe(o){o.round=Ct},function ih(o){let s=o.stack.pop();o.minDis=s/64},function sh(o){Gn(o,!1)},function ah(o){let s=o.stack.pop();o.ip+=s-1},function lh(o){let s=o.stack.pop();o.cvCutIn=s/64},void 0,void 0,function uh(o){let s=o.stack;s.push(s[s.length-1])},Qa,function ls(o){o.stack.length=0},function us(o){let s=o.stack,a=s.pop(),u=s.pop();s.push(a),s.push(u)},function cs(o){let s=o.stack;s.push(s.length)},function ch(o){let s=o.stack,a=s.pop();s.push(s[s.length-a])},function mo(o){let s=o.stack,a=s.pop();s.push(s.splice(s.length-a,1)[0])},void 0,void 0,void 0,function Ja(o){let s=o.stack,a=s.pop(),u=s.pop(),c=o.ip,f=o.prog;o.prog=o.funcs[a];for(let p=0;p<u;p++)Cr(o);o.ip=c,o.prog=f},function pc(o){let s=o.stack.pop(),a=o.ip,u=o.prog;o.prog=o.funcs[s],Cr(o),o.ip=a,o.prog=u},function si(o){if("fpgm"!==o.env)throw new Error("FDEF not allowed here");let a=o.prog,u=o.ip,c=o.stack.pop(),f=u;for(;45!==a[++u];);o.ip=u,o.funcs[c]=a.slice(f+1,u)},void 0,gc.bind(void 0,0),gc.bind(void 0,1),dh.bind(void 0,On),dh.bind(void 0,vn),ds.bind(void 0,0),ds.bind(void 0,1),fh.bind(void 0,0),fh.bind(void 0,1),mc.bind(void 0,0),mc.bind(void 0,1),function hh(o){let s=o.stack,a=o.loop,u=o.fv,c=s.pop()/64,f=o.z2;for(;a--;){let m=f[s.pop()];u.setRelative(m,m,c),u.touch(m)}o.loop=1},function Xm(o){let s=o.stack,c=o.loop,f=o.z0[o.rp1],p=o.z1[o.rp2],m=o.fv,y=o.dpv,D=o.z2;for(;c--;){let S=D[s.pop()];m.interpolate(S,f,p,y),m.touch(S)}o.loop=1},ph.bind(void 0,0),ph.bind(void 0,1),function el(o){let s=o.stack,u=o.z0[o.rp0],c=o.loop,f=o.fv,p=o.pv,m=o.z1;for(;c--;){let D=m[s.pop()];f.setRelative(D,u,0,p),f.touch(D)}o.loop=1},function yc(o){o.round=rc},tl.bind(void 0,0),tl.bind(void 0,1),function ai(o){let s=o.prog,a=o.ip,u=o.stack,c=s[++a];for(let f=0;f<c;f++)u.push(s[++a]);o.ip=a},function vc(o){let s=o.ip,a=o.prog,u=o.stack,c=a[++s];for(let f=0;f<c;f++){let p=a[++s]<<8|a[++s];32768&p&&(p=-(1+(65535^p))),u.push(p)}o.ip=s},function bc(o){let s=o.stack,a=o.store;a||(a=o.store=[]);let u=s.pop();a[s.pop()]=u},function fs(o){let s=o.stack,a=o.store,u=s.pop();s.push(a&&a[u]||0)},function gh(o){let s=o.stack,a=s.pop(),u=s.pop();o.cvt[u]=a/64},function hs(o){let s=o.stack,a=s.pop();s.push(64*o.cvt[a])},ps.bind(void 0,0),ps.bind(void 0,1),void 0,li.bind(void 0,0),li.bind(void 0,1),function Zm(o){o.stack.push(o.ppem)},void 0,function Dc(o){o.autoFlip=!0},void 0,void 0,function Cc(o){let s=o.stack,a=s.pop(),u=s.pop();s.push(u<a?1:0)},function mh(o){let s=o.stack,a=s.pop(),u=s.pop();s.push(u<=a?1:0)},function $n(o){let s=o.stack,a=s.pop(),u=s.pop();s.push(u>a?1:0)},function yh(o){let s=o.stack,a=s.pop(),u=s.pop();s.push(u>=a?1:0)},function gs(o){let s=o.stack,a=s.pop(),u=s.pop();s.push(a===u?1:0)},function nl(o){let s=o.stack,a=s.pop(),u=s.pop();s.push(a!==u?1:0)},function _c(o){let s=o.stack,a=s.pop();s.push(1&Math.trunc(a)?1:0)},function rl(o){let s=o.stack,a=s.pop();s.push(1&Math.trunc(a)?0:1)},function ol(o){o.stack.pop()||Gn(o,!0)},function vh(o){},function wc(o){let s=o.stack,a=s.pop(),u=s.pop();s.push(a&&u?1:0)},function Sc(o){let s=o.stack,a=s.pop(),u=s.pop();s.push(a||u?1:0)},function Ec(o){let s=o.stack,a=s.pop();s.push(a?0:1)},ms.bind(void 0,1),function bh(o){let s=o.stack.pop();o.deltaBase=s},function ys(o){let s=o.stack.pop();o.deltaShift=Math.pow(.5,s)},function Lr(o){let s=o.stack,a=s.pop(),u=s.pop();s.push(u+a)},function Dh(o){let s=o.stack,a=s.pop(),u=s.pop();s.push(u-a)},function xc(o){let s=o.stack,a=s.pop(),u=s.pop();s.push(64*u/a)},function Ic(o){let s=o.stack,a=s.pop(),u=s.pop();s.push(u*a/64)},function yo(o){let s=o.stack,a=s.pop();s.push(Math.abs(a))},function Ch(o){let s=o.stack,a=s.pop();s.push(-a)},function Mt(o){let s=o.stack,a=s.pop();s.push(64*Math.floor(a/64))},function il(o){let s=o.stack,a=s.pop();s.push(64*Math.ceil(a/64))},vs.bind(void 0,0),vs.bind(void 0,1),vs.bind(void 0,2),vs.bind(void 0,3),void 0,void 0,void 0,void 0,function Tc(o){let s=o.stack,a=s.pop(),u=s.pop();o.cvt[u]=a*o.ppem/o.font.unitsPerEm},ms.bind(void 0,2),ms.bind(void 0,3),ui.bind(void 0,1),ui.bind(void 0,2),ui.bind(void 0,3),function vo(o){let a,s=o.stack.pop();switch(o.round=An,192&s){case 0:a=.5;break;case 64:a=1;break;case 128:a=2;break;default:throw new Error("invalid SROUND value")}switch(o.srPeriod=a,48&s){case 0:o.srPhase=0;break;case 16:o.srPhase=.25*a;break;case 32:o.srPhase=.5*a;break;case 48:o.srPhase=.75*a;break;default:throw new Error("invalid SROUND value")}s&=15,o.srThreshold=0===s?0:(s/8-.5)*a},function bo(o){let a,s=o.stack.pop();switch(o.round=An,192&s){case 0:a=Math.sqrt(2)/2;break;case 64:a=Math.sqrt(2);break;case 128:a=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(o.srPeriod=a,48&s){case 0:o.srPhase=0;break;case 16:o.srPhase=.25*a;break;case 32:o.srPhase=.5*a;break;case 48:o.srPhase=.75*a;break;default:throw new Error("invalid S45ROUND value")}s&=15,o.srThreshold=0===s?0:(s/8-.5)*a},void 0,void 0,function Do(o){o.round=_e},void 0,function Mc(o){o.round=oc},function sl(o){o.round=oi},Qa,Qa,void 0,void 0,void 0,void 0,void 0,function Co(o){o.stack.pop()},_h.bind(void 0,0),_h.bind(void 0,1),function wh(o){let s=o.stack,a=s.pop(),u=0;1&a&&(u=35),32&a&&(u|=4096),s.push(u)},void 0,function se(o){let s=o.stack,a=s.pop(),u=s.pop(),c=s.pop();s.push(u),s.push(a),s.push(c)},function Km(o){let s=o.stack,a=s.pop(),u=s.pop();s.push(Math.max(u,a))},function Qm(o){let s=o.stack,a=s.pop(),u=s.pop();s.push(Math.min(u,a))},function Jm(o){o.stack.pop()},function ey(o){let s=o.stack.pop(),a=o.stack.pop();switch(s){case 1:return void(o.inhibitGridFit=!!a);case 2:return void(o.ignoreCvt=!!a);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Vr.bind(void 0,1),Vr.bind(void 0,2),Vr.bind(void 0,3),Vr.bind(void 0,4),Vr.bind(void 0,5),Vr.bind(void 0,6),Vr.bind(void 0,7),Vr.bind(void 0,8),Ur.bind(void 0,1),Ur.bind(void 0,2),Ur.bind(void 0,3),Ur.bind(void 0,4),Ur.bind(void 0,5),Ur.bind(void 0,6),Ur.bind(void 0,7),Ur.bind(void 0,8),q.bind(void 0,0,0,0,0,0),q.bind(void 0,0,0,0,0,1),q.bind(void 0,0,0,0,0,2),q.bind(void 0,0,0,0,0,3),q.bind(void 0,0,0,0,1,0),q.bind(void 0,0,0,0,1,1),q.bind(void 0,0,0,0,1,2),q.bind(void 0,0,0,0,1,3),q.bind(void 0,0,0,1,0,0),q.bind(void 0,0,0,1,0,1),q.bind(void 0,0,0,1,0,2),q.bind(void 0,0,0,1,0,3),q.bind(void 0,0,0,1,1,0),q.bind(void 0,0,0,1,1,1),q.bind(void 0,0,0,1,1,2),q.bind(void 0,0,0,1,1,3),q.bind(void 0,0,1,0,0,0),q.bind(void 0,0,1,0,0,1),q.bind(void 0,0,1,0,0,2),q.bind(void 0,0,1,0,0,3),q.bind(void 0,0,1,0,1,0),q.bind(void 0,0,1,0,1,1),q.bind(void 0,0,1,0,1,2),q.bind(void 0,0,1,0,1,3),q.bind(void 0,0,1,1,0,0),q.bind(void 0,0,1,1,0,1),q.bind(void 0,0,1,1,0,2),q.bind(void 0,0,1,1,0,3),q.bind(void 0,0,1,1,1,0),q.bind(void 0,0,1,1,1,1),q.bind(void 0,0,1,1,1,2),q.bind(void 0,0,1,1,1,3),q.bind(void 0,1,0,0,0,0),q.bind(void 0,1,0,0,0,1),q.bind(void 0,1,0,0,0,2),q.bind(void 0,1,0,0,0,3),q.bind(void 0,1,0,0,1,0),q.bind(void 0,1,0,0,1,1),q.bind(void 0,1,0,0,1,2),q.bind(void 0,1,0,0,1,3),q.bind(void 0,1,0,1,0,0),q.bind(void 0,1,0,1,0,1),q.bind(void 0,1,0,1,0,2),q.bind(void 0,1,0,1,0,3),q.bind(void 0,1,0,1,1,0),q.bind(void 0,1,0,1,1,1),q.bind(void 0,1,0,1,1,2),q.bind(void 0,1,0,1,1,3),q.bind(void 0,1,1,0,0,0),q.bind(void 0,1,1,0,0,1),q.bind(void 0,1,1,0,0,2),q.bind(void 0,1,1,0,0,3),q.bind(void 0,1,1,0,1,0),q.bind(void 0,1,1,0,1,1),q.bind(void 0,1,1,0,1,2),q.bind(void 0,1,1,0,1,3),q.bind(void 0,1,1,1,0,0),q.bind(void 0,1,1,1,0,1),q.bind(void 0,1,1,1,0,2),q.bind(void 0,1,1,1,0,3),q.bind(void 0,1,1,1,1,0),q.bind(void 0,1,1,1,1,1),q.bind(void 0,1,1,1,1,2),q.bind(void 0,1,1,1,1,3)];var ci=R;function di(o){this.char=o,this.state={},this.activeState=null}function Ac(o,s,a){this.contextName=a,this.startIndex=o,this.endOffset=s}function at(o,s,a){this.contextName=o,this.openRange=null,this.ranges=[],this.checkStart=s,this.checkEnd=a}function _t(o,s){this.context=o,this.index=s,this.length=o.length,this.current=o[s],this.backtrack=o.slice(0,s),this.lookahead=o.slice(s+1)}function _r(o){this.eventId=o,this.subscribers=[]}function Sh(o){let s=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];for(let u=0;u<s.length;u++){let c=s[u];Object.defineProperty(this.events,c,{value:new _r(c)})}if(o)for(let u=0;u<s.length;u++){let c=s[u],f=o[c];"function"==typeof f&&this.events[c].subscribe(f)}let a=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];for(let u=0;u<a.length;u++)this.events[a[u]].subscribe(this.updateContextsRanges)}function Se(o){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],Sh.call(this,o)}di.prototype.setState=function(o,s){return this.state[o]=s,this.activeState={key:o,value:this.state[o]},this.activeState},di.prototype.getState=function(o){return this.state[o]||null},Se.prototype.inboundIndex=function(o){return o>=0&&o<this.tokens.length},Se.prototype.composeRUD=function(o){let s=o.map(u=>this[u[0]].apply(this,u.slice(1).concat(!0))),a=u=>"object"==typeof u&&Object.prototype.hasOwnProperty.call(u,"FAIL");if(s.every(a))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:s.filter(a)};this.dispatch("composeRUD",[s.filter(u=>!a(u))])},Se.prototype.replaceRange=function(o,s,a,u){s=null!==s?s:this.tokens.length;let c=a.every(f=>f instanceof di);if(!isNaN(o)&&this.inboundIndex(o)&&c){let f=this.tokens.splice.apply(this.tokens,[o,s].concat(a));return u||this.dispatch("replaceToken",[o,s,a]),[f,a]}return{FAIL:"replaceRange: invalid tokens or startIndex."}},Se.prototype.replaceToken=function(o,s,a){if(!isNaN(o)&&this.inboundIndex(o)&&s instanceof di){let u=this.tokens.splice(o,1,s);return a||this.dispatch("replaceToken",[o,s]),[u[0],s]}return{FAIL:"replaceToken: invalid token or index."}},Se.prototype.removeRange=function(o,s,a){s=isNaN(s)?this.tokens.length:s;let u=this.tokens.splice(o,s);return a||this.dispatch("removeRange",[u,o,s]),u},Se.prototype.removeToken=function(o,s){if(!isNaN(o)&&this.inboundIndex(o)){let a=this.tokens.splice(o,1);return s||this.dispatch("removeToken",[a,o]),a}return{FAIL:"removeToken: invalid token index."}},Se.prototype.insertToken=function(o,s,a){return o.every(u=>u instanceof di)?(this.tokens.splice.apply(this.tokens,[s,0].concat(o)),a||this.dispatch("insertToken",[o,s]),o):{FAIL:"insertToken: invalid token(s)."}},Se.prototype.registerModifier=function(o,s,a){this.events.newToken.subscribe(function(u,c){if(null===s||!0===s.apply(this,[u,c])){let y=a.apply(this,[u,c]);u.setState(o,y)}}),this.registeredModifiers.push(o)},_r.prototype.subscribe=function(o){return"function"==typeof o?this.subscribers.push(o)-1:{FAIL:`invalid '${this.eventId}' event handler`}},_r.prototype.unsubscribe=function(o){this.subscribers.splice(o,1)},_t.prototype.setCurrentIndex=function(o){this.index=o,this.current=this.context[o],this.backtrack=this.context.slice(0,o),this.lookahead=this.context.slice(o+1)},_t.prototype.get=function(o){switch(!0){case 0===o:return this.current;case o<0&&Math.abs(o)<=this.backtrack.length:return this.backtrack.slice(o)[0];case o>0&&o<=this.lookahead.length:return this.lookahead[o-1];default:return null}},Se.prototype.rangeToText=function(o){if(o instanceof Ac)return this.getRangeTokens(o).map(s=>s.char).join("")},Se.prototype.getText=function(){return this.tokens.map(o=>o.char).join("")},Se.prototype.getContext=function(o){return this.registeredContexts[o]||null},Se.prototype.on=function(o,s){let a=this.events[o];return a?a.subscribe(s):null},Se.prototype.dispatch=function(o,s){let a=this.events[o];if(a instanceof _r)for(let u=0;u<a.subscribers.length;u++)a.subscribers[u].apply(this,s||[])},Se.prototype.registerContextChecker=function(o,s,a){if(this.getContext(o))return{FAIL:`context name '${o}' is already registered.`};if("function"!=typeof s)return{FAIL:"missing context start check."};if("function"!=typeof a)return{FAIL:"missing context end check."};let u=new at(o,s,a);return this.registeredContexts[o]=u,this.contextCheckers.push(u),u},Se.prototype.getRangeTokens=function(o){return[].concat(this.tokens.slice(o.startIndex,o.startIndex+o.endOffset))},Se.prototype.getContextRanges=function(o){let s=this.getContext(o);return s?s.ranges:{FAIL:`context checker '${o}' is not registered.`}},Se.prototype.resetContextsRanges=function(){let o=this.registeredContexts;for(let s in o)Object.prototype.hasOwnProperty.call(o,s)&&(o[s].ranges=[])},Se.prototype.updateContextsRanges=function(){this.resetContextsRanges();let o=this.tokens.map(s=>s.char);for(let s=0;s<o.length;s++){let a=new _t(o,s);this.runContextCheck(a)}this.dispatch("updateContextsRanges",[this.registeredContexts])},Se.prototype.setEndOffset=function(o,s){let u=new Ac(this.getContext(s).openRange.startIndex,o,s),c=this.getContext(s).ranges;return u.rangeId=`${s}.${c.length}`,c.push(u),this.getContext(s).openRange=null,u},Se.prototype.runContextCheck=function(o){let s=o.index;for(let a=0;a<this.contextCheckers.length;a++){let u=this.contextCheckers[a],c=u.contextName,f=this.getContext(c).openRange;if(!f&&u.checkStart(o)&&(f=new Ac(s,null,c),this.getContext(c).openRange=f,this.dispatch("contextStart",[c,s])),f&&u.checkEnd(o)){let m=this.setEndOffset(s-f.startIndex+1,c);this.dispatch("contextEnd",[c,m])}}},Se.prototype.tokenize=function(o){this.tokens=[],this.resetContextsRanges();let s=Array.from(o);this.dispatch("start");for(let a=0;a<s.length;a++){let u=s[a],c=new _t(s,a);this.dispatch("next",[c]),this.runContextCheck(c);let f=new di(u);this.tokens.push(f),this.dispatch("newToken",[f,c])}return this.dispatch("end",[this.tokens]),this.tokens};var Br=Se;function sr(o){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(o)}function fi(o){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(o)}function bn(o){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(o)}function bs(o){return/[\u0E00-\u0E7F]/.test(o)}function al(o){return/[A-z]/.test(o)}function Dn(o){this.font=o,this.features={}}function rt(o){this.id=o.id,this.tag=o.tag,this.substitution=o.substitution}function Fn(o,s){if(!o)return-1;switch(s.format){case 1:return s.glyphs.indexOf(o);case 2:{let a=s.ranges;for(let u=0;u<a.length;u++){let c=a[u];if(o>=c.start&&o<=c.end)return c.index+(o-c.start)}break}default:return-1}return-1}function _o(o,s){return-1===Fn(o,s.coverage)?null:o+s.deltaGlyphId}function ty(o,s){let a=Fn(o,s.coverage);return-1===a?null:s.substitute[a]}function Ds(o,s){let a=[];for(let u=0;u<o.length;u++){let c=o[u],f=s.current;f=Array.isArray(f)?f[0]:f;let p=Fn(f,c);-1!==p&&a.push(p)}return a.length!==o.length?-1:a}function xh(o,s){if(o.context.length<s.inputCoverage.length+s.lookaheadCoverage.length+s.backtrackCoverage.length)return[];let u=Ds(s.inputCoverage,o);if(-1===u)return[];if(o.lookahead.length<s.lookaheadCoverage.length)return[];let f=o.lookahead.slice(s.inputCoverage.length-1);for(;f.length&&bn(f[0].char);)f.shift();let p=new _t(f,0),m=Ds(s.lookaheadCoverage,p),y=[].concat(o.backtrack);for(y.reverse();y.length&&bn(y[0].char);)y.shift();if(y.length<s.backtrackCoverage.length)return[];let D=new _t(y,0),b=Ds(s.backtrackCoverage,D),w=[];if(u.length===s.inputCoverage.length&&m.length===s.lookaheadCoverage.length&&b.length===s.backtrackCoverage.length)for(let I=0;I<s.lookupRecords.length;I++){let M=this.getLookupByIndex(s.lookupRecords[I].lookupListIndex);for(let F=0;F<M.subtables.length;F++){let Z,W=M.subtables[F],K=this.getSubstitutionType(M,W);if("71"===K?(K=this.getSubstitutionType(W,W.extension),Z=this.getLookupMethod(W,W.extension),W=W.extension):Z=this.getLookupMethod(M,W),"12"!==K)throw new Error(`Substitution type ${K} is not supported in chaining substitution`);for(let me=0;me<u.length;me++){let Be=Z(o.get(me));Be&&w.push(Be)}}}return w}function Ih(o,s){let u=Fn(o.current,s.coverage);if(-1===u)return null;let c,f=s.ligatureSets[u];for(let p=0;p<f.length;p++){c=f[p];for(let m=0;m<c.components.length&&o.lookahead[m]===c.components[m];m++)if(m===c.components.length-1)return c}return null}function Th(o,s){let a=o.current;if(-1===Fn(a,s.coverage))return null;for(let u of s.ruleSets)for(let c of u){let f=!0;for(let p=0;p<c.input.length;p++)if(o.lookahead[p]!==c.input[p]){f=!1;break}if(f){let p=[];p.push(a);for(let y=0;y<c.input.length;y++)p.push(c.input[y]);let m=(y,D)=>{let{lookupListIndex:b,sequenceIndex:S}=D,{subtables:w}=this.getLookupByIndex(b);for(let I of w)-1!==Fn(y[S],I.coverage)&&(y[S]=I.deltaGlyphId)};for(let y=0;y<c.lookupRecords.length;y++)m(p,c.lookupRecords[y]);return p}}return null}function Mh(o,s){let a=[];for(let u=0;u<s.coverages.length;u++){let c=s.lookupRecords[u],p=o.context[o.index+c.sequenceIndex];if(-1===Fn(p,s.coverages[u]))return null;let m=this.font.tables.gsub.lookups[c.lookupListIndex];for(let y=0;y<m.subtables.length;y++){let D=m.subtables[y],b=Fn(p,D.coverage);if(-1===b)return null;switch(m.lookupType){case 1:a.push(D.substitute[b]);break;case 2:a.push(D.sequences[b])}}}return a}function Ah(o,s){let a=Fn(o,s.coverage);return-1===a?null:s.sequences[a]}Dn.prototype.getDefaultScriptFeaturesIndexes=function(){let o=this.font.tables.gsub.scripts;for(let s=0;s<o.length;s++){let a=o[s];if("DFLT"===a.tag)return a.script.defaultLangSys.featureIndexes}return[]},Dn.prototype.getScriptFeaturesIndexes=function(o){if(!this.font.tables.gsub)return[];if(!o)return this.getDefaultScriptFeaturesIndexes();let s=this.font.tables.gsub.scripts;for(let a=0;a<s.length;a++){let u=s[a];if(u.tag===o&&u.script.defaultLangSys)return u.script.defaultLangSys.featureIndexes;{let c=u.langSysRecords;if(c)for(let f=0;f<c.length;f++){let p=c[f];if(p.tag===o)return p.langSys.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()},Dn.prototype.mapTagsToFeatures=function(o,s){let a={};for(let u=0;u<o.length;u++)a[o[u].tag]=o[u].feature;this.features[s].tags=a},Dn.prototype.getScriptFeatures=function(o){let s=this.features[o];if(Object.prototype.hasOwnProperty.call(this.features,o))return s;let a=this.getScriptFeaturesIndexes(o);if(!a)return null;let u=this.font.tables.gsub;return s=a.map(c=>u.features[c]),this.features[o]=s,this.mapTagsToFeatures(s,o),s},Dn.prototype.getSubstitutionType=function(o,s){return o.lookupType.toString()+s.substFormat.toString()},Dn.prototype.getLookupMethod=function(o,s){let a=this.getSubstitutionType(o,s);switch(a){case"11":return u=>_o.apply(this,[u,s]);case"12":return u=>ty.apply(this,[u,s]);case"63":return u=>xh.apply(this,[u,s]);case"41":return u=>Ih.apply(this,[u,s]);case"21":return u=>Ah.apply(this,[u,s]);case"51":return u=>Th.apply(this,[u,s]);case"53":return u=>Mh.apply(this,[u,s]);default:throw new Error(`substitutionType : ${a} lookupType: ${o.lookupType} - substFormat: ${s.substFormat} is not yet supported`)}},Dn.prototype.lookupFeature=function(o){let s=o.contextParams,a=s.index,u=this.getFeature({tag:o.tag,script:o.script});if(!u)return new Error(`font '${(this.font.names.unicode||this.font.names.windows||this.font.names.macintosh).fullName.en}' doesn't support feature '${o.tag}' for script '${o.script}'.`);let c=this.getFeatureLookups(u),f=[].concat(s.context);for(let p=0;p<c.length;p++){let m=c[p],y=this.getLookupSubtables(m);for(let D=0;D<y.length;D++){let w,I,b=y[D],S=this.getSubstitutionType(m,b);switch("71"===S?(S=this.getSubstitutionType(b,b.extension),w=this.getLookupMethod(b,b.extension),b=b.extension):w=this.getLookupMethod(m,b),S){case"11":I=w(s.current),I&&f.splice(a,1,new rt({id:11,tag:o.tag,substitution:I}));break;case"12":I=w(s.current),I&&f.splice(a,1,new rt({id:12,tag:o.tag,substitution:I}));break;case"63":I=w(s),Array.isArray(I)&&I.length&&f.splice(a,1,new rt({id:63,tag:o.tag,substitution:I}));break;case"41":I=w(s),I&&f.splice(a,1,new rt({id:41,tag:o.tag,substitution:I}));break;case"21":I=w(s.current),I&&f.splice(a,1,new rt({id:21,tag:o.tag,substitution:I}));break;case"51":case"53":I=w(s),Array.isArray(I)&&I.length&&f.splice(a,1,new rt({id:parseInt(S),tag:o.tag,substitution:I}))}s=new _t(f,a),(!Array.isArray(I)||I.length)&&(I=null)}}return f.length?f:null},Dn.prototype.supports=function(o){if(!o.script)return!1;this.getScriptFeatures(o.script);let s=Object.prototype.hasOwnProperty.call(this.features,o.script);if(!o.tag)return s;let a=this.features[o.script].some(u=>u.tag===o.tag);return s&&a},Dn.prototype.getLookupSubtables=function(o){return o.subtables||null},Dn.prototype.getLookupByIndex=function(o){return this.font.tables.gsub.lookups[o]||null},Dn.prototype.getFeatureLookups=function(o){return o.lookupListIndexes.map(this.getLookupByIndex.bind(this))},Dn.prototype.getFeature=function(o){if(!this.font)return{FAIL:"No font was found"};Object.prototype.hasOwnProperty.call(this.features,o.script)||this.getScriptFeatures(o.script);let s=this.features[o.script];return s?s.tags[o.tag]?this.features[o.script].tags[o.tag]:null:{FAIL:`No feature for script ${o.script}`}};var Oh=Dn,ul={startCheck:function ll(o){let s=o.current,a=o.get(-1);return null===a&&sr(s)||!sr(a)&&sr(s)},endCheck:function Cs(o){let s=o.get(1);return null===s||!sr(s)}},ws={startCheck:function _s(o){let s=o.current,a=o.get(-1);return(sr(s)||bn(s))&&!sr(a)},endCheck:function Oc(o){let s=o.get(1);switch(!0){case null===s:return!0;case!sr(s)&&!bn(s):{let a=function Eh(o){return/\s/.test(o)}(s);if(!a)return!0;if(a){let u=!1;if(u=o.lookahead.some(c=>sr(c)||bn(c)),!u)return!0}break}default:return!1}}};function Hr(o,s,a){for(let u=0;u<o.substitution.length;u++){let c=o.substitution[u],f=s[a+u];Array.isArray(c)?c.length?f.setState(o.tag,c[0]):f.setState("deleted",!0):f.setState(o.tag,c)}}var cl={11:function Fh(o,s,a){s[a].setState(o.tag,o.substitution)},12:function Fc(o,s,a){s[a].setState(o.tag,o.substitution)},63:Hr,41:function Ss(o,s,a){let u=s[a];u.setState(o.tag,o.substitution.ligGlyph);let c=o.substitution.components.length;for(let f=0;f<c;f++)u=s[a+f+1],u.setState("deleted",!0)},51:Hr,53:Hr},jr=function kh(o,s,a){o instanceof rt&&cl[o.id]&&cl[o.id](o,s,a)};function wo(o){let s=[].concat(o.backtrack);for(let a=s.length-1;a>=0;a--){let u=s[a],c=fi(u),f=bn(u);if(!c&&!f)return!0;if(c)return!1}return!1}function hi(o){if(fi(o.current))return!1;for(let s=0;s<o.lookahead.length;s++)if(!bn(o.lookahead[s]))return!0;return!1}var ny=function Rh(o){let s="arab",a=this.featuresTags[s],u=this.tokenizer.getRangeTokens(o);if(1===u.length)return;let c=new _t(u.map(p=>p.getState("glyphIndex")),0),f=new _t(u.map(p=>p.char),0);for(let p=0;p<u.length;p++){if(bn(u[p].char))continue;c.setCurrentIndex(p),f.setCurrentIndex(p);let D,y=0;switch(wo(f)&&(y|=1),hi(f)&&(y|=2),y){case 1:D="fina";break;case 2:D="init";break;case 3:D="medi"}if(-1===a.indexOf(D))continue;let b=this.query.lookupFeature({tag:D,script:s,contextParams:c});if(b instanceof Error)console.info(b.message);else for(let S=0;S<b.length;S++){let w=b[S];w instanceof rt&&(jr(w,u,S),c.context[S]=w.substitution)}}};function dl(o,s){return new _t(o.map(u=>u.activeState.value),s||0)}var ry=function Nh(o){let a=this.tokenizer.getRangeTokens(o),u=dl(a);for(let c=0;c<u.context.length;c++){u.setCurrentIndex(c);let f=this.query.lookupFeature({tag:"rlig",script:"arab",contextParams:u});if(f.length){for(let p=0;p<f.length;p++)jr(f[p],a,c);u=dl(a)}}};function pi(o,s){return new _t(o.map(u=>u.activeState.value),s||0)}var Uh=function kc(o){let s="delf",a="ccmp",u=this.tokenizer.getRangeTokens(o),c=pi(u);for(let f=0;f<c.context.length;f++){if(!this.query.getFeature({tag:a,script:s,contextParams:c}))continue;c.setCurrentIndex(f);let p=this.query.lookupFeature({tag:a,script:s,contextParams:c});if(p.length){for(let m=0;m<p.length;m++)jr(p[m],u,f);c=pi(u)}}},Nc={startCheck:function Rc(o){let s=o.current,a=o.get(-1);return null===a&&al(s)||!al(a)&&al(s)},endCheck:function oy(o){let s=o.get(1);return null===s||!al(s)}};function Bh(o,s){return new _t(o.map(u=>u.activeState.value),s||0)}var jh=function Hh(o){let a=this.tokenizer.getRangeTokens(o),u=Bh(a);for(let c=0;c<u.context.length;c++){u.setCurrentIndex(c);let f=this.query.lookupFeature({tag:"liga",script:"latn",contextParams:u});if(f.length){for(let p=0;p<f.length;p++)jr(f[p],a,c);u=Bh(a)}}},sy={startCheck:function fl(o){let s=o.current,a=o.get(-1);return null===a&&bs(s)||!bs(a)&&bs(s)},endCheck:function iy(o){let s=o.get(1);return null===s||!bs(s)}};function Es(o,s){return new _t(o.map(u=>u.activeState.value),s||0)}var ly=function ay(o){let a=this.tokenizer.getRangeTokens(o),u=Es(a,0);for(let c=0;c<u.context.length;c++){u.setCurrentIndex(c);let f=this.query.lookupFeature({tag:"ccmp",script:"thai",contextParams:u});if(f.length){for(let p=0;p<f.length;p++)jr(f[p],a,c);u=Es(a,c)}}};function Gh(o,s){return new _t(o.map(u=>u.activeState.value),s||0)}var cy=function uy(o){let a=this.tokenizer.getRangeTokens(o),u=Gh(a,0);for(let c=0;c<u.context.length;c++){u.setCurrentIndex(c);let f=this.query.lookupFeature({tag:"liga",script:"thai",contextParams:u});if(f.length){for(let p=0;p<f.length;p++)jr(f[p],a,c);u=Gh(a,c)}}};function Pc(o,s){return new _t(o.map(u=>u.activeState.value),s||0)}var hl=function Lc(o){let a=this.tokenizer.getRangeTokens(o),u=Pc(a,0);for(let c=0;c<u.context.length;c++){u.setCurrentIndex(c);let f=this.query.lookupFeature({tag:"rlig",script:"thai",contextParams:u});if(f.length){for(let p=0;p<f.length;p++)jr(f[p],a,c);u=Pc(a,c)}}};function xs(o){if(null===o)return!1;let s=o.codePointAt(0);return s>=6155&&s<=6157||s>=65024&&s<=65039||s>=917760&&s<=917999}var qt={startCheck:function Vc(o){let s=o.current,a=o.get(1);return null===a&&xs(s)||xs(a)},endCheck:function Uc(o){let s=o.get(1);return null===s||!xs(s)}},zh=function $h(o){let s=this.query.font,a=this.tokenizer.getRangeTokens(o);if(a[1].setState("deleted",!0),s.tables.cmap&&s.tables.cmap.varSelectorList){let u=a[0].char.codePointAt(0),c=a[1].char.codePointAt(0),f=s.tables.cmap.varSelectorList[c];if(void 0!==f&&f.nonDefaultUVS){let p=f.nonDefaultUVS.uvsMappings;if(p[u]){let m=p[u].glyphID;void 0!==s.glyphs.glyphs[m]&&a[0].setState("glyphIndex",m)}}}};function Cn(o){this.baseDir=o||"ltr",this.tokenizer=new Br,this.featuresTags={}}function Gr(o){let s=this.contextChecks[`${o}Check`];return this.tokenizer.registerContextChecker(o,s.startCheck,s.endCheck)}function pl(){return Gr.call(this,"ccmpReplacement"),Gr.call(this,"latinWord"),Gr.call(this,"arabicWord"),Gr.call(this,"arabicSentence"),Gr.call(this,"thaiWord"),Gr.call(this,"unicodeVariationSequence"),this.tokenizer.tokenize(this.text)}function Wh(){let o=this.tokenizer.getContextRanges("arabicSentence");for(let s=0;s<o.length;s++){let a=o[s],u=this.tokenizer.getRangeTokens(a);this.tokenizer.replaceRange(a.startIndex,a.endOffset,u.reverse())}}function gi(){if(-1===this.tokenizer.registeredModifiers.indexOf("glyphIndex"))throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function qh(){if(!Object.prototype.hasOwnProperty.call(this.featuresTags,"arab"))return;gi.call(this);let o=this.tokenizer.getContextRanges("arabicWord");for(let s=0;s<o.length;s++)ny.call(this,o[s])}function Bc(){gi.call(this);let o=this.tokenizer.getContextRanges("ccmpReplacement");for(let s=0;s<o.length;s++)Uh.call(this,o[s])}function Yh(){if(!this.hasFeatureEnabled("arab","rlig"))return;gi.call(this);let o=this.tokenizer.getContextRanges("arabicWord");for(let s=0;s<o.length;s++)ry.call(this,o[s])}function Xh(){if(!this.hasFeatureEnabled("latn","liga"))return;gi.call(this);let o=this.tokenizer.getContextRanges("latinWord");for(let s=0;s<o.length;s++)jh.call(this,o[s])}function Yt(){let o=this.tokenizer.getContextRanges("unicodeVariationSequence");for(let s=0;s<o.length;s++)zh.call(this,o[s])}function gl(){gi.call(this);let o=this.tokenizer.getContextRanges("thaiWord");for(let s=0;s<o.length;s++){let a=o[s];this.hasFeatureEnabled("thai","liga")&&cy.call(this,a),this.hasFeatureEnabled("thai","rlig")&&hl.call(this,a),this.hasFeatureEnabled("thai","ccmp")&&ly.call(this,a)}}Cn.prototype.setText=function(o){this.text=o},Cn.prototype.contextChecks={ccmpReplacementCheck:{startCheck:function Ph(o){return 0===o.index&&o.context.length>1},endCheck:function Lh(o){return o.index===o.context.length-1}},latinWordCheck:Nc,arabicWordCheck:ul,arabicSentenceCheck:ws,thaiWordCheck:sy,unicodeVariationSequenceCheck:qt},Cn.prototype.registerFeatures=function(o,s){let a=s.filter(u=>this.query.supports({script:o,tag:u}));this.featuresTags[o]=Object.prototype.hasOwnProperty.call(this.featuresTags,o)?this.featuresTags[o].concat(a):a},Cn.prototype.applyFeatures=function(o,s){if(!o)throw new Error("No valid font was provided to apply features");this.query||(this.query=new Oh(o));for(let a=0;a<s.length;a++){let u=s[a];this.query.supports({script:u.script})&&this.registerFeatures(u.script,u.tags)}},Cn.prototype.registerModifier=function(o,s,a){this.tokenizer.registerModifier(o,s,a)},Cn.prototype.checkContextReady=function(o){return!!this.tokenizer.getContext(o)},Cn.prototype.applyFeaturesToContexts=function(){this.checkContextReady("ccmpReplacement")&&Bc.call(this),this.checkContextReady("arabicWord")&&(qh.call(this),Yh.call(this)),this.checkContextReady("latinWord")&&Xh.call(this),this.checkContextReady("arabicSentence")&&Wh.call(this),this.checkContextReady("thaiWord")&&gl.call(this),this.checkContextReady("unicodeVariationSequence")&&Yt.call(this)},Cn.prototype.hasFeatureEnabled=function(o,s){return-1!==(this.featuresTags[o]||[]).indexOf(s)},Cn.prototype.processText=function(o){(!this.text||this.text!==o)&&(this.setText(o),pl.call(this),this.applyFeaturesToContexts())},Cn.prototype.getBidiText=function(o){return this.processText(o),this.tokenizer.getText()},Cn.prototype.getTextGlyphs=function(o){this.processText(o);let s=[];for(let a=0;a<this.tokenizer.tokens.length;a++){let u=this.tokenizer.tokens[a];if(u.state.deleted)continue;let c=u.activeState.value;s.push(Array.isArray(c)?c[0]:c)}return s};var Hc=Cn;function mi(o){return{fontFamily:{en:o.familyName||" "},fontSubfamily:{en:o.styleName||" "},fullName:{en:o.fullName||o.familyName+" "+o.styleName},postScriptName:{en:o.postScriptName||(o.familyName+o.styleName).replace(/\s/g,"")},designer:{en:o.designer||" "},designerURL:{en:o.designerURL||" "},manufacturer:{en:o.manufacturer||" "},manufacturerURL:{en:o.manufacturerURL||" "},license:{en:o.license||" "},licenseURL:{en:o.licenseURL||" "},version:{en:o.version||"Version 0.1"},description:{en:o.description||" "},copyright:{en:o.copyright||" "},trademark:{en:o.trademark||" "}}}function ce(o){if((o=o||{}).tables=o.tables||{},!o.empty){if(!o.familyName)throw"When creating a new Font object, familyName is required.";if(!o.styleName)throw"When creating a new Font object, styleName is required.";if(!o.unitsPerEm)throw"When creating a new Font object, unitsPerEm is required.";if(!o.ascender)throw"When creating a new Font object, ascender is required.";if(o.descender>0)throw"When creating a new Font object, negative descender value is required.";this.names={},this.names.unicode=mi(o),this.names.macintosh=mi(o),this.names.windows=mi(o),this.unitsPerEm=o.unitsPerEm||1e3,this.ascender=o.ascender,this.descender=o.descender,this.createdTimestamp=o.createdTimestamp,this.italicAngle=o.italicAngle||0,this.weightClass=o.weightClass||0;let s=0;o.fsSelection?s=o.fsSelection:(this.italicAngle<0?s|=this.fsSelectionValues.ITALIC:this.italicAngle>0&&(s|=this.fsSelectionValues.OBLIQUE),this.weightClass>=600&&(s|=this.fsSelectionValues.BOLD),0==s&&(s=this.fsSelectionValues.REGULAR)),(!o.panose||!Array.isArray(o.panose))&&(o.panose=[0,0,0,0,0,0,0,0,0]),this.tables=Object.assign(o.tables,{os2:Object.assign({usWeightClass:o.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:o.widthClass||this.usWidthClasses.MEDIUM,bFamilyType:o.panose[0]||0,bSerifStyle:o.panose[1]||0,bWeight:o.panose[2]||0,bProportion:o.panose[3]||0,bContrast:o.panose[4]||0,bStrokeVariation:o.panose[5]||0,bArmStyle:o.panose[6]||0,bLetterform:o.panose[7]||0,bMidline:o.panose[8]||0,bXHeight:o.panose[9]||0,fsSelection:s},o.tables.os2)})}this.supported=!0,this.glyphs=new Jn.GlyphSet(this,o.glyphs||[]),this.encoding=new zi(this),this.position=new Ym(this),this.substitution=new Xf(this),this.tables=this.tables||{},this.tables=new Proxy(this.tables,{set:(s,a,u)=>(s[a]=u,s.fvar&&(s.gvar||s.cff2)&&!this.variation&&(this.variation=new class{constructor(o){this.font=o,this.process=new class{constructor(o){this.font=o}normalizeCoordTags(o){for(let s in o)if(s.length<4){let a=s.padEnd(4," ");void 0===o[a]&&(o[a]=o[s]),delete o[s]}}getNormalizedCoords(o){o||(o=this.font.variation.get());let s=[];this.normalizeCoordTags(o);for(let a=0;a<this.fvar().axes.length;a++){let u=this.fvar().axes[a],c=o[u.tag];void 0===c&&(c=u.defaultValue),s.push(c<u.defaultValue?(c-u.defaultValue+Number.EPSILON)/(u.defaultValue-u.minValue+Number.EPSILON):(c-u.defaultValue+Number.EPSILON)/(u.maxValue-u.defaultValue+Number.EPSILON))}if(this.avar())for(let a=0;a<this.avar().axisSegmentMaps.length;a++){let u=this.avar().axisSegmentMaps[a];for(let c=0;c<u.axisValueMaps.length;c++){let f=u.axisValueMaps[c];if(c>=1&&s[a]<f.fromCoordinate){let p=u.axisValueMaps[c-1];s[a]=((s[a]-p.fromCoordinate)*(f.toCoordinate-p.toCoordinate)+Number.EPSILON)/(f.fromCoordinate-p.fromCoordinate+Number.EPSILON)+p.toCoordinate;break}}}return s}interpolatePoints(o,s,a){if(0===o.length)return;let u=0;for(;u<o.length;){let c=u,f=u,p=o[f];for(;!p.lastPointOfContour;)p=o[++f];for(;u<=f&&!a[u];)u++;if(u>f)continue;let m=u,y=u;for(u++;u<=f;)a[u]&&(this.deltaInterpolate(y+1,u-1,y,u,s,o),y=u),u++;y===m?this.deltaShift(c,f,y,s,o):(this.deltaInterpolate(y+1,f,y,m,s,o),m>0&&this.deltaInterpolate(c,m-1,y,m,s,o)),u=f+1}}deltaInterpolate(o,s,a,u,c,f){if(o>s)return;let p=["x","y"];for(let y=0;y<p.length;y++){let D=p[y];if(c[a][D]>c[u][D]){var m=a;a=u,u=m}let b=c[a][D],S=c[u][D],w=f[a][D],I=f[u][D];if(b!==S||w===I){let x=b===S?0:(I-w)/(S-b);for(let M=o;M<=s;M++){let F=c[M][D];F<=b?F+=w-b:F>=S?F+=I-S:F=w+(F-b)*x,f[M][D]=F}}}}deltaShift(o,s,a,u,c){let f=c[a].x-u[a].x,p=c[a].y-u[a].y;if(0!==f||0!==p)for(let m=o;m<=s;m++)m!==a&&(c[m].x+=f,c[m].y+=p)}transformComponents(o,s,a,u,c,f){let p=0;for(let m=0;m<o.components.length;m++){let y=o.components[m],D=this.font.glyphs.get(y.glyphIndex),b=Xu(y),S=u.indexOf(m);S>-1&&(b.dx+=Math.round(c.deltas[S]*f),b.dy+=Math.round(c.deltasY[S]*f));let w=Nr(this.getTransform(D,a).points,b);s.splice(p,w.length,...w),p+=D.points.length}}applyTupleVariationStore(o,s,a,u="gvar",c={}){a||(a=this.font.variation.get());let D,f=this.getNormalizedCoords(a),{headers:p,sharedPoints:m}=o,y=this.fvar().axes.length;"gvar"===u?D=s.map(ja):"cvar"===u&&(D=[...s]);for(let b=0;b<p.length;b++){let S=p[b],w=1;for(let x=0;x<y;x++){let M=[0];switch(u){case"gvar":M=S.peakTuple?S.peakTuple:this.gvar().sharedTuples[S.sharedTupleRecordsIndex];break;case"cvar":M=S.peakTuple}if(0!==M[x]){if(0===f[x]){w=0;break}if(S.intermediateStartTuple){if(f[x]<S.intermediateStartTuple[x]||f[x]>S.intermediateEndTuple[x]){w=0;break}w=f[x]<M[x]?w*(f[x]-S.intermediateStartTuple[x]+Number.EPSILON)/(M[x]-S.intermediateStartTuple[x]+Number.EPSILON):w*(S.intermediateEndTuple[x]-f[x]+Number.EPSILON)/(S.intermediateEndTuple[x]-M[x]+Number.EPSILON)}else{if(f[x]<Math.min(0,M[x])||f[x]>Math.max(0,M[x])){w=0;break}w=(w*f[x]+Number.EPSILON)/(M[x]+Number.EPSILON)}}}if(0===w)continue;let I=S.privatePoints.length?S.privatePoints:m;if("gvar"===u&&c.glyph&&c.glyph.isComposite)this.transformComponents(c.glyph,D,a,I,S,w);else if(0===I.length)for(let x=0;x<D.length;x++){let M=D[x];"gvar"===u?D[x]={x:Math.round(M.x+S.deltas[x]*w),y:Math.round(M.y+S.deltasY[x]*w),onCurve:M.onCurve,lastPointOfContour:M.lastPointOfContour}:"cvar"===u&&(D[x]=Math.round(M+S.deltas[x]*w))}else{let x;"gvar"===u?x=D.map(ja):"cvar"===u&&(x=D);let M=Array(s.length).fill(!1);for(let F=0;F<I.length;F++){let W=I[F];if(W<s.length){let Z=x[W];"gvar"===u?(M[W]=!0,Z.x+=S.deltas[F]*w,Z.y+=S.deltasY[F]*w):"cvar"===u&&(D[W]=Math.round(Z+S.deltas[F]*w))}}if("gvar"===u){this.interpolatePoints(x,D,M);for(let F=0;F<s.length;F++){let Z=x[F].y-D[F].y;D[F].x=Math.round(D[F].x+(x[F].x-D[F].x)),D[F].y=Math.round(D[F].y+Z)}}}}return D}getTransform(o,s){Number.isInteger(o)&&(o=this.font.glyphs.get(o));let a=o.getBlendPath,u=!(!o.points||!o.points.length),c=o;if(a||u)if(s||(s=this.font.variation.get()),u){let f=this.gvar()&&this.gvar().glyphVariations[o.index];if(f){let m=this.applyTupleVariationStore(f,o.points,s,"gvar",{glyph:o});c=new lo(Object.assign({},o,{points:m,path:Hn(m)}))}}else if(a){let f=o.getBlendPath(s);c=new lo(Object.assign({},o,{path:f}))}return this.font.tables.hvar&&(o._advanceWidth=typeof o._advanceWidth<"u"?o._advanceWidth:o.advanceWidth,o.advanceWidth=c.advanceWidth=Math.round(o._advanceWidth+this.getVariableAdjustment(c.index,"hvar","advanceWidth",s)),o._leftSideBearing=typeof o._leftSideBearing<"u"?o._leftSideBearing:o.leftSideBearing,o.leftSideBearing=c.leftSideBearing=Math.round(o._leftSideBearing+this.getVariableAdjustment(c.index,"hvar","lsb",s))),c}getCvarTransform(o){let s=this.font.tables.cvt,a=this.cvar();return s&&s.length&&a&&a.headers.length?this.applyTupleVariationStore(a,s,o,"cvar"):s}getVariableAdjustment(o,s,a,u){u=u||this.font.variation.get();let c,f,p=this.font.tables[s];if(!p)throw Error(`trying to get variation adjustment from non-existent table "${p}"`);if(!p.itemVariationStore)throw Error(`trying to get variation adjustment from table "${p}" which does not have an itemVariationStore`);let m=p[a]&&p[a].map.length;if(m){let y=o;y>=m&&(y=m-1),({outerIndex:c,innerIndex:f}=p[a].map[y])}else c=0,f=o;return this.getDelta(p.itemVariationStore,c,f,u)}getDelta(o,s,a,u){if(s>=o.itemVariationSubtables.length)return 0;let c=o.itemVariationSubtables[s];if(a>=c.deltaSets.length)return 0;let f=c.deltaSets[a],p=this.getBlendVector(o,s,u),m=0;for(let y=0;y<c.regionIndexes.length;y++)m+=f[y]*p[y];return m}getBlendVector(o,s,a){a||(a=this.font.variation.get());let u=o.itemVariationSubtables[s],c=this.getNormalizedCoords(a),f=[];for(let p=0;p<u.regionIndexes.length;p++){let m=1,D=o.variationRegions[u.regionIndexes[p]].regionAxes;for(let b=0;b<D.length;b++){let w,S=D[b];w=S.startCoord>S.peakCoord||S.peakCoord>S.endCoord||S.startCoord<0&&S.endCoord>0&&0!==S.peakCoord||0===S.peakCoord?1:c[b]<S.startCoord||c[b]>S.endCoord?0:c[b]===S.peakCoord?1:c[b]<S.peakCoord?(c[b]-S.startCoord+Number.EPSILON)/(S.peakCoord-S.startCoord+Number.EPSILON):(S.endCoord-c[b]+Number.EPSILON)/(S.endCoord-S.peakCoord+Number.EPSILON),m*=w}f[p]=m}return f}avar(){return this.font.tables.avar}cvar(){return this.font.tables.cvar}fvar(){return this.font.tables.fvar}gvar(){return this.font.tables.gvar}hvar(){return this.font.tables.hvar}}(this.font),this.activateDefaultVariation(),this.getTransform=this.process.getTransform.bind(this.process)}activateDefaultVariation(){let o=this.getDefaultInstanceIndex();this.set(o>-1?o:this.getDefaultCoordinates())}getDefaultCoordinates(){return this.fvar().axes.reduce((o,s)=>(o[s.tag]=s.defaultValue,o),{})}getDefaultInstanceIndex(){let o=this.getDefaultCoordinates(),s=this.getInstanceIndex(o);return s<0&&(s=this.fvar().instances.findIndex(a=>a.name&&"Regular"===a.name.en)),s}getInstanceIndex(o){return this.fvar().instances.findIndex(s=>Object.keys(o).every(a=>s.coordinates[a]===o[a]))}getInstance(o){return this.fvar().instances&&this.fvar().instances[o]}set(o){let s;if(Number.isInteger(o)){let a=this.getInstance(o);if(!a)throw Error(`Invalid instance index ${o}`);s={...a.coordinates}}else s=o,this.process.normalizeCoordTags(s);s=Object.assign({},this.font.defaultRenderOptions.variation,s),this.font.defaultRenderOptions=Object.assign({},this.font.defaultRenderOptions,{variation:s})}get(){return Object.assign({},this.font.defaultRenderOptions.variation)}avar(){return this.font.tables.avar}cvar(){return this.font.tables.cvar}fvar(){return this.font.tables.fvar}gvar(){return this.font.tables.gvar}hvar(){return this.font.tables.hvar}}(this)),!0)}),this.palettes=new rn(this),this.layers=new class{constructor(o){this.font=o}ensureCOLR(){return this.font.tables.colr||(this.font.tables.colr={version:0,baseGlyphRecords:[],layerRecords:[]}),this.font}get(o){let s=this.font,a=[],u=s.tables.colr;if(!u||!s.tables.cpal)return a;let f=function qf(o,s,a){let u=0,c=o.length-1,f=null;for(;u<=c;){let p=Math.floor((u+c)/2),m=o[p],y=m[s];if(y<a)u=p+1;else{if(!(y>a)){f=m;break}c=p-1}}return f}(u.baseGlyphRecords,"glyphID",o);if(!f)return a;let p=f.firstLayerIndex,m=f.numLayers;for(let y=0;y<m;y++){let D=u.layerRecords[p+y];a.push({glyph:s.glyphs.get(D.glyphID),paletteIndex:D.paletteIndex})}return a}add(o,s,a){let u=this.get(o);s=Array.isArray(s)?s:[s],void 0===a||a===1/0||a>u.length?a=u.length:a<0&&(a=u.length+1+a%(u.length+1))>=u.length+1&&(a-=u.length+1);let c=[];for(let f=0;f<a;f++){let p=Number.isInteger(u[f].glyph)?u[f].glyph:u[f].glyph.index;c.push({glyphID:p,paletteIndex:u[f].paletteIndex})}for(let f of s){let p=Number.isInteger(f.glyph)?f.glyph:f.glyph.index;c.push({glyphID:p,paletteIndex:f.paletteIndex})}for(let f=a;f<u.length;f++){let p=Number.isInteger(u[f].glyph)?u[f].glyph:u[f].glyph.index;c.push({glyphID:p,paletteIndex:u[f].paletteIndex})}this.updateColrTable(o,c)}setPaletteIndex(o,s,a){let u=this.get(o);u[s]?(u=u.map((c,f)=>({glyphID:c.glyph.index,paletteIndex:f===s?a:c.paletteIndex})),this.updateColrTable(o,u)):console.error("Invalid layer index")}remove(o,s,a=s){let u=this.get(o);u=u.map(c=>({glyphID:c.glyph.index,paletteIndex:c.paletteIndex})),u.splice(s,a-s+1),this.updateColrTable(o,u)}updateColrTable(o,s){this.ensureCOLR();let a=this.font.tables.colr,u=function yn(o,s,a){let u=0,c=o.length-1;for(;u<=c;){let f=Math.floor((u+c)/2),p=o[f];if(p[s]<a)u=f+1;else{if(!(p[s]>a))return f;c=f-1}}return-1}(a.baseGlyphRecords,"glyphID",o);-1===u&&(u=function qu(o,s,a){let u=0,c=o.length,f=(p,m)=>p[s]-m[s];for(;u<c;){let p=u+c>>>1;f(o[p],a)<0?u=p+1:c=p}return o.splice(u,0,a),u}(a.baseGlyphRecords,"glyphID",{glyphID:o,firstLayerIndex:a.layerRecords.length,numLayers:0}));let c=a.baseGlyphRecords[u],f=c.numLayers,p=s.length,m=p-f;if(m>0){let y=s.slice(f).map(D=>({glyphID:D.glyphID,paletteIndex:D.paletteIndex}));a.layerRecords.splice(c.firstLayerIndex+f,0,...y)}else m<0&&a.layerRecords.splice(c.firstLayerIndex+p,-m);for(let y=0;y<Math.min(f,p);y++)a.layerRecords[c.firstLayerIndex+y]={glyphID:s[y].glyphID,paletteIndex:s[y].paletteIndex};if(c.numLayers=p,0!==m)for(let y=0;y<a.baseGlyphRecords.length;y++)y===u||a.baseGlyphRecords[y].firstLayerIndex<c.firstLayerIndex||(a.baseGlyphRecords[y].firstLayerIndex+=m)}}(this),this.svgImages=new class{constructor(o){this.font=o,this.cache=new WeakMap}get(o){let s=this.getOrCreateSvgImageCacheEntry(o);return s&&s.image}getAsync(o){let s=this.getOrCreateSvgImageCacheEntry(o);return s&&s.promise}getOrCreateSvgImageCacheEntry(o){let s=this.font.tables.svg;if(void 0===s)return;let a=s.get(o);if(void 0===a)return;let u=this.cache.get(a);void 0===u&&(u=function Dt(o){return{template:is(o).then(Qu),images:new Map}}(a),this.cache.set(a,u));let c=u.images.get(o);return void 0===c&&(c=function Zf(o,s,a){return{promise:s.then(u=>{let c;"string"==typeof u?c=u:(u[4]=a,c=u.join(""));let f=function go(o,s){let a=(new DOMParser).parseFromString(o,"image/svg+xml").documentElement,u=a.viewBox.baseVal,c=a.width.baseVal,f=a.height.baseVal,p=1,m=1;u.width>0&&u.height>0&&(1===c.unitType?(p=c.valueInSpecifiedUnits/u.width,m=1===f.unitType?f.valueInSpecifiedUnits/u.height:p):1===f.unitType?(m=f.valueInSpecifiedUnits/u.height,p=m):s&&(p=s/u.width,m=s/u.height));let y=document.createElement("div");y.style.position="fixed",y.style.visibility="hidden",y.appendChild(a),document.body.appendChild(y);let D=a.getBBox();document.body.removeChild(y);let b=(D.x-u.x)*p,S=(u.y-D.y)*m,w=D.width*p,I=D.height*m;a.setAttribute("viewBox",[D.x,D.y,D.width,D.height].join(" ")),1!==p&&a.setAttribute("width",w),1!==m&&a.setAttribute("height",I);let x=new Image(w,I);return x.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(a.outerHTML),{leftSideBearing:b,baseline:S,image:x}}(c,o.unitsPerEm);return f.image.decode().then(()=>f)}),image:void 0}}(this.font,u.template,o),c.promise.then(f=>{if(c.image=f,"function"==typeof this.font.onGlyphUpdated)try{this.font.onGlyphUpdated(o)}catch(p){console.error("font.onGlyphUpdated",o,p)}}),u.images.set(o,c)),c}}(this),this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new ci(this):null}})}ce.prototype.hasChar=function(o){return this.encoding.charToGlyphIndex(o)>0},ce.prototype.charToGlyphIndex=function(o){return this.encoding.charToGlyphIndex(o)},ce.prototype.charToGlyph=function(o){let s=this.charToGlyphIndex(o),a=this.glyphs.get(s);return a||(a=this.glyphs.get(0)),a},ce.prototype.updateFeatures=function(o){return this.defaultRenderOptions.features.map(s=>"latn"===s.script?{script:"latn",tags:s.tags.filter(a=>o[a])}:s)},ce.prototype.stringToGlyphIndexes=function(o,s){let a=new Hc;a.registerModifier("glyphIndex",null,f=>this.charToGlyphIndex(f.char));let c=s?this.updateFeatures(s.features):this.defaultRenderOptions.features;return a.applyFeatures(this,c),a.getTextGlyphs(o)},ce.prototype.stringToGlyphs=function(o,s){let a=this.stringToGlyphIndexes(o,s),u=a.length,c=new Array(u),f=this.glyphs.get(0);for(let p=0;p<u;p+=1)c[p]=this.glyphs.get(a[p])||f;return c},ce.prototype.nameToGlyphIndex=function(o){return this.glyphNames.nameToGlyphIndex(o)},ce.prototype.nameToGlyph=function(o){let s=this.nameToGlyphIndex(o),a=this.glyphs.get(s);return a||(a=this.glyphs.get(0)),a},ce.prototype.glyphIndexToName=function(o){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(o):""},ce.prototype.getKerningValue=function(o,s){o=o.index||o,s=s.index||s;let a=this.position.defaultKerningTables;return a?this.position.getKerningValue(a,o,s):this.kerningPairs[o+","+s]||0},ce.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]},{script:"thai",tags:["liga","rlig","ccmp"]}],hinting:!1,usePalette:0,drawLayers:!0,drawSVG:!0},ce.prototype.forEachGlyph=function(o,s,a,u,c,f){s=void 0!==s?s:0,a=void 0!==a?a:0,u=void 0!==u?u:72,c=Object.assign({},this.defaultRenderOptions,c);let y,p=1/this.unitsPerEm*u,m=this.stringToGlyphs(o,c);if(c.kerning){let D=c.script||this.position.getDefaultScriptName();y=this.position.getKerningTables(D,c.language)}for(let D=0;D<m.length;D+=1){let b=m[D];f.call(this,b,s,a,u,c),b.advanceWidth&&(s+=b.advanceWidth*p),c.kerning&&D<m.length-1&&(s+=(y?this.position.getKerningValue(y,b.index,m[D+1].index):this.getKerningValue(b,m[D+1]))*p),c.letterSpacing?s+=c.letterSpacing*u:c.tracking&&(s+=c.tracking/1e3*u)}return s},ce.prototype.getPath=function(o,s,a,u,c){c=Object.assign({},this.defaultRenderOptions,c);let f=new Kn;return f._layers=[],Yo(this,f),f.stroke&&(f.strokeWidth*=1/(f.unitsPerEm||1e3)*u),this.forEachGlyph(o,s,a,u,c,(p,m,y,D)=>{let b=p.getPath(m,y,D,c,this);if(c.drawSVG||c.drawLayers){let S=b._layers;if(S&&S.length){for(let w=0;w<S.length;w++)f._layers.push(S[w]);return}}f.extend(b)}),f},ce.prototype.getPaths=function(o,s,a,u,c){c=Object.assign({},this.defaultRenderOptions,c);let f=[];return this.forEachGlyph(o,s,a,u,c,function(p,m,y,D){let b=p.getPath(m,y,D,c,this);f.push(b)}),f},ce.prototype.getAdvanceWidth=function(o,s,a){return a=Object.assign({},this.defaultRenderOptions,a),this.forEachGlyph(o,0,0,s,a,function(){})},ce.prototype.draw=function(o,s,a,u,c,f){this.getPath(s,a,u,c,f).draw(o)},ce.prototype.drawPoints=function(o,s,a,u,c,f){f=Object.assign({},this.defaultRenderOptions,f),this.forEachGlyph(s,a,u,c,f,function(p,m,y,D){p.drawPoints(o,m,y,D,f,this)})},ce.prototype.drawMetrics=function(o,s,a,u,c,f){f=Object.assign({},this.defaultRenderOptions,f),this.forEachGlyph(s,a,u,c,f,function(p,m,y,D){p.drawMetrics(o,m,y,D)})},ce.prototype.getEnglishName=function(o){let s=(this.names.unicode||this.names.macintosh||this.names.windows)[o];if(s)return s.en},ce.prototype.validate=function(){let o=[],s=this;function a(c,f){c||(console.warn(`[opentype.js] ${f}`),o.push(f))}function u(c){let f=s.getEnglishName(c);a(f&&f.trim().length>0,"No English "+c+" specified.")}if(u("fontFamily"),u("weightName"),u("manufacturer"),u("copyright"),u("version"),a(this.unitsPerEm>0,"No unitsPerEm specified."),this.tables.colr){let c=this.tables.colr.baseGlyphRecords,f=-1;for(let p=0;p<c.length;p++){let m=c[p].glyphID;if(a(f<c[p].glyphID,`baseGlyphs must be sorted by GlyphID in ascending order, but glyphID ${m} comes after ${f}`),f>c[p].glyphID)break;f=m}}return o},ce.prototype.toTables=function(){return qm_fontToTable(this)},ce.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},ce.prototype.toArrayBuffer=function(){let o=this.toTables().encode(),s=new ArrayBuffer(o.length),a=new Uint8Array(s);for(let u=0;u<o.length;u++)a[u]=o[u];return s},ce.prototype.download=function(){console.error("DEPRECATED: platform-specific actions are to be implemented on user-side")},ce.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},ce.prototype.macStyleValues={BOLD:1,ITALIC:2,UNDERLINE:4,OUTLINED:8,SHADOW:16,CONDENSED:32,EXTENDED:64},ce.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},ce.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var So=ce,Zh_parse=function jc(o,s){let a=new H.Parser(o,s),u=a.parseUShort(),c=a.parseUShort();return 1!==u&&console.warn(`Unsupported hvar table version ${u}.${c}`),{version:[u,c],itemVariationStore:a.parsePointer32(function(){return this.parseItemVariationStore()}),advanceWidth:a.parsePointer32(function(){return this.parseDeltaSetIndexMap()}),lsb:a.parsePointer32(function(){return this.parseDeltaSetIndexMap()}),rsb:a.parsePointer32(function(){return this.parseDeltaSetIndexMap()})}},$c=function(){return{coverage:this.parsePointer(A.coverage),attachPoints:this.parseList(A.pointer(A.uShortList))}},Kh=function(){var o=this.parseUShort();return X.argument(1===o||2===o||3===o,"Unsupported CaretValue table version."),1===o?{coordinate:this.parseShort()}:2===o?{pointindex:this.parseShort()}:3===o?{coordinate:this.parseShort()}:void 0},zc=function(){return this.parseList(A.pointer(Kh))},Qh=function(){return{coverage:this.parsePointer(A.coverage),ligGlyphs:this.parseList(A.pointer(zc))}},Wc=function(){return this.parseUShort(),this.parseList(A.pointer(A.coverage))},ep_parse=function Jh(o,s){let a=new A(o,s=s||0),u=a.parseVersion(1);X.argument(1===u||1.2===u||1.3===u,"Unsupported GDEF table version.");var c={version:u,classDef:a.parsePointer(A.classDef),attachList:a.parsePointer($c),ligCaretList:a.parsePointer(Qh),markAttachClassDef:a.parsePointer(A.classDef)};return u>=1.2&&(c.markGlyphSets=a.parsePointer(Wc)),c},sn=new Array(10);sn[1]=function(){let o=this.offset+this.relativeOffset,s=this.parseUShort();return 1===s?{posFormat:1,coverage:this.parsePointer(A.coverage),value:this.parseValueRecord()}:2===s?{posFormat:2,coverage:this.parsePointer(A.coverage),values:this.parseValueRecordList()}:void X.assert(!1,"0x"+o.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},sn[2]=function(){let o=this.offset+this.relativeOffset,s=this.parseUShort();X.assert(1===s||2===s,"0x"+o.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");let a=this.parsePointer(A.coverage),u=this.parseUShort(),c=this.parseUShort();if(1===s)return{posFormat:s,coverage:a,valueFormat1:u,valueFormat2:c,pairSets:this.parseList(A.pointer(A.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(u),value2:this.parseValueRecord(c)}})))};if(2===s){let f=this.parsePointer(A.classDef),p=this.parsePointer(A.classDef),m=this.parseUShort(),y=this.parseUShort();return{posFormat:s,coverage:a,valueFormat1:u,valueFormat2:c,classDef1:f,classDef2:p,class1Count:m,class2Count:y,classRecords:this.parseList(m,A.list(y,function(){return{value1:this.parseValueRecord(u),value2:this.parseValueRecord(c)}}))}}},sn[3]=function(){return{error:"GPOS Lookup 3 not supported"}},sn[4]=function(){return{error:"GPOS Lookup 4 not supported"}},sn[5]=function(){return{error:"GPOS Lookup 5 not supported"}},sn[6]=function(){return{error:"GPOS Lookup 6 not supported"}},sn[7]=function(){return{error:"GPOS Lookup 7 not supported"}},sn[8]=function(){return{error:"GPOS Lookup 8 not supported"}},sn[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);var o,np_parse=function ml(o,s){let a=new A(o,s=s||0),u=a.parseVersion(1);return X.argument(1===u||1.1===u,"Unsupported GPOS table version "+u),1===u?{version:u,scripts:a.parseScriptList(),features:a.parseFeatureList(),lookups:a.parseLookupList(sn)}:{version:u,scripts:a.parseScriptList(),features:a.parseFeatureList(),lookups:a.parseLookupList(sn),variations:a.parseFeatureVariationsList()}},qc_parse=function vl(o,s){let a=new H.Parser(o,s),u=a.parseUShort();if(0===u)return function rp(o){let s={};o.skip("uShort");let a=o.parseUShort();X.argument(0===a,"Unsupported kern sub-table version."),o.skip("uShort",2);let u=o.parseUShort();o.skip("uShort",3);for(let c=0;c<u;c+=1){let f=o.parseUShort(),p=o.parseUShort(),m=o.parseShort();s[f+","+p]=m}return s}(a);if(1===u)return function yl(o){let s={};o.skip("uShort"),o.parseULong()>1&&console.warn("Only the first kern subtable is supported."),o.skip("uLong");let a=255&o.parseUShort();if(o.skip("uShort"),0===a){let u=o.parseUShort();o.skip("uShort",3);for(let c=0;c<u;c+=1){let f=o.parseUShort(),p=o.parseUShort(),m=o.parseShort();s[f+","+p]=m}}return s}(a);throw new Error("Unsupported kern table version ("+u+").")},bl_parse=function Eo(o,s,a,u){let c=new H.Parser(o,s),f=u?c.parseUShort:c.parseULong,p=[];for(let m=0;m<a+1;m+=1){let y=f.call(c);u&&(y*=2),p.push(y)}return p};function Dl(o,s){let a=[],u=12;for(let c=0;c<s;c+=1){let f=H.getTag(o,u),p=H.getULong(o,u+4),m=H.getULong(o,u+8),y=H.getULong(o,u+12);a.push({tag:f,checksum:p,offset:m,length:y,compression:!1}),u+=16}return a}function Ee(o,s){if("WOFF"===s.compression){let a=new Uint8Array(o.buffer,s.offset+2,s.compressedLength-2),u=new Uint8Array(s.length);if(mu(a,u),u.byteLength!==s.length)throw new Error("Decompression error: "+s.tag+" decompressed length doesn't match recorded length");return{data:new DataView(u.buffer,0),offset:0}}return{data:o,offset:s.offset}}function ip(o,s={}){let a,u,c=new So({empty:!0});o.constructor!==ArrayBuffer&&(o=new Uint8Array(o).buffer);let p,b,S,w,I,x,M,F,W,Z,K,me,Oe,Be,xe,ft,Vt,be,Ke,f=new DataView(o,0),m=[],y=H.getTag(f,0);if("\0\x01\0\0"===y||"true"===y||"typ1"===y)c.outlinesFormat="truetype",p=H.getUShort(f,4),m=Dl(f,p);else if("OTTO"===y)c.outlinesFormat="cff",p=H.getUShort(f,4),m=Dl(f,p);else{if("wOFF"!==y){if("wOF2"===y)throw new Error("WOFF2 require an external decompressor library, see examples at: https://github.com/opentypejs/opentype.js/issues/183#issuecomment-1147228025");throw new Error("Unsupported OpenType signature "+y)}{let $=H.getTag(f,4);if("\0\x01\0\0"===$)c.outlinesFormat="truetype";else{if("OTTO"!==$)throw new Error("Unsupported OpenType flavor "+y);c.outlinesFormat="cff"}p=H.getUShort(f,12),m=function op(o,s){let a=[],u=44;for(let c=0;c<s;c+=1){let D,f=H.getTag(o,u),p=H.getULong(o,u+4),m=H.getULong(o,u+8),y=H.getULong(o,u+12);D=m<y&&"WOFF",a.push({tag:f,offset:p,compression:D,compressedLength:m,length:y}),u+=20}return a}(f,p)}}for(let $=0;$<p;$+=1){let Q,te=m[$];switch(te.tag){case"avar":F=te;break;case"cmap":Q=Ee(f,te),c.tables.cmap=ke_parse(Q.data,Q.offset),c.encoding=new _f(c.tables.cmap);break;case"cvt ":Q=Ee(f,te),Ke=new H.Parser(Q.data,Q.offset),c.tables.cvt=Ke.parseShortList(te.length/2);break;case"fvar":w=te;break;case"STAT":I=te;break;case"gvar":x=te;break;case"cvar":M=te;break;case"fpgm":Q=Ee(f,te),Ke=new H.Parser(Q.data,Q.offset),c.tables.fpgm=Ke.parseByteList(te.length);break;case"head":Q=Ee(f,te),c.tables.head=Rf_parse(Q.data,Q.offset),c.unitsPerEm=c.tables.head.unitsPerEm,a=c.tables.head.indexToLocFormat;break;case"hhea":Q=Ee(f,te),c.tables.hhea=Ie_parse(Q.data,Q.offset),c.ascender=c.tables.hhea.ascender,c.descender=c.tables.hhea.descender,c.numberOfHMetrics=c.tables.hhea.numberOfHMetrics;break;case"HVAR":Be=te;break;case"hmtx":Oe=te;break;case"ltag":Q=Ee(f,te),u=tr_parse(Q.data,Q.offset);break;case"COLR":Q=Ee(f,te),c.tables.colr=Qo.parse(Q.data,Q.offset);break;case"CPAL":Q=Ee(f,te),c.tables.cpal=xf.parse(Q.data,Q.offset);break;case"maxp":Q=Ee(f,te),c.tables.maxp=Na_parse(Q.data,Q.offset),c.numGlyphs=c.tables.maxp.numGlyphs;break;case"name":Vt=te;break;case"OS/2":Q=Ee(f,te),c.tables.os2=xt_parse(Q.data,Q.offset);break;case"post":Q=Ee(f,te),c.tables.post=Tt_parse(Q.data,Q.offset),c.glyphNames=new j(c.tables.post);break;case"prep":Q=Ee(f,te),Ke=new H.Parser(Q.data,Q.offset),c.tables.prep=Ke.parseByteList(te.length);break;case"glyf":W=te;break;case"loca":ft=te;break;case"CFF ":b=te;break;case"CFF2":S=te;break;case"kern":xe=te;break;case"GDEF":Z=te;break;case"GPOS":K=te;break;case"GSUB":me=te;break;case"meta":be=te;break;case"gasp":try{Q=Ee(f,te),c.tables.gasp=$u.parse(Q.data,Q.offset)}catch(ar){console.warn("Failed to parse gasp table, skipping."),console.warn(ar)}break;case"SVG ":Q=Ee(f,te),c.tables.svg=Hf.parse(Q.data,Q.offset)}}let Ut=Ee(f,Vt);if(c.tables.name=Iu_parse(Ut.data,Ut.offset,u),c.names=c.tables.name,W&&ft){let $=0===a,te=Ee(f,ft),Q=bl_parse(te.data,te.offset,c.numGlyphs,$),ar=Ee(f,W);c.glyphs=Jf.parse(ar.data,ar.offset,Q,c,s)}else if(b){let $=Ee(f,b);Pn_parse($.data,$.offset,c,s)}else{if(!S)throw new Error("Font doesn't contain TrueType, CFF or CFF2 outlines.");{let $=Ee(f,S);Pn_parse($.data,$.offset,c,s)}}let ye=Ee(f,Oe);if(Vn_parse(c,ye.data,ye.offset,c.numberOfHMetrics,c.numGlyphs,c.glyphs,s),function Te(o,s){s.lowMemory?function ae(o){o._IndexToUnicodeMap={};let s=o.tables.cmap.glyphIndexMap,a=Object.keys(s);for(let u=0;u<a.length;u+=1){let c=a[u],f=s[c];void 0===o._IndexToUnicodeMap[f]?o._IndexToUnicodeMap[f]={unicodes:[parseInt(c)]}:o._IndexToUnicodeMap[f].unicodes.push(parseInt(c))}}(o):function Wi(o){let s,a=o.tables.cmap.glyphIndexMap,u=Object.keys(a);for(let c=0;c<u.length;c+=1){let f=u[c];s=o.glyphs.get(a[f]),s.addUnicode(parseInt(f))}for(let c=0;c<o.glyphs.length;c+=1)s=o.glyphs.get(c),o.cffEncoding?s.name=o.cffEncoding.charset[c]:o.glyphNames.names&&(s.name=o.glyphNames.glyphIndexToName(c))}(o)}(c,s),xe){let $=Ee(f,xe);c.kerningPairs=qc_parse($.data,$.offset)}else c.kerningPairs={};if(Z){let $=Ee(f,Z);c.tables.gdef=ep_parse($.data,$.offset)}if(K){let $=Ee(f,K);c.tables.gpos=np_parse($.data,$.offset),c.position.init()}if(me){let $=Ee(f,me);c.tables.gsub=We.parse($.data,$.offset)}if(w){let $=Ee(f,w);c.tables.fvar=bt.parse($.data,$.offset,c.names)}if(I){let $=Ee(f,I);c.tables.stat=Va.parse($.data,$.offset,c.tables.fvar)}if(x){w||console.warn("This font provides a gvar table, but no fvar table, which is required for variable fonts."),W||console.warn("This font provides a gvar table, but no glyf table. Glyph variation only works with TrueType outlines.");let $=Ee(f,x);c.tables.gvar=mn.parse($.data,$.offset,c.tables.fvar,c.glyphs)}if(M){w||console.warn("This font provides a cvar table, but no fvar table, which is required for variable fonts."),c.tables.cvt||console.warn("This font provides a cvar table, but no cvt table which could be made variable."),W||console.warn("This font provides a gvar table, but no glyf table. Glyph variation only works with TrueType outlines.");let $=Ee(f,M);c.tables.cvar=ns.parse($.data,$.offset,c.tables.fvar,c.tables.cvt||[])}if(F){w||console.warn("This font provides an avar table, but no fvar table, which is required for variable fonts.");let $=Ee(f,F);c.tables.avar=Vf.parse($.data,$.offset,c.tables.fvar)}if(Be){w||console.warn("This font provides an HVAR table, but no fvar table, which is required for variable fonts."),Oe||console.warn("This font provides an HVAR table, but no hmtx table to vary.");let $=Ee(f,Be);c.tables.hvar=Zh_parse($.data,$.offset,c.tables.fvar)}if(be){let $=Ee(f,be);c.tables.meta=vt_parse($.data,$.offset),c.metas=c.tables.meta}return c.palettes=new rn(c),c}function sp(){console.error("DEPRECATED! migrate to: opentype.parse(buffer, opt) See: https://github.com/opentypejs/opentype.js/issues/675")}function ap(){console.error('DEPRECATED! migrate to: opentype.parse(require("fs").readFileSync(url), opt)')}return o=ta,((o,s,a,u)=>{if(s&&"object"==typeof s||"function"==typeof s)for(let c of au(s))!lu.call(o,c)&&undefined!==c&&Ar(o,c,{get:()=>s[c],enumerable:!(u=Ft(s,c))||u.enumerable});return o})(Ar({},"__esModule",{value:!0}),o)})();typeof self<"u"&&self,void 0!==(Oi="function"==typeof(De=()=>({...Fi,default:Fi}))?De.call(ea,su,ea,Ai):De)&&(Ai.exports=Oi)}},Ai=>{Ai(Ai.s=639)}]);